{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/guards/auth.guard.ts","./src/app/routes.ts","./src/app/services/api-service/api.commands.ts","./src/app/services/api-service/api.packets.ts","./src/app/services/api-service/api.service.ts","./src/app/services/api-service/api.socket.ts","./src/app/services/compiler-service/compiler-service-driver.ts","./src/app/services/compiler-service/compiler-service.service.ts","./src/app/services/compiler-service/compiler-service.types.ts","./src/app/services/config-service/config.service.ts","./src/app/services/connection-manager-service/connection-manager.service.ts","./src/app/services/fs-service/fs.service.ts","./src/app/services/fs-service/fs.service.types.ts","./src/app/services/github-api-service/github-api.service.ts","./src/app/services/hotkeys-service/hotkeys.service.ts","./src/app/services/notification-mananger-service/notification-manager.service.ts","./src/app/services/problem-manager-service/problem-manager.service.ts","./src/app/services/problem-manager-service/problem-manager.types.ts","./src/app/services/project-manager-service/project-manager.service.ts","./src/app/services/project-manager-service/project-manager.types.ts","./src/app/services/python-compiler-service/python-compiler.driver.ts","./src/app/services/python-compiler-service/python-compiler.examples.ts","./src/app/services/python-compiler-service/python-compiler.types.ts","./src/app/services/terminal-api-service/terminal-api.service.ts","./src/app/services/theme-service/theme.service.ts","./src/app/services/tutorial-service/tutorial.service.ts","./src/app/views/connect-view/connect-view.component.ts","./src/app/views/connect-view/connect-view.component.html","./src/app/views/demo-view/demo-view.ts","./src/app/views/demo-view/demo-view.component.html","./src/app/views/home-view/home-view.component.ts","./src/app/views/home-view/home-view.component.html","./src/app/views/select-problem-view/select-problem-view.component.ts","./src/app/views/select-problem-view/select-problem-view.component.html","./src/app/widgets/code-editor/code-editor.module.ts","./src/app/widgets/code-editor/code-editor/code-editor.component.ts","./src/app/widgets/code-editor/code-editor/code-editor.component.html","./src/app/widgets/code-editor/execbar-widget/execbar-widget.component.ts","./src/app/widgets/code-editor/execbar-widget/execbar-widget.component.html","./src/app/widgets/code-editor/file-editor-widget/file-editor-widget.component.ts","./src/app/widgets/code-editor/file-editor-widget/file-editor-widget.component.html","./src/app/widgets/code-editor/file-explorer-widget/file-explorer-widget.component.ts","./src/app/widgets/code-editor/file-explorer-widget/file-explorer-widget.component.html","./src/app/widgets/code-editor/log-api-widget/log-api-widget.component.ts","./src/app/widgets/code-editor/log-api-widget/log-api-widget.component.html","./src/app/widgets/code-editor/monaco-editor-widget/monaco-editor-widget.component.ts","./src/app/widgets/code-editor/monaco-editor-widget/monaco-editor-widget.component.html","./src/app/widgets/code-editor/output-widget/output-widget.component.ts","./src/app/widgets/code-editor/output-widget/output-widget.component.html","./src/app/widgets/code-editor/problem-widget/problem-widget.component.ts","./src/app/widgets/code-editor/problem-widget/problem-widget.component.html","./src/app/widgets/code-editor/terminal-widget/terminal-widget.component.ts","./src/app/widgets/code-editor/terminal-widget/terminal-widget.component.html","./src/app/widgets/topbar/topbar-widget/topbar-widget.component.ts","./src/app/widgets/topbar/topbar-widget/topbar-widget.component.html","./src/app/widgets/topbar/topbar.module.ts","./src/app/widgets/tutorial/tutorial.component.ts","./src/app/widgets/tutorial/tutorial.component.html","./src/environments/environment.ts","./src/main.ts","ignored|/home/runner/work/TALightDesktop/TALightDesktop/node_modules/tar-web|fs"],"sourcesContent":["\nimport { Component } from '@angular/core';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n}\n","<link rel=\"preload\" href=\"https://alcdn.msauth.net/browser/2.13.1/js/msal-browser.min.js\" as=\"script\">\n\n\n<div class=\"tal-page-container\">\n  <div class=\"tal-page-tutorial\">\n    <tal-tutorial></tal-tutorial>\n  </div>\n  <div class=\"tal-page-topbar\">\n    <tal-topbar-widget></tal-topbar-widget>\n  </div>\n  <div class=\"tal-page-content\">\n    <router-outlet></router-outlet>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouterModule } from '@angular/router';\n\nimport { AppComponent } from './app.component';\nimport { routes } from './routes';\nimport { HomeViewComponent } from './views/home-view/home-view.component';\nimport { ConnectViewComponent } from './views/connect-view/connect-view.component';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { InputSwitchModule } from 'primeng/inputswitch';\nimport { DropdownModule } from 'primeng/dropdown';\nimport { FileUploadModule } from 'primeng/fileupload';\nimport { TooltipModule } from 'primeng/tooltip';\nimport { ScrollPanelModule } from 'primeng/scrollpanel';\nimport { SelectButtonModule } from 'primeng/selectbutton';\nimport { SplitterModule } from 'primeng/splitter';\nimport { MonacoEditorModule } from 'ngx-monaco-editor-v2';\nimport { CodeEditorModule } from './widgets/code-editor/code-editor.module';\nimport { SelectProblemViewComponent } from './views/select-problem-view/select-problem-view.component';\nimport { RadioButtonModule } from 'primeng/radiobutton';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { TopbarModule } from './widgets/topbar/topbar.module';\nimport { HttpClientModule } from '@angular/common/http';\nimport { TutorialComponent } from './widgets/tutorial/tutorial.component';\nimport { TabViewModule } from 'primeng/tabview';\nimport { TabMenuModule } from 'primeng/tabmenu';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HomeViewComponent,\n    ConnectViewComponent,\n    SelectProblemViewComponent,\n    TutorialComponent,\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    MonacoEditorModule.forRoot(),\n    RouterModule.forRoot(routes),\n    FormsModule,\n    InputTextModule,\n    InputSwitchModule,\n    DropdownModule,\n    FileUploadModule,\n    FormsModule,\n    InputTextModule,\n    TooltipModule,\n    ScrollPanelModule,\n    SelectButtonModule,\n    SplitterModule,\n    RadioButtonModule,\n    RadioButtonModule,\n    CodeEditorModule,\n    TopbarModule,\n    TabViewModule,\n    HttpClientModule,\n    TabMenuModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { ConnectionManagerService } from '../services/connection-manager-service/connection-manager.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n  constructor(\n    private readonly connectionManagerService: ConnectionManagerService,\n    private readonly router: Router,\n  ) { }\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    const isConnected: boolean = this.connectionManagerService.isConnected;\n\n    if (!isConnected) {\n      //this.router.navigate(['/connect']);\n    }\n    return true;\n    return isConnected;\n  }\n\n}\n","import { Routes } from '@angular/router';\nimport { AuthGuard } from './guards/auth.guard';\nimport { ConnectViewComponent } from './views/connect-view/connect-view.component';\nimport { HomeViewComponent } from './views/home-view/home-view.component';\nimport { SelectProblemViewComponent } from './views/select-problem-view/select-problem-view.component';\nimport { DemoViewComponent } from './views/demo-view/demo-view';\n\nexport const routes: Routes = [\n    /*\n    {\n        path: '',\n        redirectTo: '/home',\n        pathMatch: 'full'\n    },\n    {\n        path: 'home',\n        canActivate: [AuthGuard],\n        component: HomeViewComponent\n    },\n    */\n\n    {\n        path: '',\n        canActivate: [AuthGuard],\n        component: HomeViewComponent\n    },\n\n    /*\n    {\n        path: 'connect',\n        component: ConnectViewComponent\n    },\n\n    {\n        path: 'select-problem',\n        component: SelectProblemViewComponent\n    },\n    */\n    {\n        path: 'demo',\n        component: DemoViewComponent\n    },\n];","import { TALightSocket } from \"./api.socket\";\nimport { Packets } from \"./api.packets\";\nimport { sha256 } from \"hash-wasm\";\nvar JSONbig = require('json-bigint');\n\nexport namespace Commands{\n\n    export class Command{\n      public tal: TALightSocket;\n      public url?:string;\n      public debug=false;\n      public onReciveHandshake?:(message:Packets.Reply.Handshake)=>void;\n      public onReciveBinary?:(message:string)=>void;\n      public onReciveUndecodedBinary?:(message:ArrayBuffer)=>void;\n      public onRecive?:(message:Packets.PacketsPayload)=>void;\n      public onClose?:()=>void;\n      public onError?:(error:any)=>void;\n\n      constructor(url:string, decodeBinary?:boolean){\n        this.url = url;\n        this.tal = new TALightSocket(this.url);\n        if(decodeBinary === false) {this.tal.decode = decodeBinary;}\n\n        this.tal.onError = (error)=>{ this.didError(error); };\n        this.tal.onClose = ()=>{ this.didClose(); };\n        this.tal.onRecive = (payload)=> { this.didRecive(payload) }\n        this.tal.onReciveBinary = (payload)=> { this.didReciveBinary(payload) }\n        this.tal.onReciveUndecodedBinary = (payload)=> { this.didReciveUndecodedBinary(payload) }\n      }\n\n      public run(){\n        let msg = new Packets.Request.Handshake();\n        this.tal.send(msg);\n      }\n\n      public sendBinary(data:string){\n        this.log(\"didSendBinary: \"+data);\n        this.tal.sendBinary(data);\n      }\n\n      public log(...args:any[]){\n        let prefix = this.constructor.name+\": \"\n        console.log(prefix, ...args);\n\n        if (this.debug) alert(prefix + (args).join(\" \") );\n      }\n\n      public didClose(){\n        this.log(\"didClose\");\n        if (this.onClose){ this.onClose();}\n      }\n\n      public didError(error:any){\n        this.log(\"didError \",error);\n        if (this.onError){ this.onError(error);}\n      }\n\n      public didReciveBinary(payload:string){\n        this.log(\"didReciveBinary:\\n\"+payload);\n        if(this.onReciveBinary){this.onReciveBinary(payload)}\n      }\n\n      public didReciveUndecodedBinary(payload:ArrayBuffer){\n        this.log(\"didReciveUndecodedBinary:\\n\");\n        if(this.onReciveUndecodedBinary){this.onReciveUndecodedBinary(payload)}\n      }\n\n      public async didRecive(payload:Packets.PacketsPayload){\n        this.log(\"didRecive\");\n        if(this.onRecive){ this.onRecive(payload) }\n\n        let message = payload.getMessage(Packets.Reply.Handshake)\n        if (message){ this.didReciveHandshake(message); }\n      }\n\n\n      public didReciveHandshake(message:Packets.Reply.Handshake){\n        this.log(\"didRecieveHandshake\");\n        if (this.onReciveHandshake) { this.onReciveHandshake(message); }\n      }\n    }\n\n    export class ProblemList extends Command{\n      public onRecieveProblemList?:(message:Packets.Reply.MetaList)=>void\n\n      public override didReciveHandshake( handshake: Packets.Reply.Handshake){\n        super.didReciveHandshake(handshake);\n\n        let msg = new Packets.Request.MetaList();\n        this.tal.send(msg);\n      }\n\n      public override async didRecive(payload:Packets.PacketsPayload){\n        super.didRecive(payload);\n        let message = payload.getMessage_MetaList(Packets.Reply.MetaList);\n        if (message){ this.didReciveProblemList(message); }\n      }\n\n      public didReciveProblemList(message:Packets.Reply.MetaList){\n        this.log(\"onRecieveProblemList\");\n        if (this.onRecieveProblemList) { this.onRecieveProblemList(message); }\n      }\n    }\n\n    export class Attchment extends Command{\n      public onReciveAttachment?:(message:Packets.Reply.Attachment )=>void;\n      public onReciveAttachmentInfo?:(message:Packets.Reply.BinaryDataHeader)=>void;\n\n      private msg:Packets.Request.Attachment;\n\n      constructor(url:string, problem_name:string){\n        super(url, false);\n\n        this.msg = new Packets.Request.Attachment(problem_name);\n      }\n\n      public override didReciveHandshake(handshake: Packets.Reply.Handshake){\n        super.didReciveHandshake(handshake);\n\n        this.tal!.send(this.msg)\n      }\n\n      public override async didRecive(payload: Packets.PacketsPayload) {\n        super.didRecive(payload);\n        let message;\n\n        message = payload.getMessage(Packets.Reply.Attachment)\n        if (message){ this.didRecieveAttachment(message); }\n\n        message = payload.getMessage(Packets.Reply.BinaryDataHeader)\n        if (message){ this.didRecieveAttachmentInfo(message);}\n\n      }\n\n      public didRecieveAttachment(message: Packets.Reply.Attachment){\n        this.log(\"Attachment\");\n        if (this.onReciveAttachment ) { this.onReciveAttachment(message); }\n      }\n\n      public didRecieveAttachmentInfo(message: Packets.Reply.BinaryDataHeader){\n        this.log(\"AttachmentInfo\");\n        if (this.onReciveAttachmentInfo ) { this.onReciveAttachmentInfo(message); }\n      }\n\n    }\n\n    export class Connect extends Command{\n      files = new Map<string,string>()\n\n      public onReciveConnectBegin?:(message:Packets.Reply.ConnectBegin)=>void;\n      public onReciveConnectStart?:(message:Packets.Reply.ConnectStart)=>void;\n      public onReciveConnectStop?:(message:Packets.Reply.ConnectStop)=>void;\n      public onReciveBinaryHeader?:(message:Packets.Reply.BinaryDataHeader)=>void;\n\n      private msg:Packets.Request.ConnectBegin;\n\n      constructor(url:string, problem_name:string, service:string, args?:{}, tty?:boolean, token?:string, files?:Map<string,string>){\n        super(url);\n        if(files){this.files = files}\n        let fileArgNames = [...this.files.keys()]\n        this.msg = new Packets.Request.ConnectBegin(problem_name, service, args, tty, token, fileArgNames);\n      }\n\n      public override didReciveHandshake(handshake: Packets.Reply.Handshake){\n        super.didReciveHandshake(handshake);\n        this.tal.send(this.msg);\n      }\n\n      public override async didRecive(payload: Packets.PacketsPayload) {\n        super.didRecive(payload);\n        let message;\n        message = payload.getMessage(Packets.Reply.ConnectBegin);\n        if (message){\n          this.didRecieveConnectBegin(message);\n\n          if(this.files.size > 0 && message.status.Ok.length > 0 && message.status.Ok[0] !== \"\") {\n            const byteSize = (str:string) => new Blob([str]).size;\n\n            for (let [nameArgFile, content] of this.files.entries()) {\n              let hashHex =  await sha256(content)\n\n              console.log(\"hash: \");\n              console.log(\"hash: \", fromHexString(hashHex));\n\n              let hash = fromHexString(hashHex);\n\n              let hash_list:number[] = []\n              let i = 0;\n              hash.forEach(elem => {\n                hash_list[i] = parseInt(elem.toString(), 10);\n                i++;\n              })\n\n              let size = byteSize(content);\n\n              let header = new Packets.Request.BinaryDataHeader(nameArgFile, size, hash_list);\n              //console.log(\"header: \", header);\n              //console.log(\"header:string\", header.toString());\n\n              //var header_parsed = JSONbig.stringify(header);\n              //console.log(\"header:parsed: \", header_parsed);\n              //console.log(\"header:parsed:type \", typeof header_parsed);\n              \n              this.tal.send(header);\n              this.tal.sendBinary(content);\n            }\n          }\n        }\n\n        message = payload.getMessage(Packets.Reply.ConnectStart)\n        if (message){ this.didRecieveConnectStart(message); }\n\n        message = payload.getMessage(Packets.Reply.ConnectStop)\n        if (message){ this.didRecieveConnectStop(message); }\n\n        message = payload.getMessage(Packets.Reply.BinaryDataHeader)\n        if (message){ this.didRecieveBinaryHeader(message); }\n      }\n\n      public didRecieveConnectBegin(message: Packets.Reply.ConnectBegin){\n        this.log(\"didRecieveConnectBegin\");\n        if (this.onReciveConnectBegin ) { this.onReciveConnectBegin(message); }\n      }\n\n      public didRecieveConnectStart(message: Packets.Reply.ConnectStart){\n        this.log(\"didRecieveConnectStart\");\n        if (this.onReciveConnectStart ) { this.onReciveConnectStart(message); }\n      }\n\n      public didRecieveConnectStop(message: Packets.Reply.ConnectStop){\n        this.log(\"didRecieveConnectStop\",message);\n        /* download result files */\n\n        if (this.onReciveConnectStop) {\n          this.onReciveConnectStop(message);\n\n          if(this.tal.isOpen() === true) {this.sendConnectStop();}\n        }\n      }\n\n      public didRecieveBinaryHeader(message: Packets.Reply.BinaryDataHeader){\n        this.log(\"BinaryHeader\");\n        if (this.onReciveBinaryHeader ) { this.onReciveBinaryHeader(message); }\n      }\n\n      public sendConnectStop() {\n        this.tal.send(new Packets.Request.ConnectStop());\n        //this.tal.closeConnection();\n      }\n    }\n\n    export class CloseConnection extends Command{\n      public onReciveConnectStop?:(message:Packets.Reply.ConnectStop)=>void;\n\n      public override didReciveHandshake( handshake: Packets.Reply.Handshake){\n        super.didReciveHandshake(handshake);\n\n        let msg = new Packets.Request.ConnectStop();\n        this.tal.send(msg);\n      }\n\n      public override async didRecive(payload:Packets.PacketsPayload){\n        super.didRecive(payload);\n        let message = payload.getMessage(Packets.Reply.ConnectStop);\n        if (message){ this.didReciveConnectStop(message); }\n      }\n\n      public didReciveConnectStop(message:Packets.Reply.ConnectStop){\n        this.log(\"didRecieveGameList\");\n        if (this.onReciveConnectStop) { this.onReciveConnectStop(message); }\n      }\n    }\n\n\n  }\n\n\n  function fromHexString(hexString:string):Uint8Array{\n    return Uint8Array.from(hexString.match(/.{1,2}/g)!.map((byte:any) => parseInt(byte, 16)));\n  }\n","\nexport namespace Packets{\n\n    export class PacketsPayload{\n      public data;\n      public packets:any;\n      public packetTypes:string[] = []\n\n      constructor(data:string){\n        this.data = data;\n        this.packets = JSON.parse(this.data);\n        for (var pkttype in this.packets) {\n          this.packetTypes.push(pkttype)\n        }\n\n        /*\n        if(this.packetTypes.length === 3 &&\n          this.packetTypes.indexOf(\"name\") === 0 &&\n          this.packetTypes.indexOf(\"size\") === 1 &&\n          this.packetTypes.indexOf(\"hash\") === 2\n          ) {\n            this.packetTypes = [\"AttachmentInfo\"];\n            this.packets = {\"AttachmentInfo\" : this.packets};\n        }\n        */\n      }\n\n      public getMessage<T extends Message>( packetClass: new (packet?: any)=>T ):T | null{\n        let packetType = packetClass.name;\n        for (var pkttype in this.packets) {\n          if (pkttype != packetType){ continue; }\n          let packet = this.packets[packetType]\n          console.log(\"Packet:\", packet);\n          let message = new packetClass(packet);\n          message.fromPacket(packet);\n          console.log(\"Packet:Message:\", message);\n          return message;\n        }\n        return null;\n      }\n\n      public getMessage_MetaList<T extends Message>( packetClass: new (packet?: any)=>T ):T | null{\n        let packetType = packetClass.name;\n        for (var pkttype in this.packets) {\n          if (pkttype != packetType){ continue; }\n          let packet = this.packets[packetType]\n          console.log(\"Packet:\", packet);\n          let message = new packetClass(packet);\n          console.log(\"Packet:Message:\", message);\n          return message;\n        }\n        return null;\n      }\n\n    }\n\n    export class Message{\n      constructor(packet?: any){\n        console.log(\"packet:message:constructor:\", packet)\n        if(packet){this.fromPacket(packet);}\n      }\n\n      public static dataToPayload(data: string): PacketsPayload{\n        let raw = JSON.parse(data);\n        return raw;\n      }\n\n      public static findPacketName(msgClasses: Array<string>, packet: any): string{\n        var msgClass = \"\";\n        msgClasses.forEach((msgName) => {\n          if(msgName in JSON.parse(packet)){\n            msgClass = msgName;\n          }\n        });\n\n        return msgClass;\n      }\n\n\n\n      public messageName():string{\n        return this.constructor.name;\n      }\n\n      public toPacketWithName(messageName: string){\n        const packet = { [messageName]:this };\n        return packet;\n      }\n\n      public toPacket(): any{\n        const packetName = this.messageName();\n        const packet = { [packetName]:this };\n        return packet;\n      }\n\n      public fromPacket(packet:any){\n        console.log(\"packet:message:fromPacket:\", this)\n        if(\"name\" in this){console.log(\"packet:message:fromPacket:\", this[\"name\"])} else {console.log(\"packet:message:fromPacket:\", false)}\n        for (var msgField in this) {\n          console.log(\"packet:message:fromPacket:var:checkprint\")\n          console.log(\"packet:message:fromPacket:var:\", msgField)\n        }\n        for (var msgField in this) {\n          if (! (msgField in packet)){ continue; }\n          let value = packet[msgField];\n          const varType = typeof value;\n          if (varType in [\"function\",\"undefined\",\"symbol\"] ){ continue; }\n\n          if (varType === \"object\") {\n            console.log(\"packet:message:copyObject:\",value)\n            this[msgField] = Object.assign(value);\n          } else {\n            console.log(\"packet:message:copyValue:\",value)\n            this[msgField] = value;\n          }\n        }\n        return true;\n      }\n    }\n\n  export class Meta {\n    constructor(data?: any){\n      //console.log(\"Meta:constructor:\", data)\n      this.public_folder = data.public_folder\n      let servicesMap = new Map<string,Service>()\n      for(var attr in data.services){\n        let value = data.services[attr];\n        //console.log(\"Meta:constructor:services:\",attr,value)\n        let service = new Service(value);\n        servicesMap.set(attr,service)\n      }\n      this.services = servicesMap\n    }\n    public public_folder: string = \"\";\n    public services: Map<string, Service> = new Map<string, Service>();\n  }\n\n  export class Service {\n    constructor(data?: any){\n      //console.log(\"Service:constructor:\", data)\n      this.evaluator = data.evaluator\n      this.files = data.files\n      let argsMap = new Map<string,Arg>()\n      for(var attr in data.args){\n        let value = data.args[attr];\n        let arg = new Arg(value);\n        argsMap.set(attr,arg)\n      }\n      this.args = argsMap\n    }\n    public evaluator: string[] = [];\n    public args?:Map<string, Arg>;\n    public files?: string[];\n  }\n\n  export class Arg {\n    constructor(data: any){\n      this.regex = data.regex\n      this.default = data.default\n    }\n    public regex: RegExp;\n    public default: string;\n  }\n\n\n\n\n  // Requests ---------------------------------\n  export namespace Request{\n    export class Message extends Packets.Message {}\n    export class Handshake extends Message {\n      public magic:string = \"rtal\";\n      public version:number = 4;\n    }\n    export class MetaList extends Message {}\n    export class  Attachment extends Message{\n      public problem: String;\n\n      constructor(problem_name:String) {\n        super();\n        this.problem = problem_name;\n      }\n    }\n    export class ConnectBegin extends Message {\n      public problem:string = \"\";\n      public service:string = \"\";\n      public args:{} = {};\n      public tty:boolean = false;\n      public token:string|null = null;\n      public files:string[] = [];\n\n      constructor(problem:string, service:string, args:{}={}, tty:boolean=false, token:string|null = null, files:string[] = []) {\n        super();\n        this.problem = problem;\n        this.service = service;\n        this.args = args;\n        this.tty = tty;\n        this.token = token;\n        this.files = files;\n      }\n    }\n    export class BinaryDataHeader extends Message {\n      public name:string = \"\";\n      public size:number = 0;\n      public hash:number[] = [];\n\n      constructor(name:string, size:number, hash:number[]) {\n        super();\n        this.name = name;\n        this.size = size;\n        this.hash = hash;\n      }\n    }\n    export class ConnectStop extends Message {\n\n    }\n  }\n\n\n  export namespace Reply{\n    export class Message extends Packets.Message {}\n    export class Handshake extends Message {\n      public magic:string = \"\";\n      public version:number = 2;\n    }\n    export class MetaList extends Message {\n      constructor(packet?: any){\n        super(packet)\n        let metaMap = new Map<string,Meta>()\n        for(var attr in packet.meta){\n          let value = packet.meta[attr];\n          let meta = new Meta(value);\n          metaMap.set(attr,meta)\n        }\n        this.meta = metaMap\n      }\n      public meta:Map<string, Meta> = new Map<string, Meta>();\n    }\n    export class  Attachment extends Message{\n      public status = {\"Ok\": undefined, \"Err\": \"\"};\n    }\n    export class BinaryDataHeader extends Message {\n      public name:string = \"\";\n      public size:string = \"\";\n      public hash:string = \"\";\n    }\n    export class ConnectBegin extends Message {\n      public status = {\"Ok\": [\"\"], \"Err\": \"\"};\n    }\n    export class ConnectStart extends Message {\n      public status = {\"Ok\": undefined, \"Err\": \"\"};\n    }\n    export class ConnectStop extends Message {\n      public status = {\"Ok\": [\"\"], \"Err\": \"\"};\n    }\n\n\n\n    export class Result {\n      Ok: string[]|null = null\n      Err: string = \"\"\n      constructor(data:any){\n        if(\"Ok\" in data){this.Err = data[\"Ok\"]}\n        if(\"Err\" in data){this.Err = data[\"Err\"]}\n      }\n\n      success(){ return this.Err == \"\" }\n    }\n    /*\n    Attachment { status: Result<(), String> },\n    ConnectBegin { status: Result<Vec<String>, String> },\n    ConnectStart { status: Result<(), String> },\n    ConnectStop { status: Result<Vec<String>, String> }\n    */\n\n\n  }\n}\n\n\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { Packets } from './api.packets';\nimport { Commands } from './api.commands';\nimport { ProjectManagerService } from '../project-manager-service/project-manager.service';\n\nexport class Meta extends Packets.Meta{}\nexport interface AttachmentInfo extends Packets.Reply.BinaryDataHeader{}\n\n\nexport enum ApiState{\n  Idle,\n  Good,\n  Maybe,\n  Bad\n}\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n  lastState = ApiState.Idle\n  public onApiStateChange = new EventEmitter<ApiState>();\n\n  constructor(\n    public pms: ProjectManagerService\n  ){}\n\n  public getCurrentServerUrl(): string {\n    console.log(\"getCurrentServerUrl:\", this.pms.getCurrentProject().config.TAL_SERVER)\n    return this.pms.getCurrentProject().config.TAL_SERVER;\n  }\n\n  public setUrl(value: string): boolean {\n    let url;\n    try{ \n      url = new URL(value); \n    }catch(_){ return false; }\n\n    if(url.protocol != 'ws:' && url.protocol != 'wss:')\n      return false;\n\n    console.log(\"setUrl:valid!\")\n\n    this.pms.getCurrentProject().config.TAL_SERVER = url.href;\n    \n    return true;\n  }\n\n  public updateState(state: ApiState){\n    if(this.lastState != state){\n      this.lastState = state\n      this.onApiStateChange.emit(state)\n    }\n  }\n\n  public stateIdle(){ this.updateState(ApiState.Idle); }\n  public stateGood(){ this.updateState(ApiState.Good); }\n  public stateMaybe(){ this.updateState(ApiState.Maybe); }\n  public stateBad(){ this.updateState(ApiState.Bad); }\n\n  public problemList(onResult:(problemList:Map<string, Meta>)=>void, onError?: (error: string)=>void){\n    this.stateMaybe()\n    console.log(\"problemList:\")\n    let cmdList = new Commands.ProblemList(this.getCurrentServerUrl())\n    \n    cmdList.onRecieveProblemList = (message)=>{\n      console.log(\"problemList:onRecieveProblemList:\",message)\n      this.stateGood()\n      if(onResult){onResult(message.meta)}\n    }\n    cmdList.onError = (error) => {\n      this.stateBad();\n      console.log(\"problemList:onError:\")\n      if(onError) {onError(error)}\n    }\n    cmdList.run();\n    return cmdList;\n  }\n\n  public GetAttachment(\n    problemName:string,\n    onAttachment?: ()=>void,\n    onAttachmentInfo?: (message: Packets.Reply.BinaryDataHeader)=>void,\n    onData?: (data: ArrayBuffer)=>void,\n    onError?: (error: string)=>void\n  ){\n    this.stateMaybe()\n    let cmdGet = new Commands.Attchment(this.getCurrentServerUrl(), problemName);\n\n    cmdGet.onReciveAttachment = (message) => {\n      if (message.status.Err){\n        this.stateBad()\n        if (cmdGet.onError) { cmdGet.onError(\"Failed to receive attachment: \"+message.status.Ok) }\n        return;\n      }\n      this.stateGood()\n      if(onAttachment) { onAttachment() }\n    }\n\n    cmdGet.onReciveAttachmentInfo = (message) => {\n      this.stateGood();\n      if(onAttachmentInfo) { onAttachmentInfo(message) }\n    }\n\n    cmdGet.onReciveUndecodedBinary = (message) => {\n      this.stateGood();\n      if(onData) { onData( message )}\n    }\n\n    cmdGet.onError = (error) => {\n      this.stateBad();\n      if(onError) {onError(error)}\n    }\n\n    cmdGet.run();\n    return cmdGet;\n  }\n\n  public Connect (\n    problem_name:string,\n    service:string,\n    args?:{},\n    tty?:boolean,\n    token?:string,\n    files?:Map<string, string>,\n    onConnectBegin?:(message:string[] )=>void,\n    onConnectStart?:()=>void,\n    onConnectStop?:(message:string[])=>void,\n    onData?: (data:string)=>void,\n    onBinaryHeader?:(message:Packets.Reply.BinaryDataHeader)=>void,\n    onError?:(data:string)=>void\n  ){\n    this.stateMaybe()\n    let cmdConnect = new Commands.Connect(this.getCurrentServerUrl(), problem_name, service, args, tty, token, files);\n\n    cmdConnect.onReciveConnectBegin = (message) => {\n      if (message.status.Err){\n        this.stateBad()\n        if (cmdConnect.onError) { cmdConnect.onError(\"Failed to begin connection: \"+message.status.Err); }\n        return;\n      }\n      this.stateGood()\n      if(onConnectBegin && message.status.Ok) { onConnectBegin(message.status.Ok) }\n    }\n\n    cmdConnect.onReciveConnectStart = (message) => {\n      if (message.status.Err){\n        this.stateBad()\n        if (cmdConnect.onError) { cmdConnect.onError(\"Failed to start connect: \"+message.status.Err)  }\n        return;\n      }\n      this.stateGood()\n      if(onConnectStart) { onConnectStart() }\n    }\n\n    cmdConnect.onReciveConnectStop = (message) => {\n      if (message.status.Err){\n        this.stateBad()\n        if (cmdConnect.onError) { cmdConnect.onError(\"Failed to stop connection: \"+message.status.Err)  }\n        return;\n      }\n      this.stateGood()\n      if(onConnectStop && message.status.Ok) { onConnectStop(message.status.Ok) }\n    }\n\n    cmdConnect.onReciveBinary = (message) => {\n      this.stateGood();\n      if(onData) { onData(message)}\n    }\n\n    cmdConnect.onReciveBinaryHeader = (message) => {\n      this.stateGood();\n      if(onBinaryHeader) { onBinaryHeader( message )}\n    }\n\n    cmdConnect.onError = (error) => {\n      this.stateBad();\n      if(onError) {onError(error)}\n    }\n\n    cmdConnect.run();\n    return cmdConnect;\n  }\n\n}\n","import { WebSocketSubject } from 'rxjs/webSocket';\nimport { Packets } from './api.packets';\n\n\nexport class TALightSocket{\n  public url = 'ws://localhost:8008';\n  public ws?:WebSocketSubject<any>;\n  \n  public decode = true;\n  public binEncoder = new TextEncoder(); // always utf-8\n  public binDecoder = new TextDecoder(\"utf-8\");\n  \n  public onError?:(error:string)=>void;\n  public onClose?:()=>void;\n  public onRecive?:(payload: Packets.PacketsPayload) => void;\n  public onReciveBinary?:(payload: string) => void;\n  public onReciveUndecodedBinary?:(payload: ArrayBuffer) => void;\n      \n  constructor(url:string){\n    this.url = url;\n\n    if (!this.ws || this.ws.closed ){\n      this.ws = new WebSocketSubject({\n        url: this.url,\n        binaryType: \"arraybuffer\",\n        deserializer: msg => msg,\n        serializer: msg => {\n          if (msg instanceof ArrayBuffer)\n            return msg;\n          else if (typeof msg === \"string\")\n            return msg;\n          else\n            return JSON.stringify(msg);\n        }\n      });\n      this.ws.subscribe({\n        next: (payload:any)=>{ this.didRecieve(payload) },\n        error: (error:any)=>{ this.didError(error) },\n        complete: ()=>{ this.didClose() },\n      });\n\n      console.log(\"Created new socket\");\n    }\n  }\n\n  public isOpen():boolean{\n    return (!!this.ws) && !this.ws.closed;\n  }\n\n  public closeConnection(){\n    this.ws!.unsubscribe();\n    this.ws!.complete();\n    console.log(\"TALightSocket:closeConnection\");\n  }\n  \n  public send(request: Packets.Request.Message){\n    if (!this.isOpen()) {\n      this.didError(\"TALightSocket:send: unable to send, socket is null\")\n      return false\n    } \n    \n    let packet = request.toPacket();\n    this.ws!.next(packet);\n\n    return true;\n  }\n\n  public sendBinary(data: string) {\n    let payload = this.binEncoder.encode(data);\n    if (!this.isOpen()) {\n      this.didError(\"TALightSocket:sendBinary: unable to send, socket is null\")\n      return false\n    } \n    console.log(\"TALightSocket:sendBinary: sending payload \\n\"+payload);\n    this.ws!.next(payload.buffer);\n    return true;\n  }\n  \n  public didRecieve(payload:MessageEvent){ // Called whenever there is a message from the server.\n    let data = payload.data;\n    console.log(\"TALightSocket:didRecieve:type: \"+payload.constructor.name+\"<\"+payload.data.constructor.name+\">\" )\n\n    if(typeof data === \"object\" && data instanceof ArrayBuffer) {\n      if(this.decode) {\n        if (data.byteLength == 0) {return}\n        data = this.binDecoder.decode(data);\n        console.log(\"TALightSocket:didRecieve:binary:\\n\"+data)\n        if(this.onReciveBinary){ this.onReciveBinary( data );}\n      } \n      else {\n        if(this.onReciveUndecodedBinary){ this.onReciveUndecodedBinary( data );}\n      }\n    } else{\n      let packetsPayload = new Packets.PacketsPayload(data)\n      console.log(\"TALightSocket:didRecieve:packets: \"+packetsPayload.packetTypes)\n      if(this.onRecive){ this.onRecive( packetsPayload ); }\n      \n    }\n  }\n\n  public didError(error:any) { \n    //let errorMsg = JSON.stringify(err);\n    if (this.onError) { this.onError(error );}\n  }\n\n  public didClose() { \n    this.closeConnection();\n    if (this.onClose) { this.onClose();}\n  }\n}\n\n\n\n\n","import { CompilerMessage, CompilerMessageType, CompilerRequest, CompilerRequestHandler, CompilerResponse, CompilerState, notifyCallback, PromiseResolver, stateCallback, stdCallback, UID } from './compiler-service.types';\nimport { FsNodeEmptyFolder, FsNodeFileList, FsNodeFolder, FsNodeList } from '../fs-service/fs.service.types';\nimport { ProjectDriver } from '../project-manager-service/project-manager.types';\nimport { EventEmitter } from '@angular/core';\nimport { ProjectManagerService } from '../project-manager-service/project-manager.service';\n\nexport class CompilerDriver implements ProjectDriver {\n  public eventsSubscribed: boolean = false;\n\n  public onWorkerReady: EventEmitter<void> = new EventEmitter<void>;\n  public isWorkerReady: boolean = false;\n\n  public driverName: string;\n  public fsRoot: FsNodeFolder = FsNodeEmptyFolder;\n\n  //Prefix for the mount point\n  public root = \"/TALight_\" + ProjectManagerService.projectsFolder;\n\n  // Example with Project ID 0: /TALight_Projects_0\n  // Example with Project ID 0: /TALight_Projects_0\n  public mountPoint = this.root + \"_\";\n\n  public onMountChanged = new EventEmitter<void>();\n  public onUnmountChanged = new EventEmitter<void>();\n\n  public requestIndex = new Map<UID, CompilerRequestHandler>();\n\n  public binEncoder = new TextEncoder(); // always utf-8\n  public binDecoder = new TextDecoder(\"utf-8\");\n\n  onStdout?: stdCallback\n  onStderr?: stdCallback\n  onState?: stateCallback\n  onNotify?: notifyCallback\n\n  constructor(public worker: Worker) {\n    this.driverName = \"CompilerDriver\";\n\n    this.worker.onmessage = (event: MessageEvent) => { this.didRecieve(event.data) };\n    this.worker.addEventListener('error', (event) => { console.log('compiler-serivce-driver: Worker error!') });\n  }\n\n  private didRecieve(response: CompilerResponse) {\n    if (!response) { return; }\n    //console.log('compiler-serivce-driver:didRecieve:', response.message.type, response);\n\n    let requestHandler = this.requestIndex.get(response.uid);\n    if (requestHandler != null) {\n      let removeRequest = true;\n      let msgSent = requestHandler.request.message;\n      let msgRecived = response.message;\n      let resolvePromise = requestHandler.resolvePromise;\n\n      switch (response.message.type) {\n        case CompilerMessageType.Ready: this.didReceiveReady(msgSent, msgRecived, resolvePromise); break;\n\n        case CompilerMessageType.InstallPackages: this.didReceiveInstallPackages(msgSent, msgRecived, resolvePromise); break;\n        case CompilerMessageType.ExecuteCode: this.didReceiveExecuteCode(msgSent, msgRecived, resolvePromise); break;\n        case CompilerMessageType.ExecuteFile: this.didReceiveExecuteFile(msgSent, msgRecived, resolvePromise); break;\n        case CompilerMessageType.StopExecution: this.didReceiveStopExecution(msgSent, msgRecived, resolvePromise); break;\n\n        case CompilerMessageType.SubscribeNotify: this.didReceiveSubscribeNotify(msgSent, msgRecived, resolvePromise); removeRequest = false; break;\n        case CompilerMessageType.SubscribeState: this.didReceiveSubscribeState(msgSent, msgRecived, resolvePromise); removeRequest = false; break;\n        case CompilerMessageType.SubscribeStdout: this.didReceiveSubscribeStdout(msgSent, msgRecived, resolvePromise); removeRequest = false; break;\n        case CompilerMessageType.SubscribeStderr: this.didReceiveSubscribeStderr(msgSent, msgRecived, resolvePromise); removeRequest = false; break;\n        case CompilerMessageType.SendStdin: this.didReceiveSendStdin(msgSent, msgRecived, resolvePromise); break;\n\n        case CompilerMessageType.Mount: this.didReceiveMount(msgSent, msgRecived, resolvePromise); break;\n        case CompilerMessageType.Unmount: this.didReceiveUnmount(msgSent, msgRecived, resolvePromise); break;\n\n        case CompilerMessageType.CreateDirectory: this.didReceiveCreateDirectory(msgSent, msgRecived, resolvePromise); break;\n        case CompilerMessageType.ReadDirectory: this.didReceiveReadDirectory(msgSent, msgRecived, resolvePromise); break;\n        case CompilerMessageType.ScanDirectory: this.didReceiveScanDirectory(msgSent, msgRecived, resolvePromise); break;\n\n        case CompilerMessageType.WriteFile: this.didReceiveWriteFile(msgSent, msgRecived, resolvePromise); break;\n        case CompilerMessageType.ReadFile: this.didReceiveReadFile(msgSent, msgRecived, resolvePromise); break;\n        case CompilerMessageType.RenameItem: this.didReceiveRenameItem(msgSent, msgRecived, resolvePromise); break;\n\n        case CompilerMessageType.Delete: this.didReceiveDelete(msgSent, msgRecived, resolvePromise); break;\n        case CompilerMessageType.Exists: this.didReceiveExists(msgSent, msgRecived, resolvePromise); break;\n      }\n\n      if (removeRequest) {\n        this.requestIndex.delete(response.uid)\n      }\n    }\n  }\n\n  private didReceiveReady(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<boolean>) {\n    console.log(\"compiler-serivce-driver:didReceiveReady: \")\n    let ready = msgRecived.args[0]\n    resolvePromise(ready == 'true' ? true : false)\n  }\n\n  private didReceiveInstallPackages(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<string>) {\n    console.log(\"compiler-serivce-driver:didReceiveInstallPackages: \")\n    if (msgSent.contents.length != 1) {\n      resolvePromise(\"\");\n    }\n    console.log(msgRecived.contents)\n\n    resolvePromise(this.dataToString(msgRecived.contents[0]))\n  }\n\n  private didReceiveExecuteCode(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<string>) {\n    console.log(\"compiler-serivce-driver:didReceiveExecuteCode: \")\n    if (msgSent.contents.length != 1) {\n      resolvePromise(\"\");\n    }\n    console.log(msgRecived.contents)\n\n    resolvePromise(this.dataToString(msgRecived.contents[0]))\n  }\n\n  private didReceiveExecuteFile(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<string>) {\n    console.log(\"compiler-serivce-driver:didReceiveExecuteFile: \")\n    if (msgSent.contents.length != 1) {\n      resolvePromise(\"\");\n    }\n    console.log(msgRecived.contents)\n\n    resolvePromise(this.dataToString(msgRecived.contents[0]))\n  }\n\n  private didReceiveStopExecution(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<boolean>) {\n    console.log(\"compiler-serivce-driver:didReceiveStopExecution: \", msgRecived.args)\n    if (msgSent.args.length != 1) {\n      resolvePromise(false);\n    }\n\n    resolvePromise(true)\n  }\n\n  private didReceiveSubscribeNotify(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<boolean>) {\n    console.log(\"compiler-serivce-driver:didReceiveSubscribeNotify: \")\n    if (msgRecived.args.length == 1) {\n      let result = msgRecived.args[0] == 'true'\n      resolvePromise(result);\n    }\n    if (this.onNotify && msgRecived.contents.length > 1) {\n      console.log(msgRecived.contents)\n      let [title, msg, kind] = msgRecived.contents\n      this.onNotify(this.dataToString(title), this.dataToString(msg), this.dataToString(kind))\n    }\n  }\n\n  private didReceiveSubscribeState(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<boolean>) {\n    console.log(\"compiler-serivce-driver:didReceiveSubscribeState: \")\n    if (msgRecived.args.length == 1) {\n      let result = msgRecived.args[0] == 'true'\n      resolvePromise(result);\n    }\n    console.log(\"compiler-serivce-driver:didReceiveSubscribeState: \", msgRecived.contents)\n    if (this.onState && msgRecived.contents.length > 0) {\n      console.log(\"compiler-serivce-driver:didReceiveSubscribeState: \", msgRecived.contents)\n      let state = msgRecived.contents[0] as CompilerState\n      let content;\n      if (msgRecived.contents.length > 1) {\n        content = this.dataToString(msgRecived.contents[1])\n      }\n      this.onState(state, content)\n    }\n  }\n\n  private didReceiveSubscribeStdout(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<boolean>) {\n    console.log(\"compiler-serivce-driver:didReceiveSubscribeStdout: \")\n    if (msgRecived.args.length == 1) {\n      let result = msgRecived.args[0] == 'true'\n      resolvePromise(result);\n    }\n    if (this.onStdout && msgRecived.contents.length > 0) {\n      console.log(msgRecived.contents)\n      let content = msgRecived.contents[0]\n      this.onStdout(this.dataToString(content))\n    }\n  }\n\n  private didReceiveSubscribeStderr(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<boolean>) {\n    console.log(\"compiler-serivce-driver:didReceiveSubscribeStderr: \")\n    if (msgRecived.args.length == 1) {\n      let result = msgRecived.args[0] == 'true'\n      resolvePromise(result);\n    }\n    if (this.onStderr && msgRecived.contents.length > 0) {\n      console.log(msgRecived.contents)\n      let content = msgRecived.contents[0]\n      this.onStderr(this.dataToString(content))\n    }\n  }\n\n  private didReceiveSendStdin(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<boolean>) {\n    console.log(\"compiler-serivce-driver:didReceiveSendStdin: \")\n    if (msgRecived.args.length > 0) {\n      let result = msgRecived.args[0] == 'true'\n      resolvePromise(result);\n    }\n\n    resolvePromise(false)\n  }\n\n  private didReceiveMount(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<boolean>) {\n    console.log(\"compiler-serivce-driver:didReceiveMount: \")\n    if (msgSent.args.length != 1) {\n      resolvePromise(false);\n    }\n    let pathSent = msgSent.args[0];\n    let pathRecived = msgRecived.args[0];\n\n    console.log(\"compiler-serivce-driver:didReceiveMount: \", pathSent, pathRecived)\n\n    resolvePromise(pathSent == pathRecived)\n\n    this.onMountChanged.emit();\n  }\n\n  private didReceiveUnmount(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<boolean>) {\n    console.log(\"compiler-serivce-driver:didReceiveUnmount: \")\n    if (msgSent.args.length != 1) {\n      resolvePromise(false);\n    }\n    let pathSent = msgSent.args[0];\n    let pathRecived = msgRecived.args[0];\n\n    console.log(\"compiler-serivce-driver:didReceiveUnmount: \", pathSent, pathRecived)\n\n    resolvePromise(pathSent == pathRecived)\n\n    this.onUnmountChanged.emit();\n  }\n\n\n  private didReceiveCreateDirectory(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<boolean>) {\n    console.log(\"compiler-serivce-driver:didReceiveCreateDirectory: \")\n    if (msgSent.args.length != 1) {\n      resolvePromise(false);\n    }\n    let pathSent = msgSent.args[0];\n    let pathRecived = msgRecived.args[0];\n\n    resolvePromise(pathSent == pathRecived)\n  }\n\n  private didReceiveReadDirectory(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<FsNodeFolder | null>) {\n    //TODO: do the actual thing \n    let replacer = (key: any, value: any) => {\n      if (value instanceof ArrayBuffer) {\n        let buffer = new Uint8Array(value)\n        return Array.from(buffer)\n      }\n      return value\n    }\n    let node = JSON.parse(this.dataToString(msgRecived.contents[0]), this.internal_jsonReplacer)\n    console.log(\"compiler-serivce-driver:didReceiveReadDirectory: \", node)\n    resolvePromise(node)\n  }\n\n  private didReceiveScanDirectory(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<FsNodeFolder | null>) {\n    //TODO: do the actual thing \n    let node = JSON.parse(this.dataToString(msgRecived.contents[0]), this.internal_jsonReplacer)\n    console.log(\"compiler-serivce-driver:didReceiveScanDirectory: \", node)\n    resolvePromise(node)\n  }\n\n  private didReceiveRenameItem(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<Boolean>) {\n    //TODO: do the actual thing \n    //let node = JSON.parse(this.dataToString(msgRecived.contents[0]),this.internal_jsonReplacer)\n    //console.log(\"didReceiveRenameItem: \", node)\n\n    if (msgSent.args.length != 1) {\n      resolvePromise(false);\n    }\n    let pathSent = msgSent.args[0];\n    let pathRecived = msgRecived.args[0];\n\n    resolvePromise(pathSent == pathRecived)\n  }\n\n  private internal_jsonReplacer(key: any, value: any) {\n    if (typeof value !== 'object') { return value; }\n    //console.log('jsonReplacer:object:',key,value)\n    if (!(\"flags\" in value && \"constructor\" in value && \"data\" in value)) { return value; }\n    //console.log('jsonReplacer:constructor',value.constructor)\n    if (value.constructor == 'ArrayBuffer' && value.data instanceof Array) {\n      //console.log('jsonReplacer:ArrayBuffer')\n      let buffer = Uint8Array.from(value.data).buffer\n      console.log('jsonReplacer:ArrayBuffer', buffer)\n      return buffer;\n    }\n    return value\n  }\n\n  private didReceiveReadFile(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<string | ArrayBuffer>) {\n    console.log(\"compiler-serivce-driver:didReceiveReadFile:\\n\", msgRecived.contents.length)\n    resolvePromise(msgRecived.contents[0])\n  }\n\n  private didReceiveWriteFile(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<number>) {\n    console.log(\"compiler-serivce-driver:didReceiveWriteFile: \")\n    console.log(msgRecived.args.length)\n    console.log(msgRecived.contents.length)\n    //TODO:\n    resolvePromise(msgRecived.contents.length)\n  }\n\n\n  private didReceiveDelete(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<boolean>) {\n    console.log(\"compiler-serivce-driver:didReceiveDelete: \")\n    resolvePromise(true)\n  }\n\n  private didReceiveExists(msgSent: CompilerMessage, msgRecived: CompilerMessage, resolvePromise: PromiseResolver<boolean>) {\n    console.log(\"compiler-serivce-driver:didReceiveExists: \")\n    let res = msgRecived.args[0]\n    resolvePromise(res == 'true')\n  }\n\n  // SEND: INTERNAL\n\n  private sendMessage<T>(message: CompilerMessage) {\n    console.log(\"compiler-serivce-driver:sendMessage:\" + message.type)\n    let request: CompilerRequest = {\n      uid: message.uid,\n      timestamp: Date.now(),\n      message: message\n    }\n\n    let promiseResolver: PromiseResolver<T>;\n    let resultPromise = new Promise<T>((resolve, reject) => {\n      promiseResolver = resolve;\n    })\n\n    let requestHandler: CompilerRequestHandler = {\n      uid: message.uid,\n      request: request,\n      resolvePromise: (value) => { promiseResolver(value) }\n    }\n\n    this.requestIndex.set(message.uid, requestHandler);\n    this.worker.postMessage(request);\n\n    return resultPromise;\n  }\n\n  //SEND: PUBLIC\n\n  //Don't use this function directly, use mountByProjectId or mountRoot\n  public async mount(path: string): Promise<boolean> {\n    //console.log(\"compiler-serive-driver:mount: \" + path)\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.Mount,\n      args: [path],\n      contents: [],\n    }\n    return await this.sendMessage<boolean>(message);\n  }\n\n  public async mountByProjectId(projectId: number): Promise<boolean> {\n    console.log(\"compiler-serive-driver:mountByProjectId: \" + projectId)\n    return await this.mount(this.mountPoint + projectId);\n  }\n\n  // Unused\n  public async mountRoot(): Promise<boolean> {\n    console.log(\"compiler-serive-driver:mountRoot: \", this.root)\n    return await this.mount(this.root);\n  }\n\n  public unmount(path: string): Promise<boolean> {\n    //console.log(\"compiler-serive-driver:unmount: \" + path)\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.Unmount,\n      args: [path],\n      contents: [],\n    }\n\n    let resultPromise = this.sendMessage<boolean>(message);\n\n    return resultPromise;\n  }\n\n  public async unmountByProjectId(projectId: number): Promise<boolean> {\n    console.log(\"compiler-serive-driver:unmountByProjectId: \" + projectId)\n    return await this.unmount(this.mountPoint + projectId);\n  }\n\n  public async ready(): Promise<boolean> {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.Ready,\n      args: [],\n      contents: [],\n    }\n\n    let resultPromise = this.sendMessage<boolean>(message);\n\n    return resultPromise;\n  }\n\n  public async installPackages(packages: string[]): Promise<string> {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.InstallPackages,\n      args: packages,\n      contents: [],\n    }\n\n    let resultPromise = this.sendMessage<string>(message);\n\n    return resultPromise;\n  }\n\n  public async executeCode(code: string): Promise<string> {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.ExecuteCode,\n      args: [],\n      contents: [code],\n    }\n\n    let resultPromise = this.sendMessage<string>(message);\n\n    return resultPromise;\n  }\n\n  public async executeFile(fullpath: string): Promise<string> {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.ExecuteFile,\n      args: [fullpath],\n      contents: [],\n    }\n\n    let resultPromise = this.sendMessage<string>(message);\n\n    return resultPromise;\n  }\n\n  public async stopExecution(signal: number = 2): Promise<boolean> {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.StopExecution,\n      args: [signal.toString()],\n      contents: [],\n    }\n\n    let resultPromise = this.sendMessage<boolean>(message);\n\n    return resultPromise;\n  }\n\n  public subscribeNotify(enable = true, onNotify?: notifyCallback) {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.SubscribeNotify,\n      args: [enable ? 'true' : 'false'],\n      contents: [],\n    }\n    if (onNotify && enable) {\n      this.onNotify = (title: string, msg: string, kind: string = \"\") => {\n        onNotify(title, msg, kind)\n      }\n    } else {\n      this.onNotify = undefined;\n    }\n\n    let resultPromise = this.sendMessage<boolean>(message);\n\n    return resultPromise;\n  }\n\n  public subscribeState(enable = true, onState?: stateCallback) {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.SubscribeState,\n      args: [enable ? 'true' : 'false'],\n      contents: [],\n    }\n    if (onState && enable) {\n      this.onState = (state: CompilerState, content?: any) => { onState(state, content) }\n    } else {\n      this.onState = undefined;\n    }\n\n    let resultPromise = this.sendMessage<boolean>(message);\n\n    return resultPromise;\n  }\n\n  public subscribeStdout(enable = true, onStdout?: stdCallback) {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.SubscribeStdout,\n      args: [enable ? 'true' : 'false'],\n      contents: [],\n    }\n    if (onStdout && enable) {\n      this.onStdout = (msg: string) => { onStdout(msg) }\n    } else {\n      this.onStdout = undefined;\n    }\n\n    let resultPromise = this.sendMessage<boolean>(message);\n\n    return resultPromise;\n  }\n\n  public subscribeStderr(enable = true, onStderr?: stdCallback) {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.SubscribeStderr,\n      args: [enable ? 'true' : 'false'],\n      contents: [],\n    }\n    if (onStderr && enable) {\n      this.onStderr = (msg: string) => { onStderr(msg) }\n    } else {\n      this.onStderr = undefined;\n    }\n\n    let resultPromise = this.sendMessage<boolean>(message);\n\n    return resultPromise;\n  }\n\n  public sendStdin(msg: string): Promise<boolean> {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.SendStdin,\n      args: [],\n      contents: [msg],\n    }\n\n    let resultPromise = this.sendMessage<boolean>(message);\n\n    return resultPromise;\n  }\n\n\n  public async createDirectory(fullpath: string): Promise<boolean> {\n    console.log(\"compiler-serive-driver:createDirectory: \" + fullpath)\n\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.CreateDirectory,\n      args: [fullpath],\n      contents: [],\n    }\n\n    let resultPromise = this.sendMessage<boolean>(message);\n\n    return resultPromise;\n  }\n\n  public async readFile(fullpath: string, binary: boolean = true): Promise<string | ArrayBuffer> {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.ReadFile,\n      args: [fullpath],\n      contents: [],\n    }\n    if (binary) { message.args.push('binary'); }\n    let resultPromise = this.sendMessage<string | ArrayBuffer>(message);\n    return resultPromise;\n  }\n\n  public async writeFile(fullpath: string, content: string | ArrayBuffer): Promise<number> {\n    console.log(\"compiler-serive-driver:writeFile: \" + fullpath)\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.WriteFile,\n      args: [fullpath],\n      contents: [],\n    }\n    message.contents.push(content)\n\n    let resultPromise = this.sendMessage<number>(message);\n    return resultPromise;\n  }\n\n  public async readDirectory(fullpath: string): Promise<FsNodeFolder | null> {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.ReadDirectory,\n      args: [fullpath],\n      contents: [],\n    }\n\n    let resultPromise = this.sendMessage<FsNodeFolder | null>(message);\n    return resultPromise;\n  }\n\n\n\n  public async scanDirectory(fullpath?: string, recursive = false, parent?: FsNodeFolder): Promise<FsNodeFolder | null> {\n    if (!fullpath) { fullpath = './' }\n\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.ScanDirectory,\n      args: [fullpath, recursive ? 'recursive' : 'flat'],\n      contents: [],\n    }\n\n    let resultPromise = this.sendMessage<FsNodeFolder | null>(message);\n    return resultPromise;\n  }\n\n  public async renameItem(oldpath: string, newpath: string): Promise<boolean> {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.RenameItem,\n      args: [oldpath, newpath],\n      contents: [],\n    }\n\n    let resultPromise = this.sendMessage<boolean>(message);\n\n    return resultPromise;\n  }\n\n\n  public async delete(fullpath: string): Promise<boolean> {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.Delete,\n      args: [fullpath],\n      contents: [],\n    }\n\n    let resultPromise = this.sendMessage<boolean>(message);\n\n    return resultPromise;\n  }\n\n\n  public async exists(fullpath: string): Promise<boolean> {\n    let message: CompilerMessage = {\n      uid: this.requestUID(),\n      type: CompilerMessageType.Exists,\n      args: [fullpath],\n      contents: [],\n    }\n\n    let resultPromise = this.sendMessage<boolean>(message);\n\n    return resultPromise;\n  }\n\n  private dataToString(data: string | ArrayBuffer) {\n    if (data instanceof ArrayBuffer) { return this.binDecoder.decode(data) }\n    return data\n  }\n\n  private dataToArrayBuffer(data: string | ArrayBuffer) {\n    if (data instanceof ArrayBuffer) { return data }\n    return this.binEncoder.encode(data)\n  }\n\n  private requestUID(): UID {\n    var timestap = new Date().getTime();\n    let seed = Math.floor(Math.random() * 100000000);\n    return 'uid-' + timestap + '-' + seed;\n  }\n}","import { EventEmitter, Injectable } from '@angular/core';\nimport { ProjectDriver, ProjectEnvironment, ProjectLanguage } from '../project-manager-service/project-manager.types';\nimport { ProjectManagerService } from '../project-manager-service/project-manager.service';\nimport { PyodideDriver } from '../python-compiler-service/python-compiler.driver';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CompilerService {\n  // Map of Language -> CompilerDriver\n  private drivers = new Map<ProjectLanguage, ProjectDriver>();\n\n  constructor() {\n    this.drivers.set(ProjectLanguage.PY, new PyodideDriver()); \n    //TODO add other drivers\n  }\n\n  public get(language: ProjectLanguage): ProjectDriver {\n    let driver = this.drivers.get(language);\n    if (!driver) {\n      console.error(\"CompilerService:getDriver:driver_not_found:\", language)\n      throw new Error(\"Driver not found\")\n    }\n    return driver;\n  }\n}\n","\nexport type UID = string; // should I ? \n\nexport type PromiseResolver<T> = (value: T | PromiseLike<T>) => void;\n\nexport type stdCallback = (data: string) => void;\nexport type stateCallback = (state: CompilerState, content?: string) => void;\nexport type notifyCallback = (title: string, msg: string, kind: string) => void;\n\nexport type CompilerMessageHandler = (message: CompilerRequest) => CompilerResponse;\n\nexport interface CompilerDriver {\n  installPackages(packages: string[]): Promise<string>;\n  executeCode(code: string): Promise<string>;\n  executeFile(fullpath: string): Promise<string>;\n  stopExecution(signal?: number): Promise<boolean>;\n  subscribeNotify(enable?: boolean, onNotify?: (title: string, msg: string, kind: string) => void): Promise<boolean>;\n  subscribeState(enable?: boolean, onState?: (state: CompilerState, content?: string) => void): Promise<boolean>;\n  subscribeStdout(enable?: boolean, onStdout?: (data: string) => void): Promise<boolean>;\n  subscribeStderr(enable?: boolean, onStderr?: (data: string) => void): Promise<boolean>;\n  sendStdin(msg: string): Promise<boolean>;\n}\n\nexport enum CompilerState {\n  Unknown = 'Unknown',\n  Init = 'Init',\n  Loading = 'Loading',\n  Ready = 'Ready',\n  Run = 'Run',\n  Stdin = 'Stdin',\n  Success = 'Success',\n  Killed = 'Killed',\n  Error = 'Error',\n}\n\n\n\n\nexport enum CompilerMessageType {\n  Ready = 'Ready',\n  Mount = 'Mount',\n  Unmount = 'Unmount',\n  InstallPackages = 'InstallPackages',\n  ExecuteFile = 'ExecuteFile',\n  ExecuteCode = 'ExecuteCode',\n  StopExecution = 'StopExecution',\n  SubscribeNotify = 'SubscribeNotify',\n  SubscribeState = 'SubscribeState',\n  SubscribeStdout = 'SubscribeStdout',\n  SubscribeStderr = 'SubscribeStderr',\n  SendStdin = 'SendStdin',\n  CreateDirectory = 'CreateDirectory',\n  WriteFile = 'WriteFile',\n  ReadFile = 'ReadFile',\n  ReadDirectory = 'ReadDirectory',\n  ScanDirectory = 'ScanDirectory',\n  Delete = 'Delete',\n  Exists = 'Exists',\n  RenameItem = \"RenameItem\"\n}\n\n\nexport interface CompilerMessage {\n  uid: UID;\n  type: CompilerMessageType;\n  args: string[];\n  contents: Array<string | ArrayBuffer>;\n}\n\nexport interface CompilerRequest {\n  uid: UID;\n  timestamp: number;\n  message: CompilerMessage;\n}\n\nexport interface CompilerResponse {\n  uid: UID;\n  timestamp: number;\n  success: boolean;\n  message: CompilerMessage;\n  errors: string[];\n}\n\nexport interface CompilerRequestHandler {\n  uid: UID;\n  request: CompilerRequest;\n  resolvePromise: PromiseResolver<any>\n}\n\n\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class ConfigService {\n    private configUrl = 'src/app/services/config-service/config.service.ts'\n\n    constructor(private http: HttpClient) {}\n\n    getConfig(): Observable<any> {\n        //alert('ritorno il file');\n        return this.http.get(this.configUrl);\n    }\n\n    updateConfig(newConfig: any): Observable<any> {\n        //alert(this.configUrl);\n        return this.http.put(this.configUrl, newConfig);\n    }\n}","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApiService } from '../api-service/api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConnectionManagerService {\n  private _url: string = \"\";\n  private _isConnected: boolean = false;\n\n  constructor( private readonly router: Router, private api:ApiService ) { }\n\n  public get isConnected(): boolean {\n    return this._isConnected;\n  }\n\n  public get url(): string {\n    return this._url;\n  }\n\n  public set url(value: string) {\n    if(this.api.setUrl(value)){\n      this._url = value;\n    }\n  }\n\n  public disconnect(): void {\n    this._isConnected = false;\n    this.router.navigate(['/home']);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { IndexeddbFsDriver } from './fs.service.test';\nimport { FsNodeFolder, FsNodeFile, FsServiceDriver } from './fs.service.types';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FsService {\n  public drivers = new Map<string,FsServiceDriver>();\n  public static EmptyFolder = {name:\"\", path: \"/\", files:[], folders:[]} as FsNodeFolder\n  public static EmptyFile = {name:\"\", path: \"/\", content:\"\"} as FsNodeFile\n  \n  constructor(){\n    console.log('FsService:constructor')\n     //TODO: Remove test driver FS from constructor\n    //this.registerDriver('example', new IndexeddbFsDriver());   \n  }\n\n  registerDriver(name:string, driver: FsServiceDriver):boolean{\n    //if (name in this.drivers){return false;}\n    //alert('register: '+driver)\n    this.drivers.set(name, driver);\n    //alert('register: '+driver.constructor.name+' | all: '+this.getDriverNames())\n    return true;\n  }\n\n  getDriver(name:string): FsServiceDriver | undefined{\n    //alert(name + ' '  + this.getDriverNames() )\n    if ( this.drivers.has(name) ){return this.drivers.get(name);}\n    alert(name + ' NOT found in: '  + this.getDriverNames() + \" | getDriver: undefined !!!\" )\n    return undefined\n    \n  }\n\n  getDriverNames(){\n    return Array.from(this.drivers.keys());\n  }\n\n  treeToList(root:FsNodeFolder){\n    let items = new Array<FsNodeFile|FsNodeFolder>();\n    let queue = new Array<FsNodeFolder>();\n    \n    queue.push(root)\n    console.log('treeToList:root',root)\n    console.log('treeToList:queue:0:',queue.length)\n    while(queue.length > 0){\n      let dir = queue.shift()\n      console.log('treeToList:dir:',dir)\n      if(!dir){break;}\n      items = items.concat(dir.files, dir.folders)\n      queue = queue.concat(dir.folders)\n      console.log('treeToList:queue:',queue.length)\n    }\n    return items;\n  }\n}\n\n\nexport class Tar{\n  public static tarstream = require('tar-web')\n  public static b4a = require('b4a')\n\n  public static binEncoder = new TextEncoder(); // always utf-8\n  public static binDecoder = new TextDecoder(\"utf-8\");\n\n  static unpack(tarball: ArrayBuffer, cb: (files:FsNodeFile[],folders:FsNodeFolder[])=>void ){\n    var extract = this.tarstream.extract()\n\n    var files = new Array<FsNodeFile>();\n    var folders = new Array<FsNodeFolder>();\n    \n    \n    extract.on('entry', function(header:any, stream:any, next:()=>void) {\n      // header is the tar header\n      // stream is the content body (might be an empty stream)\n      // call next when you are done with this entry\n\n      console.log('Tar:unpack:entry:header',header)\n      console.log('Tar:unpack:entry:stream',stream)\n\n      let fullpath = header.name;\n      let filetype = header.type;\n        \n      if ( filetype == 'file' ){\n        stream.on('data', (data:any)=>{\n          console.log('Tar:unpack:entry:data',data)\n          let filename = fullpath.split(\"/\").slice(0,-1)[0];\n          let file:FsNodeFile = {path:fullpath, name:filename, content: data}\n          console.log('Tar:unpack:entry:file',file, stream.read)\n          files.push(file)\n        })\n      }else if ( filetype == 'directory' ){\n        let dirname = fullpath;\n        if( dirname.slice(-1) == '/' ) {dirname = dirname.slice(0,-1)}\n        let forder:FsNodeFolder = {path:fullpath, name:dirname, files:[], folders:[] }\n        console.log('Tar:unpack:entry:forder',forder)\n        folders.push(forder)\n      }\n      \n      // ready for next entry\n      stream.on('end', () => {\n        console.log('Tar:unpack:entry:end'); \n        next()\n      })\n\n      stream.resume() // just auto drain the stream\n    })\n\n    extract.on('finish', function() {\n      console.log('Tar:unpack:finish')\n      console.log('Tar:unpack:files',files)\n      console.log('Tar:unpack:folders',folders)\n      files.sort((a,b)=>a.path.length - b.path.length)\n      folders.sort((a,b)=>a.path.length - b.path.length)\n      // all entries read\n      if(cb){cb(files,folders)}\n    })\n\n    console.log('Tar:unpack:tarball',tarball)\n    console.log('Tar:unpack:extract',extract)\n\n    let tarData = new Uint8Array(tarball)\n    extract.write(tarData, (errr:any)=>{console.log(\"Tar:unpack:extract:write:\",errr)})\n    extract.end()\n    \n    \n  }\n\n  static pack(items: Array<FsNodeFile|FsNodeFolder>, cb:(tarbell:ArrayBuffer)=>void){\n    let pack = this.tarstream.pack() // pack is a stream\n    console.log(pack);\n\n    var length = 0\n    var chunks = new Array<any>();\n    pack.on('data', (chunk:ArrayBuffer)=>{\n      console.log('data:chunk:prototype:',chunk.constructor.name)\n      console.log('data:chunk:',chunk)\n      length += chunk.byteLength\n      chunks.push(chunk)\n    })\n\n    pack.on('end', ()=>{\n      // Create a new array with total length and merge all source arrays.\n      console.log(chunks)\n      let data = new Uint8Array(length);\n      let offset = 0;\n      chunks.forEach(item => {\n        data.set(item, offset);\n        offset += item.length;\n      });\n      console.log(data)\n      if(cb){cb(data)}\n    })\n\n    let processItems = function(items: Array<FsNodeFile|FsNodeFolder>){\n      let item = items.shift()\n      let file = item as FsNodeFile;\n      console.log(\"Tar:pack:item\", item)\n      \n      let content;\n      let header;\n      if( file.content ){\n        console.log(\"Tar:pack:file\", file)\n        if ( file.content instanceof ArrayBuffer ){\n          content = new Uint8Array(file.content)\n        }else{\n          content = file.content\n        }\n        header = {name: file.path}\n      } else {\n        header = {name: item!.path, type:\"directory\"}\n      }\n      \n      pack.entry(header, content, (error:any) => {\n        console.log(\"Tar:pack:onFinishEntry\", error)\n        if (error) { throw error }\n        if ( items.length == 0 ){\n          pack.finalize()\n        }else{\n          processItems(items)\n        }\n      })\n\n    }\n\n    console.log(\"Tar:pack:processItems\", items)\n    processItems(items)\n  }\n\n  \n  \n\n}\n\n\n\nexport class xxhash{\n  static sharedInstance:any;\n\n  static async load(){\n    const response = await fetch('/assets/xxhsum.wasm')\n    console.log(\"xxhash:load:response\", response);\n    const buffer = await response.arrayBuffer();\n    console.log(\"xxhash:load:buffer\", buffer);\n    WebAssembly.instantiate(buffer).then( result =>{ \n      console.log(\"xxhash:load:instance\", result.instance);\n      xxhash.sharedInstance = result.instance.exports;\n      console.log(\"xxhash:load:DONE\");\n    }).catch((error)=>{\n      console.log(\"xxhash:load:error\", error);\n    })\n  }\n\n  static async xxh128(data:string){\n      return xxhash.sharedInstance.XXH128(data,data.length)\n  }\n}\n\n//xxhash.load()","export class FsNodeList extends Array<FsNodeFile|FsNodeFolder>{};\nexport class FsNodeFileList extends Array<FsNodeFile>{};\nexport class FsNodeFolderList extends Array<FsNodeFolder>{};\n\nexport interface FsNode {\n  name: string;\n  path: string;\n}\n\nexport interface FsNodeFolder extends FsNode {\n  folders: FsNodeFolder[];\n  files: FsNodeFile[];\n}\nexport interface FsNodeFile extends FsNode {\n  content:string|ArrayBuffer\n}\n\nconst FsNodeEmptyFolder = {name:'',path:'', files:[],folders:[]};\nexport {FsNodeEmptyFolder}\n\nexport interface FsServiceDriver {\n  driverName:string;\n\n  mountPoint:string;\n\n  fsRoot:FsNodeFolder;\n  \n  mount(path: string): Promise<boolean>;\n  \n  unmount(path: string): Promise<boolean>;\n\n  ready(): Promise<boolean>;\n\n  createDirectory(fullpath:string): Promise<boolean>;\n\n  writeFile(fullpath:string, content:string|ArrayBuffer): Promise<number>;\n\n  readFile(fullpath:string, binary?: boolean): Promise<string|ArrayBuffer|null>;\n\n  readDirectory(fullpath:string): Promise<FsNodeFolder|null>;\n\n  renameItem(oldpath: string, newpath:string): Promise<boolean>;\n\n  scanDirectory(fullpath:string): Promise<FsNodeFolder|null>;\n\n  delete(fullpath:string): Promise<boolean>;\n\n  exists(fullpath:string): Promise<boolean>;\n}\n\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GithubApiService {\n\n  private baseUrl: String = 'http://localhost:4000/'\n  \n  constructor() {}\n\n\n\n  public async getAccessToken(codeParam:any) {\n              \n    await fetch(this.baseUrl+\"getAccessToken?code=\" + codeParam, {\n    method: \"GET\"\n    }).then((response) => {\n\n        return response.json();\n    }).then((data) => {\n        console.log(data);\n        if(data.access_token) {\n          localStorage.setItem(\"accessToken\", data.access_token);\n        }\n    })\n  }\n\n  public async getUserData() {\n    console.log(\"GET USER DATA\")\n    await fetch(this.baseUrl+\"getUserData\", {\n    method: \"GET\",\n    headers: {\n      \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\") // Bearer ACCESSTOKEN\n    }\n    }).then((response) => {\n\n      return response.json();\n    }).then((data) => {\n        localStorage.setItem(\"username\", data.login)\n    })\n  }\n\n  public async getRepoList() {\n              \n    return await fetch(this.baseUrl+\"getRepoList?username=\" + localStorage.getItem(\"username\"), {\n    method: \"GET\",\n    headers: {\n      \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\") // Bearer ACCESSTOKEN\n    }\n    }).then((response) => response.json())\n  }\n  \n\n  public async getRepository(repository: string) {\n    console.log(\"GET REPO\")\n    return await fetch(this.baseUrl+\"getRepository?username=\" + localStorage.getItem(\"username\") + \"&repository=\" + repository, {\n    method: \"GET\",\n    headers: {\n      \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\"), // Bearer ACCESSTOKEN\n    }\n    }).then((response) => response.json())\n\n  }\n\n  public async createRepository(repository: string) {\n    console.log(\"CREATE REPO\")\n    await fetch(this.baseUrl+\"createRepository?repository=\" + repository, {\n    method: \"GET\",\n    headers: {\n      \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\"), // Bearer ACCESSTOKEN\n    }\n    }).then((response) => {\n\n      return response.json();\n    })\n  }\n\n  \n  public async  getReference(repository:string) {\n              \n    console.log(\"GET REFERENCE\")\n\n    return await fetch(this.baseUrl+\"getReference?username=\" + localStorage.getItem(\"username\") + \"&repository=\" + repository, {\n    method: \"GET\",\n    headers: {\n      \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\"), // Bearer ACCESSTOKEN\n      \"Content-Type\": \"application/json\"\n    },\n    }).then((response) => response.json())\n  }\n\n\n  public async createTree(repository:string, tree:any) {\n    console.log(\"CREATE TREE\")\n\n    var bodyObj = JSON.stringify({\n      \"content\": tree\n    });\n\n    return await fetch(this.baseUrl+\"createTree?username=\" + localStorage.getItem(\"username\") + \"&repository=\" + repository, {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\"), // Bearer ACCESSTOKEN\n        \"Content-Type\": \"application/json\"\n      },\n      body: bodyObj,\n      }).then((response) => response.json())\n  }\n\n  public async createCommit(repository:string, data:any,sha:any) {\n    console.log(\"CREATE COMMIT\")\n\n    let parentCommitsha = sha;\n\n    let bodyObj = JSON.stringify({\n      \"sha\": parentCommitsha,\n      \"content\": data\n    });\n\n    return await fetch(this.baseUrl+\"createCommit?username=\" + localStorage.getItem(\"username\") + \"&repository=\" + repository, {\n    method: \"POST\",\n    headers: {\n      \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\"), // Bearer ACCESSTOKEN\n      \"Content-Type\": \"application/json\"\n    },\n    body: bodyObj,\n    }).then((response) => response.json())\n\n  }\n\n  public async updateReference(repository:string, data:any) {\n    console.log(\"UPDATE REFERENCE\")\n\n    let bodyObj = JSON.stringify({\n      \"content\": data\n    });\n\n    return await fetch(this.baseUrl+\"updateReference?username=\" + localStorage.getItem(\"username\") + \"&repository=\" + repository, {\n    method: \"POST\",\n    headers: {\n      \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\"), // Bearer ACCESSTOKEN\n      \"Content-Type\": \"application/json\"\n    },\n    body: bodyObj,\n    }).then((response) => response.json())\n\n  }\n\n\n  public async getRepositoryAsTar(repository:string) {\n    console.log(\"GET TAR URL\")\n    \n    return await fetch(this.baseUrl+\"getRepositoryAsTar?username=\" + localStorage.getItem(\"username\") + \"&repository=\" + repository, {\n    method: \"GET\",\n    headers: {\n      \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\") // Bearer ACCESSTOKEN\n    }\n    }).then((response) => response.json())\n    \n  }\n\n  public async getTar(url:string) {\n    console.log(\"GET TAR\")\n\n    return await fetch(this.baseUrl+\"getTar?url=\" + url, {\n      method: \"GET\",\n      headers: {\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\") // Bearer ACCESSTOKEN\n      }\n    })\n    \n  }\n\n}\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\nimport { ProjectManagerService } from '../project-manager-service/project-manager.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HotkeysService {\n  \n  private hotkeysSubject = new Subject<KeyboardEvent>();\n\n  public hotkeysAction = new EventEmitter<any>();\n  public onHotkeysReceived = new EventEmitter<any>();\n  public configModified = false;\n\n  constructor(private pms: ProjectManagerService ) {\n    // register keyboard event listener when the service is initialized\n    this.registerHotkeysEvents();\n  }\n\n  // emit keyboard events\n  public emitHotkeysEvent(event: KeyboardEvent) {\n    this.hotkeysSubject.next(event);\n  }\n\n  // subscribe to hotkeys events\n  public registerHotkeysEvents(): Observable<KeyboardEvent> {\n    return this.hotkeysSubject.asObservable();\n  }\n\n  public getCorrectHotkey(event:KeyboardEvent) {\n    let project = this.pms.getCurrentProject();\n    if (!project) { return; }\n    \n    let config = project.config\n\n  // avoid repetition, you can perform the action only once at a time\n  if(event.repeat === false){\n\n    if(config != null){\n\n      // check if CTRL is pressed\n      if(event.ctrlKey === config.HOTKEY_SAVE.Control || event.ctrlKey === config.HOTKEY_EXPORT.Control){\n      \n        // check if S is pressed\n        if(event.key === config.HOTKEY_SAVE.Key){\n          event.preventDefault();\n          console.log(\"CTRL+S pressed\");\n          this.hotkeysAction.emit('save');\n        \n        // check if E is pressed\n        }else if(event.key === config.HOTKEY_EXPORT.Key){\n          event.preventDefault();\n          console.log(\"CTRL+E pressed\");\n          this.hotkeysAction.emit('export');\n        }\n      \n        // check if F8 is pressed\n        }else if(event.key === config.HOTKEY_RUN.Key){\n          event.preventDefault();\n          console.log(\"F8 pressed\");\n          this.hotkeysAction.emit('run');\n        \n        // check if F9 is pressed \n        }else if(event.key === config.HOTKEY_TEST.Key){\n          event.preventDefault();\n          console.log(\"F9 pressed\");\n          this.hotkeysAction.emit('test');\n        }    \n      }\n    }\n  }\n\n  /* public async addToConfig(project: ProjectEnvironment | null) {\n    \n    project?.config?.parseFile(project.config)\n  \n    if(project != null && project.config != null){\n      if(project.config.CONFIG_PATH != undefined){\n        await project.config.save(project.driver);\n        //project.driver.writeFile(project.config.CONFIG_PATH, string_config)\n      }\n    }\n\n    console.log(\"Updated config file: \", project?.config);\n  } */\n}\n","import { EventEmitter, Injectable } from '@angular/core';\n\nexport enum NotificationType{\n  Debug = 'debug',\n  Info = 'info',\n  Warning = 'warning',\n  Error = 'error',\n  System = 'system',\n  Default = Info\n}\n\nexport class NotificationMessage{\n  constructor(\n    public title: string,\n    public message: string,\n    public type = NotificationType.Info,\n    public timestamp = Date.now()\n  ){}\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NotificationManagerService {\n  history = new Array<NotificationMessage>();\n  \n  constructor() { }\n\n  public onNotification = new EventEmitter<NotificationMessage>();\n\n  sendNotification(title:string, message: string, type=NotificationType.Info){\n    let notification = new NotificationMessage(title, message, type);\n    this.onNotification.emit(notification)\n    this.history.push(notification)\n  }\n\n}\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { ApiService, } from '../api-service/api.service';\nimport { ArgDescriptor, ParamsMap, ProblemDescriptor, ProblemList, ProblemMap, ServiceDescriptor, ServiceMap } from './problem-manager.types';\nimport { ProjectManagerService } from '../project-manager-service/project-manager.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProblemManagerService {\n\n  //selectedProblem?: ProblemDescriptor\n  //selectedService?: ServiceDescriptor\n\n  problemList=new ProblemList();\n  problems=new ProblemMap();\n  services=new ServiceMap();\n  savedParams=new ParamsMap();\n\n\n  public onProblemsChanged = new EventEmitter<boolean>();\n  public onProblemSelected = new EventEmitter<ProblemDescriptor>();\n  public onError = new EventEmitter<any>();\n  public onProblemsLoaded = new EventEmitter<void>();\n\n  public onServiceSelected = new EventEmitter<ServiceDescriptor>();\n\n  constructor(\n    public api:ApiService,\n    public pms: ProjectManagerService,\n  ){}\n\n\n  public getProblems(){\n    return this.problemList;\n  }\n\n\n  public updateProblems(){\n    //this.selectedProblem=undefined;\n    //this.selectedService=undefined;\n    /*\n    let config = this.pms.getCurrentProject().config\n    config.TAL_PROBLEM = \"\";\n    config.TAL_SERVICE = \"\";\n    */\n\n    this.problemList=[];\n    this.problems.clear();\n    this.services.clear();\n    this.onProblemsChanged.emit(true)\n\n    let req = this.api.problemList((problemMap) => {\n      console.log('apiProblemList:problemList:', problemMap)\n      problemMap.forEach(( problem, name )=>{\n        let problemDesc = new ProblemDescriptor(name, problem)\n        this.problemList.push(problemDesc)\n        this.problems.set(problemDesc.key,problemDesc);\n        problemDesc.services.forEach((serviceDesc)=>{\n          this.services.set(serviceDesc.key, serviceDesc)\n        })\n      })\n      this.onProblemsChanged.emit(false)\n      this.onProblemsLoaded.emit()\n    });\n    req.onError = (error) => {\n      this.onProblemsChanged.emit(false)\n      this.onError.emit(error)\n    };\n  }\n\n\n  selectProblem(selectedProblem: ProblemDescriptor){\n    console.log('problem-manager-service:selectProblem:',selectedProblem.key)\n    let config = this.pms.getCurrentProject().config\n    config.TAL_PROBLEM = selectedProblem.key;\n    config.TAL_SERVICE = \"\";\n    \n    this.pms.getCurrentProject().saveConfig(this.pms.getCurrentDriver());\n\n    this.onProblemSelected.emit(selectedProblem);\n  }\n\n  private getProblem(problemName: string) {\n    return this.problems.get(problemName);\n  }\n\n  public getCurrentProblem() {\n    return this.getProblem(this.pms.getCurrentProject().config.TAL_PROBLEM || \"\");\n  }\n\n  selectService(selectedService: ServiceDescriptor){\n    let name = selectedService.key;\n    if ( this.savedParams.has(name) ){\n      //TODO: Deep copy param values from  to selectedProblem object, to account for changes in the problem structure.\n      //this.selectedService = this.savedParams.get(name)\n    }else{\n      this.savedParams.set(name,selectedService);\n      //this.selectedService = selectedService;\n    }\n\n    let project = this.pms.getCurrentProject();\n    project.config.TAL_SERVICE = selectedService.getKey();\n    project.saveConfig(this.pms.getCurrentDriver());\n\n    this.onServiceSelected.emit(selectedService);\n  }\n\n  getService(serviceName: string) {\n    return this.services.get(serviceName);\n  }\n\n  getCurrentService() {\n    let project = this.pms.getCurrentProject();\n    return this.getService(project.config.TAL_SERVICE || \"\");\n  }\n\n  validateArgs(service: ServiceDescriptor){\n    let issues = new Map<string,any>();\n    service.args.forEach((arg)=>{\n      let issue = this.validateArg(arg)\n      if(issue){issues.set(arg.key,issue)}\n    })\n    return issues;\n  }\n\n  validateArg(arg: ArgDescriptor){\n      //set\n      if (arg.regex === null){\n        console.log(\"validateArg:regex:null\")\n        return null\n      }\n\n      //valid re\n      let pattern;\n      try{\n        pattern = new RegExp(arg.regex)\n      }catch(error:any) {\n        console.log(\"validateArg:regex:invalid\")\n        return null;\n      }\n\n      //match\n      let match = arg.value.match(pattern)\n      console.log(\"validateArg:value:\",arg.value)\n      console.log(\"validateArg:pattern:\",pattern)\n      console.log(\"validateArg:match:\",match)\n      if(!match || match.length == 0){\n        console.log(\"validateArg:match:no\")\n        return arg.name + \": Validation error\";\n      }\n      console.log(\"validateArg:match:yes\")\n      return null;\n  }\n\n}\n","import { Packets } from '../api-service/api.packets';\nimport {  Meta } from '../api-service/api.service';\n\n\nexport class RawMap extends Map<string, Meta>{};\nexport class ProblemList extends Array<ProblemDescriptor>{};\nexport class ProblemMap extends Map<string, ProblemDescriptor>{};\nexport class ServiceMap extends Map<string, ServiceDescriptor>{};\nexport class ParamsMap extends ServiceMap{};\nexport class ArgsMap extends Map<string, ArgDescriptor>{};\nexport class FilesMap extends Map<string, FileDescriptor>{};\n\nexport class ProblemDescriptor {\n  public key;\n  public services=new ServiceMap();\n  \n  constructor(\n    public name:string, \n    meta:Meta,\n    ){\n      meta.services.forEach((service,serviceName)=>{\n        let serviceDesc = new ServiceDescriptor(serviceName,service,this)\n        this.services.set(serviceDesc.getKey(), serviceDesc)\n      })\n      this.key = this.getKey()\n    }\n\n    getKey(){\n      let key = this.name.trim()\n      key = key.toLowerCase()\n      key = key.replace(\"_+\",\"_\")\n      key = key.replace(\" \",\"-\")\n      key = key.replace(\"-+\",\"-\")\n      key = key.replace(\"[^a-z0-9_-]\",\"\")\n      \n      return key\n    }\n}\n\nexport class ServiceDescriptor {\n  public key;\n  public args = new ArgsMap();\n  public evaluator;\n  public files = new FilesMap();\n  public filesOrder\n  constructor( public name:string, \n               service:Packets.Service,\n               public parent:ProblemDescriptor,\n    ){\n      this.evaluator = service.evaluator\n      \n      this.filesOrder = service.files ?? []\n      this.filesOrder.forEach(name =>{\n        let file = new FileDescriptor(name,this)\n        this.files.set(file.name,file)\n      })\n      service.args!.forEach((arg,argName)=>{\n        //console.log('ServiceDescriptor:constructor:arg', arg)\n        let argDesc = new ArgDescriptor(argName,arg,this)\n        this.args.set(argName,argDesc)\n      })\n      console.log('ServiceDescriptor:constructor:args', this.args)\n      this.key = this.getKey()\n    }\n\n    public getKey(){\n      let key = this.name.trim()\n      key = key.toLowerCase().trim()\n      key = key.replace(\" \",\"-\")\n      key = key.replace(\"[^a-z0-9_-]\",\"\")\n      key = key.replace(\"-+\",\"-\")\n      key = key.replace(\"_+\",\"_\")\n      return this.parent.getKey() + \"_\" + key\n    }\n\n    public exportArgs(){\n      let args:any = {}\n      this.args.forEach(arg=>{\n        if (arg.value !== arg.default) {\n          args[arg.name]=arg.value\n        }\n      })\n      return args;\n    }\n\n    public exportFilesPaths(){\n      let fileArgs = new Map<string,string>();\n      this.filesOrder.forEach((name)=>{\n        let file = this.files.get(name)\n        if(!file || file.value==\"\"){return}\n        fileArgs.set(name,file.value)\n      })\n\n      return fileArgs\n    }\n}\n\nexport class ArgDescriptor{\n  public key;\n  public default: string\n  public regex: RegExp\n  public value: string\n  \n  constructor(\n    public name:string, \n    arg: Packets.Arg,\n    public parent: ServiceDescriptor\n    ){\n    this.default = arg.default\n    this.regex = arg.regex\n    this.value = arg.default\n    this.key = this.getKey()\n  }\n\n  getKey(){\n    let key = this.name.trim()\n    key = key.toLowerCase().trim()\n    key = key.replace(\" \",\"-\")\n    key = key.replace(\"[^a-z0-9_-]\",\"\")\n    key = key.replace(\"-+\",\"-\")\n    key = key.replace(\"_+\",\"_\")\n    return this.parent.getKey() + \"_\" + key\n  }\n}\n\nexport class FileDescriptor{\n  public key;\n  public value:string=\"\"; \n\n  constructor(\n    public name:string, \n    public parent: ServiceDescriptor\n    ){\n    this.key = this.getKey()\n  }\n\n  getKey(){\n    let key = this.name.trim()\n    key = key.toLowerCase().trim()\n    key = key.replace(\" \",\"-\")\n    key = key.replace(\"[^a-z0-9_-]\",\"\")\n    key = key.replace(\"-+\",\"-\")\n    key = key.replace(\"_+\",\"_\")\n    return this.parent.getKey() + \"_\" + key\n  }\n}\n\n\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { ProjectDriver, ProjectEnvironment, ProjectLanguage } from './project-manager.types';\nimport { PyodideProjectEnvironment } from '../python-compiler-service/python-compiler.types';\nimport { on } from 'events';\nimport { CompilerService } from '../compiler-service/compiler-service.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProjectManagerService {\n  //ID -> ProjectEnvironment\n  private projectsEnvironment = new Map<number, ProjectEnvironment | null>();\n\n  private currentProjectEnvId = -1;\n  private currentProjectEnv: ProjectEnvironment | null = null;\n\n  public currentProjectChanged = new EventEmitter<void>();\n  public projectManagerServiceListChanged = new EventEmitter<void>();\n\n  static readonly projectsFolder = \"Projects\";\n\n  constructor(private compiler : CompilerService) {\n    /* TODO: Multi Compiler */\n    // Wait all the worker needed for the load!!\n\n    let driver = this.compiler.get(ProjectLanguage.PY)\n    driver.onWorkerReady.subscribe(() => {\n      console.log(\"ProjectManagerService:CompilerService:onWorkerReady\")\n      this.load();\n    });\n\n    driver.onMountChanged.subscribe(() => {\n      console.log(\"ProjectManagerService:mountChanged\")\n      let project = this.getCurrentProject()\n      let id = this.getCurrentProjectId()\n      project.load(driver)\n      \n      console.log(\"ProjectManagerService:mountChanged:id:\", id, project, project.isLoaded)\n      if(project.isLoaded){\n        console.log(\"ProjectManagerService:setCurrent:mountChanged:loaded\")\n        this.currentProjectChanged.emit()\n      }else{\n        project.onLoaded.subscribe(() => {\n          console.log(\"ProjectManagerService:createProject:onProjectReady:id:\", id)\n          this.currentProjectChanged.emit()\n          project.isLoaded = true\n        });\n      }\n    })\n   }\n\n  public getProjectsEnvironment() {\n    return this.projectsEnvironment;\n  }\n\n  private createProject(projectLanguage: ProjectLanguage) : ProjectEnvironment {\n    console.log(\"ProjectManagerService:createProject:\")\n\n    let projectEnvironment: ProjectEnvironment;\n\n    // TODO: add switch python/cpp\n    /*\n    if(projectLanguage == ProjectLanguage.C)\n      projectEnvironment = new ___ProjectEnvironment();\n\n    if(projectLanguage == ProjectLanguage.CPP)\n      projectEnvironment = new ___ProjectEnvironment();\n    \n    else // Default to Python\n    */\n      projectEnvironment = new PyodideProjectEnvironment();\n\n    return projectEnvironment;\n  }\n\n  public async setCurrent(id: number) {\n    console.log(\"ProjectManagerService:setCurrent:id:\", id)\n    \n    if (this.getProjectsId().indexOf(id) < 0){\n      console.log(\"ProjectManagerService:setCurrent:id:not_found\")\n      throw new Error(\"Project not found\")\n    }\n\n    let projectEnvironment = this.projectsEnvironment.get(id)\n    if (!projectEnvironment) {\n      // The project is not loaded from the storage\n      console.log(\"ProjectManagerService:setCurrent:loadFromStorage:id: \", id)\n      projectEnvironment = await this.createProject(ProjectLanguage.PY)\n      \n      this.projectsEnvironment.set(id, projectEnvironment)// Replace the null value\n    }\n    console.log(\"ProjectManagerService:setCurrent:id:\", id, projectEnvironment)\n\n    let oldId = this.currentProjectEnvId;\n\n    this.currentProjectEnv = projectEnvironment;\n    this.currentProjectEnvId = id;\n    console.log(\"ProjectManagerService:setCurrent:done:id:\", id)\n\n    // TODO: multidriver\n    let driver = this.getCurrentDriver()  \n    driver.onUnmountChanged.subscribe(() => {\n      console.log(\"ProjectManagerService:setCurrent:mounting:id:\", this.getCurrentProjectId())\n      driver.mountByProjectId(this.getCurrentProjectId())\n    })\n\n    if(oldId != -1)// In this case will wait the didReceiveUnmount function to mount the new project\n      driver.unmountByProjectId(oldId) \n    else\n      driver.onUnmountChanged.emit()\n  }\n\n  public async runProject() {\n    let id = this.getCurrentProjectId()\n    let project = this.getCurrentProject()\n    console.log(\"PythonCompilerService:runProject:id:\", id)\n    \n    await this.installPackages(project.config.EXTRA_PACKAGES)\n    let result = await this.getCurrentDriver().executeFile(project.config.RUN)\n    console.log(\"PythonCompilerService:runProject:id:\", id, \"result:\", result)\n    return result\n  }\n\n  private async installPackages(packages: string[]) {\n    this.getCurrentDriver().installPackages(packages)\n  }\n\n  public async stopExecution() {\n    this.getCurrentDriver().stopExecution()\n  }\n\n  public addProject() {\n    console.log(\"ProjectManagerService:addProject\")\n\n    let id = 0\n    let ids = this.getProjectsId()\n    console.log(\"ProjectManagerService:addProject:ids\", ids)\n    if(ids.length > 0)\n      id = Math.max(...ids) + 1\n\n    console.log(\"ProjectManagerService:addProject:id: \", id)\n    this.projectsEnvironment.set(id, this.createProject(ProjectLanguage.PY));\n    this.setCurrent(id);\n\n    this.projectManagerServiceListChanged.emit();\n    this.store();\n  }\n\n  private async load() {\n    // Read from cache, to replace with the previous comment\n    let content = localStorage.getItem('projectsCached');\n    console.log(\"ProjectManagerService:load:\", content)\n\n    if (content == null){\n      this.addProject();\n      return\n    }\n      \n    // Load the projects from the storage\n    for (let storedId of JSON.parse(content) as number[])\n      this.projectsEnvironment.set(storedId, null);\n    /* IMPORTANT:\n    The id is added to the map with null value but will be replaced\n    with the rigth ProjectManagerService saved into the storage just\n    if needed by getProjectManagerService(...)\n    */\n\n    this.setCurrent(Math.min(...this.getProjectsId()));\n    this.projectManagerServiceListChanged.emit();\n  }\n\n  private store() {\n    // Write the ids to add the new one\n    let content = JSON.stringify(this.getProjectsId());\n    console.log(\"ProjectManagerService:store:\", content)\n    \n    // Write to cache, to replace with the previous comment\n    localStorage.setItem('projectsCached', content);\n  }\n\n  public getProjectsId() {\n    return Array.from(this.projectsEnvironment.keys()).sort();\n  }\n\n  public getCurrentProject() : ProjectEnvironment {\n    if (!this.currentProjectEnv){\n      console.log(\"ProjectManagerService:getCurrentProject:throw: No project selected\")\n      throw new Error(\"No project selected\")\n    }  \n    return this.currentProjectEnv;\n  }\n\n  public getCurrentProjectId() : number {\n    return this.currentProjectEnvId;\n  }\n\n  public getCurrentDriver() : ProjectDriver {\n    return this.compiler.get(this.getCurrentProject().language)\n  }\n}\n","import { EventEmitter } from '@angular/core';\nimport { CompilerDriver } from \"../compiler-service/compiler-service.types\";\nimport { FsNodeFile, FsServiceDriver } from \"../fs-service/fs.service.types\"\n\nexport enum ProjectLanguage {\n  PY = 'PY',\n  C = 'C',\n  CPP = 'CPP',\n}\n\nexport interface ProjectDriver extends FsServiceDriver, CompilerDriver {\n  onWorkerReady: EventEmitter<void>;//First Event\n  isWorkerReady: boolean;\n\n  eventsSubscribed: boolean\n\n  root: string;\n  mountPoint: string;\n\n  onMountChanged: EventEmitter<void>;\n  onUnmountChanged: EventEmitter<void>;\n\n  mountRoot(): Promise<boolean>;\n\n  mountByProjectId(projectId: number): Promise<boolean>;\n\n  unmountByProjectId(projectId: number): Promise<boolean>;\n\n};\n\nexport abstract class ProjectEnvironment {\n  public language: ProjectLanguage\n  public config: ProjectConfig = ProjectConfig.defaultConfig;\n\n  //public onProjectConfigChanged = new EventEmitter<void>();\n  public onLoaded = new EventEmitter<void>();\n  public isLoaded = false;\n\n  public files: FsNodeFile[] = [];\n\n  constructor(language : ProjectLanguage){\n    this.language = language;\n  }\n\n  public async load(driver : ProjectDriver): Promise<boolean> {\n    console.log(\"ProjectEnvironment:mounted\")\n    console.log(\"ProjectEnvironment:load\")\n\n    //wait until the config is loaded\n    if (!await this.loadConfig(driver)){\n      console.log(\"ProjectEnvironment:load:config:not_found\")\n      this.config.CREATE_EXAMPLES = true\n    }\n\n    await console.log(\"ProjectEnvironment:load:config:done:\", this.config)\n\n    let res = true;\n    if (this.config.CREATE_EXAMPLES) {\n      console.log(\"ProjectEnvironment:createExample\")\n      res = await this.createExample(driver)\n    }\n    else\n      console.log(\"ProjectEnvironment:loadProject\")\n\n    this.config.CREATE_EXAMPLES = false\n    this.saveConfig(driver)\n\n    console.log(\"ProjectEnvironment:load:done\")\n    this.onLoaded.emit()\n\n    return res;\n  }\n\n  protected abstract createExample(driver : ProjectDriver): Promise<boolean>;\n\n  async saveConfig(driver : ProjectDriver): Promise<boolean> {\n    console.log(\"ProjectEnvironment:saveConfig:\")\n\n    //TODO search were was: compilerService.getDriver(this.laguange).installPackages(this.config.EXTRA_PACKAGES)\n\n    let res = await this.config.save(driver)\n    if (res == true)\n      console.log(\"ProjectEnvironment:saveConfig: done\")\n    else\n      console.log(\"ProjectEnvironment:saveConfig: failed\")\n\n    //this.onProjectConfigChanged.emit();//TODO: infity loop\n\n    return res\n  }\n\n  async loadConfig(driver : ProjectDriver): Promise<boolean> {\n    console.log(\"ProjectConfig:load\");\n    let path = ProjectConfig.defaultConfig.CONFIG_PATH\n\n    console.log(\"ProjectConfig:load:path:\", path)\n    if (!await driver.exists(path))\n      return false\n\n    let configContent = await driver.readFile(path, false) as string;\n    console.log(\"ProjectConfig:load:found.\", configContent)\n\n    let config = null\n    try {\n      config = JSON.parse(configContent) as ProjectConfig\n      Object.setPrototypeOf(config, ProjectConfig.prototype)\n    } catch {\n      console.log(\"ProjectConfig:load:config:JSON:parse: failed\")\n      return false\n    }\n\n    this.config = config\n    console.log(\"ProjectConfig:load:config.\", this.config)\n\n    return true\n  }\n}\n\n\nexport class ProjectConfig {\n  RUN = \"/main.py\"\n  DEBUG = false //TODO\n  PROJECT_NAME = \"Project\"\n  PREFERED_LANG = \"it\"\n\n  TAL_SERVERS = [ //TODO\n    'wss://ta.di.univr.it/algo',\n    \"wss://ta.di.univr.it/sfide\",\n    \"wss://localhost:8008/\",\n  ]\n  TAL_SERVER = \"\" //TODO\n  TAL_PROBLEM = \"\" //TODO\n  TAL_SERVICE = \"\" //TODO\n  TAL_TOKEN = \"\" //TODO\n\n  DIR_PROJECT = '/.talight/'\n  DIR_ATTACHMENTS = '/data/'\n  DIR_RESULTS = '/results/' //TODO\n  DIR_ARGSFILE = '/files/' //TODO\n  DIR_EXAMPLES = '/examples/'\n  CREATE_EXAMPLES = true\n\n  //TODO: hotkey manager service\n  HOTKEY_RUN = { \"Control\": false, \"Alt\": false, \"Shift\": false, \"Key\": 'F8' }\n  HOTKEY_TEST = { \"Control\": false, \"Alt\": false, \"Shift\": false, \"Key\": 'F9' }\n  HOTKEY_SAVE = { \"Control\": true, \"Alt\": false, \"Shift\": false, \"Key\": 's' }\n  HOTKEY_EXPORT = { \"Control\": true, \"Alt\": false, \"Shift\": false, \"Key\": 'e' }\n\n  CONFIG_NAME = 'talight.json'\n  CONFIG_PATH = this.DIR_PROJECT + this.CONFIG_NAME\n\n  EXTRA_PACKAGES: string[] = []\n\n  public static readonly defaultConfig = new ProjectConfig()\n\n  async save(fs: FsServiceDriver) {\n    console.log('ProjectConfig:save');\n    let content = JSON.stringify(this, null, 4)\n    let res = await fs.writeFile(this.CONFIG_PATH, content);\n    return true\n  }\n\n  public isDefaultProjectName() {\n    return this.PROJECT_NAME == ProjectConfig.defaultConfig.PROJECT_NAME\n  }\n}\n\n\n","import { EventEmitter } from '@angular/core';\nimport { CompilerDriver } from '../compiler-service/compiler-service-driver';\n\nexport class PyodideDriver extends CompilerDriver {\n  constructor() {\n    super(new Worker(new URL( 'python-compiler.worker', import.meta.url), {type:'module'}));\n    this.driverName = 'pyodide'\n  } \n}\n  ","let PyodideExamples:Map<string,string> = new Map<string,string>();\n\nPyodideExamples.set('input.py',\n`# Esempio che mostra come utilizzare la funzione di input in ambiente asincrono\nnome = await input(\"Ciao, come ti chiami?\")\nprint(f'Ciao {nome}, posso farti una domanda ?')    \n\nasync def main():\n  while(True):\n    lati = await input(\"quanti lati ha un triangolo?\")\n    if lati==\"3\": break;\n    print(f'No, mi dispiace non ha {lati} lati')    \n  print('Congratulazioni!')\n\nmain()`\n)\n\nPyodideExamples.set('freesum.py',\n`# Example: sum -> free sum\nwhile True:\n    line = await input()\n    #print(f\"# BOT: line={line}\")\n    if line[0] == '#':   # this is a commented line (sent by the service server)\n        if '# WE HAVE FINISHED' == line:\n            exit(0)   # exit upon termination of the service server\n    else:\n        n = int(line)\n        print(f\"{n} 0\")`\n)\n\nPyodideExamples.set('sum.py',\n`# Example: sfilde: somma, sovle\ncnt = int(await input())\nfor i in range(cnt):\n    line = await input()\n    #print(\"line:\", line)\n    nums = line.split(\" \")\n    a = int(nums[0])\n    b = int(nums[1])\n    print(a+b)`   \n)\n\nlet files = new Array<Array<string>>();\nPyodideExamples.forEach((content:string, filename:string)=>{\n  files.push([filename, content])\n})\n\nexport { PyodideExamples } ","import { ProjectDriver, ProjectEnvironment, ProjectLanguage } from \"../project-manager-service/project-manager.types\";\nimport { PyodideExamples } from \"./python-compiler.examples\";\n\nexport class PyodideProjectEnvironment extends ProjectEnvironment{\n    constructor(){\n        super(ProjectLanguage.PY)\n    }\n\n    protected async createExample(driver : ProjectDriver): Promise<boolean> {\n        console.log(\"PyodideProjectEnvironment:createExample\")\n        //Starter files\n        let folders = [\n            this.config.DIR_PROJECT,\n            this.config.DIR_ATTACHMENTS,\n        ]\n        if(this.config.CREATE_EXAMPLES)\n            folders.push(this.config.DIR_EXAMPLES)\n\n        for(let i = 0; i < folders.length; i++){\n            //console.log(\"PyodideProjectEnvironment:createExample:createDirectory:\",folders[i])\n            await driver.createDirectory(folders[i]);\n            //console.log(\"PyodideProjectEnvironment:createExample:createDirectory:OK:\",folders[i])\n        }\n        \n        let files: string[][] = []\n        \n        let configContent = JSON.stringify(this.config, null, 4)\n\n        files.unshift([this.config.CONFIG_PATH, configContent])\n        \n        let mainContent = `print(\"Hello World!\")`;\n        files.push([this.config.RUN, mainContent])\n        \n        if(this.config.CREATE_EXAMPLES){\n            PyodideExamples.forEach((content:string, filename:string)=>{\n                files.push([this.config!.DIR_EXAMPLES + filename, content])\n            })\n        }    \n        \n        for(let i=0; i < files.length; i++){\n            let path = files[i][0]\n            let content = files[i][1]\n            //console.log(\"PyodideProjectEnvironment:loadProject:files:\", path, content)\n            if(await driver.exists(path)){\n                //console.log(\"PyodideProjectEnvironment:loadProject:files:SKIP:\", path)\n                continue;\n            }\n            await driver.writeFile(path, content);  \n        }     \n        return true;        \n    }\n}","import { EventEmitter, Injectable } from '@angular/core';\nimport { Packets } from '../api-service/api.packets';\nimport { Commands } from '../api-service/api.commands';\n\nexport class Meta extends Packets.Meta{}\nexport interface AttachmentInfo extends Packets.Reply.BinaryDataHeader{}\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TerminalApiService {\n  private _url;\n\n  constructor(){\n    this._url = 'wss://ta.di.univr.it/algo'\n  }\n\n  public get url(): string {\n    return this._url;\n  }\n\n  public setUrl(value: string): number {\n    let url;\n \n    try{ url = new URL(value); console.log(url)}catch(_){ return -1; }\n\n    if(!( url.protocol == 'ws:' || url.protocol == 'wss:' )){ return -2; }\n    if(!( value.startsWith('ws://') || value.startsWith('wss://'))){ return -1; }\n    console.log(\"setUrl:valid!\")\n    this.resetAllConnections()\n    this._url = url.href\n    console.log(\"setUrl:href:\",url.href)\n\n    return 0;\n  }\n\n  public resetAllConnections(){\n    //TODO: is it necessary to kill all old connection upon URL change ?\n  }\n\n  public problemList(onResult:(problemList:Map<string, Meta>)=>void, onError?: (error: string)=>void){\n    \n    console.log(\"problemList:\")\n    let cmdList = new Commands.ProblemList(this._url);\n    cmdList.onRecieveProblemList = (message)=>{\n      console.log(\"problemList:onRecieveProblemList:\",message)\n      \n      if(onResult){onResult(message.meta)}\n    }\n    cmdList.onError = (error) => {\n      \n      console.log(\"problemList:onError:\")\n      if(onError) {onError(error)}\n    }\n    cmdList.run();\n    return cmdList;\n  }\n\n  public GetAttachment(\n    problemName:string,\n    onAttachment?: ()=>void,\n    onAttachmentInfo?: (message: Packets.Reply.BinaryDataHeader)=>void,\n    onData?: (data: ArrayBuffer)=>void,\n    onError?: (error: string)=>void\n  ){\n    \n    let cmdGet = new Commands.Attchment(this._url, problemName);\n\n    cmdGet.onReciveAttachment = (message) => {\n      if (message.status.Err){\n        \n        if (cmdGet.onError) { cmdGet.onError(\"Failed to receive attachment: \"+message.status.Ok) }\n        return;\n      }\n      \n      if(onAttachment) { onAttachment() }\n    }\n\n    cmdGet.onReciveAttachmentInfo = (message) => {\n      \n      if(onAttachmentInfo) { onAttachmentInfo(message) }\n    }\n\n    cmdGet.onReciveUndecodedBinary = (message) => {\n      \n      if(onData) { onData( message )}\n    }\n\n    cmdGet.onError = (error) => {\n      \n      if(onError) {onError(error)}\n    }\n\n    cmdGet.run();\n    return cmdGet;\n  }\n\n  public Connect (\n    problem_name:string,\n    service:string,\n    args?:{},\n    tty?:boolean,\n    token?:string,\n    files?:Map<string, string>,\n    onConnectBegin?:(message:string[] )=>void,\n    onConnectStart?:()=>void,\n    onConnectStop?:(message:string[])=>void,\n    onData?: (data:string)=>void,\n    onBinaryHeader?:(message:Packets.Reply.BinaryDataHeader)=>void,\n    onError?:(data:string)=>void\n  ){\n    \n    let cmdConnect = new Commands.Connect(this._url, problem_name, service, args, tty, token, files);\n\n    cmdConnect.onReciveConnectBegin = (message) => {\n      if (message.status.Err){\n        \n        if (cmdConnect.onError) { cmdConnect.onError(\"Failed to begin connection: \"+message.status.Err); }\n        return;\n      }\n      \n      if(onConnectBegin && message.status.Ok) { onConnectBegin(message.status.Ok) }\n    }\n\n    cmdConnect.onReciveConnectStart = (message) => {\n      if (message.status.Err){\n        \n        if (cmdConnect.onError) { cmdConnect.onError(\"Failed to start connect: \"+message.status.Err)  }\n        return;\n      }\n      \n      if(onConnectStart) { onConnectStart() }\n    }\n\n    cmdConnect.onReciveConnectStop = (message) => {\n      if (message.status.Err){\n        \n        if (cmdConnect.onError) { cmdConnect.onError(\"Failed to stop connection: \"+message.status.Err)  }\n        return;\n      }\n      \n      if(onConnectStop && message.status.Ok) { onConnectStop(message.status.Ok) }\n    }\n\n    cmdConnect.onReciveBinary = (message) => {\n      \n      if(onData) { onData(message)}\n    }\n\n    cmdConnect.onReciveBinaryHeader = (message) => {\n      \n      if(onBinaryHeader) { onBinaryHeader( message )}\n    }\n\n    cmdConnect.onError = (error) => {\n      \n      if(onError) {onError(error)}\n    }\n\n    cmdConnect.run();\n    return cmdConnect;\n  }\n\n}\n","import { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\nexport enum AppTheme {\n  light = \"light-theme.css\",\n  dark = \"dark-theme.css\",\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ThemeService {\n\n  public themeChanged: Subject<AppTheme> = new Subject<AppTheme>();\n\n  constructor(@Inject(DOCUMENT) private document: Document) {\n    const storedTheme: AppTheme = localStorage.getItem('theme') as AppTheme || AppTheme.light;\n    this.setTheme(storedTheme);\n  }\n\n  public get currentTheme(): AppTheme {\n    const storedTheme: string = localStorage.getItem('theme') || AppTheme.light;\n    return storedTheme as AppTheme;\n  }\n\n  public setTheme(theme: AppTheme): void {\n    if (theme === AppTheme.light || theme === AppTheme.dark) {\n      let themeLink = this.document.getElementById('app-theme') as HTMLLinkElement;\n\n      if (themeLink) {\n        localStorage.setItem('theme', theme);\n        themeLink.href = theme;\n        this.themeChanged.next(theme);\n      }\n    }\n  }\n\n  public toggleTheme(): void {\n    const storedTheme: string = localStorage.getItem('theme') || AppTheme.light;\n    const newTheme: AppTheme = storedTheme === AppTheme.light ? AppTheme.dark : AppTheme.light;\n    this.setTheme(newTheme);\n  }\n\n  public themeName(): string {\n    switch (this.currentTheme) {\n      case AppTheme.dark:\n        return \"vs-dark\";\n      default:\n        return \"vs\";\n    }\n  }\n}\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { get } from 'http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TutorialService {\n\n  public onTutorialClose = new EventEmitter<void>();\n  public onTutorialChange = new EventEmitter<any>();\n  public onIndexTutorialChange = new EventEmitter<number>();\n\n  constructor() {\n  }\n\n  private tutorials = [\n    {\n      componentName: \"Begin\",\n      text: `Benvenuto in TALight Desktop! Iniziamo con un tutorial con la spiegazione dei vari componenti.\n            Nel caso volessi uscire subito, basta che schiacci il tasto 'Chiudi' in alto a destra su questa finestra.`,\n    },\n    {\n      componentName: \"TopbarWidgetComponent\",\n      text: `Nella topbar potrai trovare le tabs dei progetti vari, il tasto per visualizzare il tutorial nuovamente e potrai passare anche alla dark mode!`,\n    },\n    {\n      componentName: \"FileExplorerWidgetComponent\",\n      text: \"É un file explorer\",\n    },\n    {\n      componentName: \"ExecbarWidgetComponent\",\n      text: `Qui invece sono presenti i bottoni per avviare l'esecuzione,\n              fermarla oppure per verificare la soluzione con il server`\n    },\n    {\n      componentName: \"FileEditorWidgetComponent\",\n      text: \"Come dice il nome, questo é un semplice file editor\",\n    },\n    {\n      componentName: \"ProblemWidgetComponent\",\n      text: \"Seleziona il server, il problema ed il servizio\",\n    },\n    {\n      componentName: \"OutputWidgetComponent\",\n      text: \"OutputWidgetComponent\",\n    },\n    {\n      componentName: \"LogApiWidgetComponent\",\n      text: \"LogApiWidgetComponent\",\n    },\n    {\n      componentName: \"TerminalWidgetComponent\",\n      text: \"TerminalWidgetComponent\",\n    },\n    {\n      componentName: \"End\",\n      text: \"Grazie per aver completato il tour! Buon coding!\",\n    },\n  ]\n\n  public nextTutorial(indexCurrentTutorial: number) {\n    console.log(\"TutorialService:nextTutorial\")\n    if (this.tutorials.length > indexCurrentTutorial) {\n      this.onTutorialChange.emit(this.tutorials[indexCurrentTutorial + 1]);\n      this.onIndexTutorialChange.emit(indexCurrentTutorial + 1);\n    }\n    else {\n      this.closeTutorial()\n    }\n  }\n\n  public previousTutorial(indexCurrentTutorial: number) {\n    console.log(\"TutorialService:previousTutorial\")\n    if (indexCurrentTutorial >= 0) {\n      this.onTutorialChange.emit(this.tutorials[indexCurrentTutorial - 1]);\n      this.onIndexTutorialChange.emit(indexCurrentTutorial - 1);\n    }\n    //Altrimenti blocca il pulsante\n    else {\n      console.log(\"Impossibile andare indietro\")\n    }\n  }\n\n  public closeTutorial() {\n    console.log(\"TutorialService:closeTutorial\")\n    if (this.getCachedTutorial() !== \"true\") {\n      localStorage.setItem('tutorialCached', 'true');\n    }\n    this.onTutorialClose.emit();\n  }\n\n  public getCachedTutorial() {\n    console.log(\"TutorialService:getCachedTutorial \" + localStorage.getItem('tutorialCached'))\n    return localStorage.getItem('tutorialCached');\n  }\n\n  public getSizeTutorial() {\n    console.log(\"TutorialService:getSizeTutorial\")\n    return this.tutorials.length\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'tal-connect-view',\n  templateUrl: './connect-view.component.html',\n  styleUrls: ['./connect-view.component.scss']\n})\nexport class ConnectViewComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"tal-center-page\">\n  <h1>Connettiti ad un server</h1>\n  <div class=\"tal-center-form\">\n    <div class=\"tal-form-input\">\n      <label for=\"serverurl\">Server Url</label>\n      <input name=\"serverurl\" input type=\"text\" pInputText placeholder=\"https://...\" />\n    </div>\n    <p class=\"tal-error\">\n      <i class=\"pi pi-times-circle\"></i>\n      <span>Questo è un errore</span>\n    </p>\n    <button  pButton>Connetti</button>\n  </div>\n\n</div>\n","import { Component, NgZone, OnInit } from '@angular/core';\nimport { ApiService, Meta } from 'src/app/services/api-service/api.service';\nimport { Commands } from 'src/app/services/api-service/api.commands';\nimport { xxhash128} from 'hash-wasm';\nimport { Buffer } from 'buffer';\n\n@Component({\n  selector: 'app-demo-view',\n  templateUrl: './demo-view.component.html',\n  styleUrls: ['./demo-view.component.scss']\n})\nexport class DemoViewComponent implements OnInit {\n  public output = \"\";\n  public cmdConnect?:Commands.Connect;\n\n  constructor(\n    private zone: NgZone,\n    private api: ApiService\n    ) {}\n\n  ngOnInit(): void {\n    //this.hashTest()\n    \n  }\n  //API Test\n    \n  async onApiError(message: string){\n    alert(\"Error: \"+message)\n  }\n\n  public refreshOutput() {\n    this.zone.run(() => this.output += \"\")\n  }\n\n  async apiProblemList() {\n    let onSuccess = (problemList:Map<string, Meta>)=>{ \n      console.log(problemList);\n      this.refreshOutput();\n    }\n    let req = this.api.problemList( onSuccess );\n    req.onError = this.onApiError;\n  }\n\n  async apiGetAttachment() {\n    let problem_name = \"piastrelle\";\n\n    let onAttachment = ()=>{console.log(\"Attachment packet received\")};\n    let onAttachmentInfo = (onAttachmentInfo: any) => {console.log(onAttachmentInfo)};\n    \n    let onData = (data: ArrayBuffer)=>{\n      console.log(data);\n      this.refreshOutput();\n    };\n\n    let req = this.api.GetAttachment(problem_name, onAttachment, onAttachmentInfo, onData);\n    req.onError = this.onApiError;\n\n  }\n  \n\n  async apiConnect() {\n    let problem_name = \"sum_testAPI\";\n    let service = \"free_sum\";\n\n    let onConnectionBegin = (onConnectionBegin: string[]) => {console.log(\"Connection Begin -> \" + onConnectionBegin); };\n    let onConnectionStart = () => {console.log(\"Connection Start\")};\n    let onConnectionClose = (onConnectionClose: string[]) => {console.log(onConnectionClose)};\n    \n    let onData = (data: string)=>{\n      this.output += ''+data\n      console.log(\"Binary data: \"+data);\n      this.refreshOutput();\n    };\n\n    let req = this.api.Connect(problem_name, service, undefined, undefined, undefined, undefined, onConnectionBegin, onConnectionStart, onConnectionClose, onData);\n    req.onError = this.onApiError;\n\n    this.cmdConnect = req;\n\n    this.sendBinary();\n  }\n\n  //OLD\n\n  async apiConnectOld() {\n    let problem_name = \"sum_testAPI\";\n    let service = \"free_sum\";\n\n    let onConnectionBegin = (onConnectionBegin: string[]) => {console.log(\"Connection Begin -> \" + onConnectionBegin); };\n    let onConnectionStart = () => {console.log(\"Connection Start\")};\n    let onConnectionClose = (onConnectionClose: string[]) => {console.log(onConnectionClose)};\n    \n    let onData = (data: string)=>{\n      this.output += ''+data\n      console.log(\"Binary data: \"+data);\n      this.refreshOutput();\n    };\n\n    let req = this.api.Connect(problem_name, service, undefined, undefined, undefined, undefined, onConnectionBegin, onConnectionStart, onConnectionClose, onData);\n    req.onError = this.onApiError;\n\n    this.cmdConnect = req;\n\n    this.sendBinary();\n  }\n\n  async sendBinary() {\n    setTimeout(() => {this.cmdConnect?.sendBinary(\"100 0\\n\");}, 1500);\n    //setTimeout(() => {this.cmdConnect?.sendConnectStop();}, 2500);\n    /*\n    setTimeout(async () => {this.cmdConnect?.sendBinary(\"100 0\");}, 2500);\n    setTimeout(async () => {this.cmdConnect?.sendBinary(\"100 0\");}, 3500);\n    setTimeout(async () => {this.cmdConnect?.sendBinary(\"100 0\");}, 4500);\n    setTimeout(async () => {this.cmdConnect?.sendBinary(\"100 0\");}, 5500);\n    setTimeout(async () => {this.cmdConnect?.sendBinary(\"100 0\");}, 6500);\n    setTimeout(async () => {this.cmdConnect?.sendBinary(\"100 0\");}, 7500);\n    setTimeout(async () => {this.cmdConnect?.sendBinary(\"100 0\");}, 8500);\n    setTimeout(async () => {this.cmdConnect?.sendBinary(\"100 0\");}, 9500);\n    setTimeout(async () => {this.cmdConnect?.sendBinary(\"100 0\");}, 10500);\n    */\n\n    setTimeout(() => {console.log(\"this.cmdConnect!.tal.isOpen()\");\n    console.log(this.cmdConnect!.tal.isOpen());}, 2500);\n  }\n\n  async hashTest(){\n    let hex = await xxhash128(Buffer.from(\"ciao\"));\n    let dec = parseInt(hex,16)\n    alert(hex);\n    alert(dec);\n  }\n}\n","<script>\nfunction testxx(){\n    alert(1)\n}\n</script>\n<script src=\"/assets/xxhsum.js\" type=\"javascript\"></script>\n<div style=\"display:flex; flex-direction: column\">\n    <div>\n        <div>\n            API Demo\n        </div>\n        <div>\n            <button (click)=\"apiProblemList()\">Problem List</button>\n            <button (click)=\"apiGetAttachment()\">Get Attachment</button>\n            <button (click)=\"apiConnectOld()\">Connect Old</button>\n            <button (click)=\"apiConnect()\">Connect</button>\n            <button (click)=\"hashTest()\">Hash</button>\n        </div>\n    </div>\n    \n    \n    <div>\n        <pre>{{output}}</pre>\n    </div>\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { CodeEditorComponent } from 'src/app/widgets/code-editor/code-editor/code-editor.component';\n\n\n@Component({\n  selector: 'tal-home-view',\n  templateUrl: './home-view.component.html',\n  styleUrls: ['./home-view.component.scss']\n})\nexport class HomeViewComponent implements OnInit {\n  \n  @ViewChild(\"codeEditor\") public codeEditor!: CodeEditorComponent;\n\n  constructor(\n  ) {\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"tal-home-container\">\n  <div class=\"tal-home-editor\">\n    <tal-code-editor #codeEditor></tal-code-editor>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'tal-select-problem-view',\n  templateUrl: './select-problem-view.component.html',\n  styleUrls: ['./select-problem-view.component.scss']\n})\nexport class SelectProblemViewComponent implements OnInit {\n\n  public problems: any[] = [\n    {\n      id: 1, name: 'Problem 1',\n    },\n    {\n      id: 2, name: 'Problem 2',\n    },\n    {\n      id: 3, name: 'Problem 3',\n    },\n    {\n      id: 4, name: 'Problem 4',\n    },\n  ];\n\n  public selectedProblem: any = null;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"tal-center-page\">\n  <h1>Seleziona un problema da risolvere</h1>\n  <div class=\"tal-center-form\">\n    <div class=\"tal-problems-list\">\n      <ng-container *ngFor=\"let problem of problems\">\n        <div class=\"tal-problem\" (click)=\"selectedProblem=problem.id\">\n          <p-radioButton name=\"groupname\" [value]=\"problem.id\" [(ngModel)]=\"selectedProblem\">\n          </p-radioButton>\n          <div class=\"tal-problem-details\">\n            <p>{{problem.name}}</p>\n          </div>\n        </div>\n      </ng-container>\n    </div>\n    <button pButton>Inizia</button>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FileExplorerWidgetComponent } from './file-explorer-widget/file-explorer-widget.component';\nimport { CodeEditorComponent } from './code-editor/code-editor.component';\nimport { MonacoEditorModule } from 'ngx-monaco-editor-v2';\nimport { FormsModule } from '@angular/forms';\nimport { ConfirmationService, SharedModule } from 'primeng/api';\nimport { OverlayPanelModule } from 'primeng/overlaypanel';\nimport { TieredMenuModule } from 'primeng/tieredmenu';\nimport { DialogModule } from 'primeng/dialog';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { ConfirmDialogModule } from 'primeng/confirmdialog';\nimport { SplitterModule } from 'primeng/splitter';\nimport { TooltipModule } from 'primeng/tooltip';\nimport { MessageService } from 'primeng/api';\nimport { ToastModule } from 'primeng/toast';\nimport { FileEditorWidgetComponent } from './file-editor-widget/file-editor-widget.component';\nimport { ExecbarWidgetComponent } from './execbar-widget/execbar-widget.component';\nimport { ProblemWidgetComponent } from './problem-widget/problem-widget.component';\nimport { TerminalWidgetComponent } from './terminal-widget/terminal-widget.component';\nimport { DropdownModule } from 'primeng/dropdown';\nimport { MonacoEditorWidgetComponent } from './monaco-editor-widget/monaco-editor-widget.component';\nimport { OutputWidgetComponent } from './output-widget/output-widget.component';\nimport { LogApiWidgetComponent } from './log-api-widget/log-api-widget.component';\nimport {TabViewModule} from 'primeng/tabview';\nimport {ScrollPanelModule} from 'primeng/scrollpanel';\nimport { TerminalModule, TerminalService } from 'primeng/terminal';\n\nimport { GoogleLoginProvider, MicrosoftLoginProvider, SocialLoginModule, SocialAuthServiceConfig } from '@abacritt/angularx-social-login';\nimport { AutoCompleteModule } from 'primeng/autocomplete';\n\n@NgModule({\n  declarations: [\n    FileExplorerWidgetComponent,\n    FileEditorWidgetComponent,\n    CodeEditorComponent,\n    ExecbarWidgetComponent,\n    ProblemWidgetComponent,\n    MonacoEditorWidgetComponent,\n    OutputWidgetComponent,\n    TerminalWidgetComponent,\n    LogApiWidgetComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    MonacoEditorModule,\n    ConfirmDialogModule,\n    OverlayPanelModule,\n    TieredMenuModule,\n    DialogModule,\n    InputTextModule,\n    SplitterModule,\n    SharedModule,\n    TooltipModule,\n    ToastModule,\n    DropdownModule,\n    TabViewModule,\n    ScrollPanelModule,\n    SocialLoginModule,\n    TerminalModule,\n    AutoCompleteModule,\n  ],\n  exports: [\n    FileExplorerWidgetComponent,\n    CodeEditorComponent\n  ],\n  providers: [ ConfirmationService,\n    TerminalService,\n    MessageService,\n    {\n      provide: 'SocialAuthServiceConfig',\n      useValue: {\n        autoLogin: false,\n        providers: [\n          {\n            id: GoogleLoginProvider.PROVIDER_ID,\n            provider: new GoogleLoginProvider('317384189263-2l11jni1gvvfc71paoo2m6mkincms264.apps.googleusercontent.com',\n            {\n              scopes : 'https://www.googleapis.com/auth/drive',\n              prompt : '',   // '' | 'none' | 'consent' |  'select_account'\n              oneTapEnabled: false,\n            }),\n          },\n          {\n            id: MicrosoftLoginProvider.PROVIDER_ID,\n            provider: new MicrosoftLoginProvider('a1d6b14c-7b0c-45fe-afaf-63173ac453f9',\n            {\n              scopes : [\"offline_access files.readwrite.all files.readwrite,\"],\n              prompt : '',   // '' | 'none' | 'consent' |  'select_account'\n              //oneTapEnabled: false,\n            }),\n          },\n        ],\n        onError: (err) => {\n          console.error(err);\n        }\n      } as SocialAuthServiceConfig,\n    }\n  ],\n})\nexport class CodeEditorModule { }\n","import { Component, OnInit, ViewChild, ElementRef, Output } from '@angular/core';\nimport { Commands } from 'src/app/services/api-service/api.commands';\nimport { ApiService } from 'src/app/services/api-service/api.service';\nimport { CompilerService } from 'src/app/services/compiler-service/compiler-service.service';\nimport { CompilerState } from 'src/app/services/compiler-service/compiler-service.types';\nimport { FsService, Tar } from 'src/app/services/fs-service/fs.service';\nimport { FsNodeFile, FsNodeFolder, FsNodeList } from 'src/app/services/fs-service/fs.service.types';\nimport { ProblemDescriptor, ServiceDescriptor } from 'src/app/services/problem-manager-service/problem-manager.types';\nimport { FileExplorerWidgetComponent } from 'src/app/widgets/code-editor/file-explorer-widget/file-explorer-widget.component';\nimport { ExecbarWidgetComponent } from '../execbar-widget/execbar-widget.component';\nimport { FileEditorWidgetComponent } from '../file-editor-widget/file-editor-widget.component';\nimport { OutputType, OutputWidgetComponent } from '../output-widget/output-widget.component';\nimport { ProblemWidgetComponent } from '../problem-widget/problem-widget.component';\nimport { ChangeDetectorRef } from '@angular/core';\nimport { LogApiWidgetComponent } from '../log-api-widget/log-api-widget.component';\nimport { MessageService } from 'primeng/api';\nimport { TerminalWidgetComponent } from '../terminal-widget/terminal-widget.component';\nimport { TutorialService } from 'src/app/services/tutorial-service/tutorial.service';\nimport { HotkeysService } from 'src/app/services/hotkeys-service/hotkeys.service';\nimport { ProjectManagerService } from 'src/app/services/project-manager-service/project-manager.service';\nimport { ProjectDriver, ProjectLanguage } from 'src/app/services/project-manager-service/project-manager.types';\n\n\n@Component({\n  selector: 'tal-code-editor',\n  templateUrl: './code-editor.component.html',\n  styleUrls: ['./code-editor.component.scss']\n})\nexport class CodeEditorComponent implements OnInit {\n  public binEncoder = new TextEncoder(); // always utf-8\n  public binDecoder = new TextDecoder(\"utf-8\");\n\n  public cmdConnect?: Commands.Connect;\n\n  public selectedFile?: FsNodeFile;\n  public selectedProblem?: ProblemDescriptor;\n  public selectedService?: ServiceDescriptor;\n  public pyodideState = CompilerState.Unknown\n  public pyodideStateContent? = \"\"\n  public apiRun = false\n\n  public fsroot = FsService.EmptyFolder;\n  public fslist: FsNodeList = [];\n  public fslistfile: FsNodeFile[] = [];\n\n  public isPresent: string[] = [];\n  public isPresentName: string[] = [];\n\n  public activeIndex = 0;\n  public activeWidget = 0;\n\n  @ViewChild(\"fileExplorer\") public fileExplorer!: FileExplorerWidgetComponent;\n  @ViewChild(\"fileEditor\") public fileEditor!: FileEditorWidgetComponent;\n  @ViewChild(\"execBar\") public execBar!: ExecbarWidgetComponent;\n  @ViewChild(\"problemWidget\") public problemWidget!: ProblemWidgetComponent;\n  @ViewChild(\"outputWidget\") public outputWidget!: OutputWidgetComponent;\n  @ViewChild(\"logApiWidget\") public logApiWidget!: LogApiWidgetComponent;\n  @ViewChild(\"terminalWidget\") public terminalWidget!: TerminalWidgetComponent;\n\n  private output_files: string[] | undefined = undefined;\n  private current_output_file: string | undefined = undefined;\n\n  protected LogApiDisabled = true;\n  protected OutputDisabled = true;\n  protected TerminalDisabled = true;\n\n  protected isBlurred = false;\n\n  constructor(\n    private fs: FsService,\n    private compiler: CompilerService,\n    private api: ApiService,\n    private pms: ProjectManagerService,\n    private cdRef: ChangeDetectorRef,\n    private messageService: MessageService,\n    private tutorialService: TutorialService,\n    private elementRef: ElementRef,\n    private hotkeysService: HotkeysService\n  ) {\n    this.tutorialService.onTutorialChange.subscribe((tutorial) => { this.isTutorialShown(tutorial) })\n    this.tutorialService.onTutorialClose.subscribe(() => { this.isTutorialShown() })\n    console.log(\"CodeEditorComponent:constructor\", this.pms)\n\n    // TODO: Multi Compiler\n    this.subscribeWorker(this.compiler.get(ProjectLanguage.PY));\n\n    document.addEventListener('keydown', (event: KeyboardEvent) => { this.hotkeysService.emitHotkeysEvent(event) });\n    this.hotkeysService.registerHotkeysEvents().subscribe((event: KeyboardEvent) => { this.hotkeysService.getCorrectHotkey(event) })\n    this.hotkeysService.hotkeysAction.subscribe((emitter) => { this.chooseHotkeysAction(emitter) })\n\n    this.pms.currentProjectChanged.subscribe(() => {\n      console.log(\"CodeEditorComponent:currentProjectChanged:\")\n      this.outputWidget.clearOutput()\n    })\n  }\n\n  ngOnInit() {\n    this.isBlurred = true;\n  }\n\n  private chooseHotkeysAction(emitter: string) {\n    if (emitter === 'save') {\n      this.saveFile();\n    } else if (emitter === 'run') {\n      this.runProjectLocal();\n    } else if (emitter === 'test') {\n      this.runConnectAPI();\n    } else if (emitter === 'export') {\n      this.fileExplorer.export('Local');\n    }\n  }\n\n  private isTutorialShown(tutorial?: any) {\n\n    console.log(\"CodeEditorComponent:isTutorialShown\")\n    if (typeof tutorial === 'undefined') {\n      this.LogApiDisabled = false;\n      this.OutputDisabled = false;\n      this.TerminalDisabled = false;\n      this.isBlurred = false\n    }\n    else if (tutorial.componentName === \"CodeEditorComponent\"\n      || tutorial.componentName === \"OutputWidgetComponent\"\n      || tutorial.componentName === \"LogApiWidgetComponent\"\n      || tutorial.componentName === \"TerminalWidgetComponent\") {\n      this.isBlurred = false\n      if (tutorial.componentName === \"OutputWidgetComponent\") {\n        this.activeWidget = 0;\n        this.LogApiDisabled = true;\n        this.OutputDisabled = false;\n        this.TerminalDisabled = true;\n      }\n      else if (tutorial.componentName === \"LogApiWidgetComponent\") {\n        this.activeWidget = 1;\n        this.LogApiDisabled = false;\n        this.OutputDisabled = true;\n        this.TerminalDisabled = true;\n      }\n      else if (tutorial.componentName === \"TerminalWidgetComponent\") {\n        this.activeWidget = 2;\n        this.LogApiDisabled = true;\n        this.OutputDisabled = true;\n        this.TerminalDisabled = false;\n      }\n    }\n    else {\n      this.isBlurred = true\n    }\n  }\n\n  private setEditorHeight(): void {\n    const editorContainer = this.elementRef.nativeElement.querySelector('.tal-code-editor');\n    const windowHeight = window.innerHeight;\n    const newHeight = windowHeight - 85; // Sottrai 85px dall'altezza della finestra\n    editorContainer.style.height = newHeight + 'px';\n  }\n\n  ngAfterViewInit() {\n    this.outputWidget.enableStdin(false);\n    const componentElement = this.elementRef.nativeElement;\n  }\n\n  ngAfterViewChecked() {\n    this.cdRef.detectChanges();\n  }\n\n  private subscribeWorker(driver: ProjectDriver) {\n    console.log(\"CodeEditorComponent:subscribeWorker:driver:\", driver)\n\n    if (driver.eventsSubscribed) {\n      console.log(\"CodeEditorComponent:subscribeWorker:driver:error\")\n      return;\n    }\n    driver.eventsSubscribed = true;\n\n    driver.subscribeNotify(true, (msg: string) => { this.didNotify(msg) })\n    driver.subscribeState(true, (state: CompilerState, content?: string) => { this.didStateChange(state, content) })\n    driver.subscribeStdout(true, (msg: string) => { this.didStdout(msg) })\n    driver.subscribeStderr(true, (msg: string) => { this.didStderr(msg) })\n\n    console.log(\"CodeEditorComponent:subscribeWorker:driver:done\")\n  }\n\n\n  public onUpdateRoot(fsroot: FsNodeFolder) {\n    let id = this.pms.getCurrentProjectId();\n    let project = this.pms.getCurrentProject();\n    console.log(\"CodeEditorComponent:onUpdateRoot:id:\", id)\n\n    this.fsroot = fsroot;\n    this.fslist = this.fs.treeToList(fsroot);\n    this.fslistfile = this.fslist.filter(item => \"content\" in item) as FsNodeFile[]\n    let filePathList = new Array<string>()\n    this.fslistfile.forEach(item => filePathList.push(item.path))\n    this.problemWidget.filePathList = filePathList\n    this.terminalWidget.fslistfile = this.fslistfile;\n\n    let mainFile = this.fslistfile.find(item => item.path == project.config.RUN)\n    console.log(\"CodeEditorComponent:onUpdateRoot:id:\", id, \":main:\", mainFile, project.config.RUN)\n    if (!mainFile) {\n      console.log(\"CodeEditorComponent:onUpdateRoot:id:\", id, \":main:failed\", mainFile)\n      return\n    }\n    console.log(\"CodeEditorComponent:onUpdateRoot:id:\", id, \":main:ok\")\n\n    this.selectFile(mainFile)\n  }\n\n  public didNotify(data: string) {\n    console.log(\"didNotify:\")\n    this.outputWidget!.print(data);\n    //TODO: if API connect then:\n    if (!this.cmdConnect) { return; }\n    this.cmdConnect.sendBinary(data + \"\\n\"); // The \\n must be added to the python bot output\n  }\n\n  private didStateChange(state: CompilerState, content?: string) {\n    //this.outputWidget!.print(state,OutputType.SYSTEM);\n\n    if (state == CompilerState.Init) {\n      //TODO Multi Compiler\n      console.log(\"CodeEditorComponent:didStateChange:CompilerState.Init:\")\n      let driver = this.compiler.get(ProjectLanguage.PY)\n      if (!driver.isWorkerReady) {\n        driver.isWorkerReady = true\n        this.compiler.get(ProjectLanguage.PY).onWorkerReady.emit()\n      }\n      console.log(\"CodeEditorComponent:didStateChange:CompilerState.Init:done\")\n    } else if (state == CompilerState.Ready) {\n      console.log(\"CodeEditorComponent:didStateChange:CompilerState.Ready:\")\n      //maybe mount/event event could be emitted here instead of MountReceive and UnmountReceive\n      \n    } else if (state == CompilerState.Success || state == CompilerState.Error || state == CompilerState.Killed) {\n      this.apiConnectReset();\n    }\n\n    this.pyodideState = state\n    this.pyodideStateContent = content\n    console.log(\"CodeEditorComponent:didStateChange:\", state)\n    if (!this.apiRun || state != CompilerState.Stdin)\n      this.outputWidget.didStateChange(state, content)\n  }\n\n  public didStdout(data: string) {\n    console.log(\"onStdout:\")\n    this.outputWidget!.print(data);\n    //TODO: if API connect then:\n    if (!this.cmdConnect) { return; }\n    this.cmdConnect.sendBinary(data + \"\\n\"); // The \\n must be added to the python bot output\n  }\n\n  public didStderr(data: string) {\n    console.log(\"onStderr:\")\n    //alert(\"STDERR: \"+data)\n    //this.nm.sendNotification(\"ERROR:\",data,NotificationType.Error)\n    this.outputWidget.print(data, OutputType.STDERR)\n  }\n\n  public sendStdin(msg: string, fromAPI = false) {\n    console.log(\"sendStdin:\")\n    let msgs = msg.split(\"\\n\");\n    if (msgs[msgs.length - 1] === \"\") { msgs.pop(); }\n    console.log(\"sendStdin:split: \", msgs)\n\n    for (let i = 0; i < msgs.length; i++) {\n      this.outputWidget.print(msgs[i], fromAPI ? OutputType.STDINAPI : OutputType.STDIN)\n      this.pms.getCurrentDriver().sendStdin(msgs[i])\n    }\n    if (!fromAPI || this.pyodideState != CompilerState.Stdin) {\n      this.outputWidget.enableStdin(false)\n    }\n  }\n\n  public onProblemChanged(selectedProblem: ProblemDescriptor) {\n    console.log(\"onProblemChanged:\", selectedProblem)\n    this.selectedProblem = selectedProblem;\n    this.selectedService = undefined;\n  }\n\n  public onServiceChanged(selectedService: ServiceDescriptor) {\n    console.log(\"onServiceChanged:\", selectedService)\n    this.selectedService = selectedService;\n  }\n\n  public onProblemListChanged() {\n    this.selectedProblem = undefined\n    this.selectedService = undefined\n\n    if (this.logApiWidget.isActive) {\n      let config = this.pms.getCurrentProject().config\n      this.logApiWidget.addLine(\"rtal -s \" + config.TAL_SERVER + \" list\");\n      this.activeWidget = 1;\n    }\n  }\n\n  async onAttachments(data: ArrayBuffer, widget: string) {\n    console.log(\"onAttachments:EVENT: \", event?.target)\n    console.log(\"onAttachments:\", data)\n    if (!this.selectedProblem) { return; }\n    console.log(\"onAttachments:selectedProblem:\", this.selectedProblem)\n    if (!(data instanceof ArrayBuffer)) { return; }\n    console.log(\"onAttachments:data:\", data)\n\n    console.log(\"extractTar:unpack:\")\n    await this.pms.getCurrentDriver().createDirectory('/data')\n\n    Tar.unpack(data, async (files, folders) => {\n      console.log(\"extractTar:unpack:folders\", folders)\n      for (var idx in folders) {\n        console.log(\"extractTar:createDirectory:\")\n        let folder = folders[idx]\n        let path = '/data/' + folder.path\n        console.log(\"extractTar:createDirectory:\", path)\n        await this.pms.getCurrentDriver().createDirectory(path)\n      }\n      console.log(\"extractTar:createDirectory:DONE\")\n\n\n      console.log(\"extractTar:unpack:files\", files)\n      for (var idx in files) {\n        console.log(\"extractTar:writeFile:\")\n        let file = files[idx]\n        let path = '/data/' + file.path\n        let content = file.content\n        console.log(\"extractTar:writeFile:\", path, content)\n        await this.pms.getCurrentDriver().writeFile(path, content)\n      }\n      console.log(\"extractTar:writeFile:DONE\")\n\n      if (this.logApiWidget.isActive && widget === \"problemWidget\") {\n        let config = this.pms.getCurrentProject().config\n        this.logApiWidget.addLine(\"rtal -s \" + config.TAL_SERVER + \" get \" + this.selectedProblem?.name);\n        this.activeWidget = 1;\n      }\n\n      this.fileExplorer.refreshRoot()\n    });\n\n  }\n\n  public onItemRenamed(event: any) {\n    var renamedFileIndex = this.isPresent.indexOf(event.oldpath);\n\n    if (renamedFileIndex != -1) {\n      this.removeItem({ \"index\": renamedFileIndex })\n    }\n  }\n\n\n  public onFileDeleted(filePath: string) {\n    var removedFileIndex = this.isPresent.indexOf(filePath);\n\n    // Removed file is open on the code editor, so now close all associated tabs\n    if (removedFileIndex != -1) {\n      this.removeItem({ \"index\": removedFileIndex })\n    }\n  }\n\n  // When a tab is closed, the file is removed from array of paths and names\n  public removeItem(event: any) {\n    var Removeindex = event.index;\n    this.isPresentName.splice(Removeindex, 1);\n    this.isPresent.splice(Removeindex, 1);\n\n    let files = this.pms.getCurrentProject().files;\n    files.splice(Removeindex, 1);\n\n    console.log(\"Tab is closed: \", this.isPresentName);\n\n    if (Removeindex == this.activeIndex) {\n      setTimeout(() => {\n        this.activeIndex = 0;\n        if (!files) { return; }\n\n        this.execBar.selectedFile = files[this.activeIndex];\n        this.fileEditor.selectedFile = files[this.activeIndex];\n        this.fileExplorer.selectedFile = files[this.activeIndex];\n      }, 0);\n    }\n\n    if (Removeindex < this.activeIndex) {\n      setTimeout(() => this.activeIndex = this.activeIndex - 1, 0);\n    }\n  }\n\n  public changeFile(event: any) {\n    setTimeout(() => {\n      this.activeIndex = event.index;\n\n      let files = this.pms.getCurrentProject().files;\n\n      console.log(\"changeFile:id:\", this.pms.getCurrentProjectId(), files, this.activeIndex)\n\n      this.execBar.selectedFile = files[this.activeIndex];\n      this.fileEditor.selectedFile = files[this.activeIndex];\n      this.fileExplorer.selectedFile = files[this.activeIndex];\n    }, 0);\n  }\n\n\n  public selectFile(file: FsNodeFile) {\n    this.selectedFile = file;\n    this.execBar.selectedFile = this.selectedFile\n    this.fileEditor.selectedFile = this.selectedFile\n\n    if (!this.isPresent.includes(this.selectedFile.path)) {\n      this.isPresentName.push(this.selectedFile.name);\n\n      this.pms.getCurrentProject().files.push(this.selectedFile);\n\n      setTimeout(() => this.activeIndex = (this.isPresentName.length) - 1, 0);\n\n      this.isPresent.push(this.selectedFile.path);\n    } else {\n      this.setActiveIndex(this.selectedFile.path);\n    }\n  }\n\n  public setActiveIndex(path: string) {\n    setTimeout(() => this.activeIndex = this.isPresent.indexOf(path), 0);\n  }\n\n  public editorDidChange(file: FsNodeFile) {\n    console.log(\"editorDidChange:\")\n    this.saveFile()\n  }\n\n  public editorDidInput(event: InputEvent) {\n    console.log(\"Input: \", this.fileEditor)\n    this.saveFile()\n  }\n\n  public saveFile() {\n    if (this.selectedFile) {\n      console.log(\"saveFile:\", this.selectedFile.path, this.fileEditor)\n      this.pms.getCurrentDriver().writeFile(this.selectedFile.path, this.selectedFile.content)\n    } else {\n      console.log(\"saveFile:failed\")\n    }\n  }\n\n  async stopAll() {\n    this.apiRun = false\n    console.log(\"stopAll:\")\n\n    if (this.cmdConnect) { this.cmdConnect.tal.closeConnection() }\n    console.log(\"stopAll:cmdConnect:DONE\")\n    await this.pms.getCurrentDriver().stopExecution()\n    console.log(\"stopAll:cmdConnect:DONE\")\n  }\n\n  public changeWidget(event: any) {\n    this.logApiWidget.flashLine();\n  }\n\n  //-------------- API CONNECT\n  public async runProjectLocal() {\n    this.apiRun = false\n    await this.runProject();\n    this.apiRun = false\n  }\n\n  public async runProject() {\n    let id = this.pms.getCurrentProjectId();\n    let project = this.pms.getCurrentProject();\n    console.log(\"CodeEditoreComponent:runProject:id\", id, project)\n    this.outputWidget.clearOutput()\n\n    console.log(\"CodeEditoreComponent:runProject:id:\", id, \":main:\", project.config.RUN)\n    let mainFile = this.fslistfile.find(item => item.path == project.config.RUN)\n    if (!mainFile) { return false }\n    console.log(\"CodeEditoreComponent:runProject:id:\", id, \":main:ok\")\n    this.fileExplorer.selectFile(mainFile)\n\n    this.outputWidget.print(\"RUN: \" + project.config.RUN, OutputType.SYSTEM)\n    this.saveFile();\n\n    await this.pms.runProject();\n    return true\n  }\n\n  public async runConnectAPI() {\n    this.apiRun = true\n    this.outputWidget.clearOutput()\n    this.saveFile();\n\n    await this.apiConnect()\n\n    this.apiRun = false\n    this.fileExplorer.refreshRoot()\n  }\n\n  async apiConnectReset() {\n    this.current_output_file = undefined;\n    this.cmdConnect = undefined;\n    this.outputWidget.enableStdin(false)\n    console.log(\"apiConnect:didConnectData:cmdConnect:\", this.cmdConnect);\n  }\n\n  async apiConnect() {\n    console.log(\"apiConnect\")\n\n    if (!this.selectedProblem) {\n\n      this.messageService.add({\n        key: 'br',\n        severity: 'error',\n        summary: 'Error',\n        detail: 'No problem selected',\n      });\n\n      this.outputWidget.print(\"No problem selected\", OutputType.STDERR)\n      return false\n    }\n\n    if (!this.selectedService) {\n\n      this.messageService.add({\n        key: 'br',\n        severity: 'error',\n        summary: 'Error',\n        detail: 'No service selected',\n      });\n\n      this.outputWidget.print(\"No service selected\", OutputType.STDERR)\n      return false\n    }\n    console.log(\"apiConnect:service:ok\")\n\n    let ArgsInvalid = await this.problemWidget.validateArgs();\n    //console.log(\"CODE EDITOR:CONNECT:VALIDATE ARGS: \", result)\n\n    if (ArgsInvalid && ArgsInvalid.size > 0) {\n      this.messageService.add({\n        key: 'br',\n        severity: 'error',\n        summary: 'Error',\n        detail: 'Args setted are invalid. Please correct',\n      });\n\n      return false;\n    }\n\n    //Run MAIN\n    console.log(\"apiConnect:runProject\")\n    this.saveFile();\n    let project = this.pms.getCurrentProject();\n    let projectConfig = project.config;\n\n    await this.pms.runProject()\n    \n\n    this.outputWidget.print(\"API: \" + projectConfig.RUN, OutputType.SYSTEM)\n    console.log(\"apiConnect:runProject:running\")\n\n    //Open Connection\n    console.log(\"CODE EDITOR:CONNECT:ARGS: \", this.selectedService.args)\n    let problem = this.selectedService.parent.name;\n    let service = this.selectedService.name;\n    let args = this.selectedService.exportArgs();\n    let tty = false //true: bash code coloring, backspaces, etc\n    let token = (projectConfig.TAL_TOKEN && projectConfig.TAL_TOKEN != \"\" ? projectConfig.TAL_TOKEN : undefined)\n    let filePaths = this.selectedService.exportFilesPaths();\n    let files = new Map<string, string>();\n\n    filePaths.forEach((fileArgPath, fileArgName) => {\n      console.log(\"apiConnect:params:problem:path:\", fileArgName, fileArgPath)\n      let found = this.fslistfile.find(item => item.path == fileArgPath)\n      console.log(\"apiConnect:params:problem:found:\", found)\n      if (!found) { return }\n      let content = found.content\n      if (content instanceof ArrayBuffer) {\n        content = this.binDecoder.decode(content)\n      }\n      files.set(fileArgName, content)\n    })\n\n\n    console.log(\"apiConnect:params:problem\", problem)\n    console.log(\"apiConnect:params:service\", service)\n    console.log(\"apiConnect:params:args\", args)\n    console.log(\"apiConnect:params:tty\", tty)\n    console.log(\"apiConnect:params:token\", token)\n    console.log(\"apiConnect:params:files\", files)\n\n\n    let onConnectionStart = () => { this.didConnectStart() };\n    let onConnectionBegin = (msg: string[]) => { this.didConnectBegin(msg) };\n    let onConnectionClose = (msg: string[]) => { this.didConnectClose(msg) };\n    let onData = (data: string) => { this.didConnectData(data) };\n    let onBinaryHeader = (msg: any) => { this.didRecieveBinaryHeader(msg) };\n\n    let newLogLine = \"rtal -s \" + projectConfig.TAL_SERVER + \" connect \" + problem + \" \" + service\n    let keys = Object.keys(args);\n    let values = Object.values(args);\n\n    for (let i = 0; i < keys.length; i++) { newLogLine += \" -a \" + keys[i] + \"=\" + values[i]; }\n\n    if (this.logApiWidget.isActive) {\n      this.logApiWidget.addLine(newLogLine);\n    }\n\n    this.activeWidget = 0;\n\n    this.cmdConnect = await this.api.Connect(\n      problem,\n      service,\n      args,\n      tty,\n      token,\n      files,\n      onConnectionBegin,\n      onConnectionStart,\n      onConnectionClose,\n      onData,\n      onBinaryHeader\n    );\n    console.log(\"apiConnect:DONE\")\n\n    return true\n  }\n\n  async didConnectError(error: string) {\n    console.log(\"apiConnect:didConnectError:\", error)\n    this.outputWidget.print(\"API Error: \" + error, OutputType.STDERR)\n    this.cmdConnect = undefined\n    this.outputWidget.enableStdin(false)\n\n    this.pms.stopExecution()\n  }\n\n  async didConnectStart() {\n    console.log(\"apiConnect:didConnectStart\")\n  }\n\n  async didConnectBegin(message: string[]) {\n    console.log(\"apiConnect:didConnectBegin:\", message)\n  }\n\n  async didConnectClose(message: string[]) {\n    console.log(\"apiConnect:didConnectionClose:\", message)\n\n    if (message && message.length > 0 && message[0] !== \"\") {\n      this.output_files = message;\n    }\n    else {\n      this.apiConnectReset();\n      console.log(\"apiConnect:didConnectClose:cmdConnect:\", this.cmdConnect);\n    }\n  }\n\n  async didConnectData(data: string) {\n    console.log(\"apiConnect:didConnectData:\", data)\n    if (this.output_files && this.current_output_file) {\n      if (this.current_output_file)\n        this.pms.getCurrentDriver().writeFile(\"/\" + this.current_output_file, data)\n\n      if (this.current_output_file === this.output_files[this.output_files.length - 1])\n        this.apiConnectReset();\n\n      console.log(\"apiConnect:didConnectData:cmdConnect:\", this.cmdConnect);\n    }\n    else {\n      this.sendStdin(data, true);\n    }\n  }\n\n  async didRecieveBinaryHeader(message: any) {\n    console.log(\"apiConnect:didRecieveBinaryHeader:\", message)\n    this.current_output_file = message.name;\n    if (this.current_output_file)\n      this.pms.getCurrentDriver().writeFile(\"/\" + this.current_output_file, \"\")\n  }\n}\n","<div class=\"tal-editor\">\n  <p-splitter [style]=\"{'height': '100%'}\" [panelSizes]=\"[15,50,35]\" [minSizes]=\"[12,20,20]\" stateStorage=\"local\">\n\n    <ng-template pTemplate>\n      <div class=\"tal-editor-files\">\n        <tal-file-explorer-widget #fileExplorer (onUpdateRoot)=\"onUpdateRoot($event)\"\n          (onSelectFile)=\"selectFile($event)\" (onFileDeleted)=\"onFileDeleted($event)\"\n          (onItemRenamed)=\"onItemRenamed($event)\">\n        </tal-file-explorer-widget>\n      </div>\n    </ng-template>\n\n    <ng-template pTemplate>\n      <div class=\"tal-code-editor-container\"> <!--wrapper-->\n        <div class=\"tal-code-editor-header\"> <!--inner-wrap-->\n          <tal-execbar-widget #execBar (onStop)=\"stopAll()\" (onRun)=\"runProjectLocal()\" (onConnect)=\"runConnectAPI()\"\n            [selectedFile]=\"selectedFile\">\n          </tal-execbar-widget>\n        </div>\n\n        <div class=\"tal-code-editor-header\">\n          <div class=\"mywrapper2\"> <!--inner-wrap-->\n            <!-- <p-tabView [scrollable]=\"true\" (onClose)=\"removeItem($event)\" (onChange)=\"changeFile($event)\"\n              [activeIndex]=\"activeIndex\">\n\n              <ng-container *ngFor=\"let name of isPresentName\">\n                <p-tabPanel [closable]=\"true\">\n                  <ng-template pTemplate=\"header\" class=\"tal-problem-widget-args-row\">\n                    <div class=\"tal-problem-widget-label\">{{name}}</div>\n                  </ng-template>\n                </p-tabPanel>\n              </ng-container>\n            </p-tabView> -->\n\n            <div>\n              <div class=\"tal-code-editor\">\n                <tal-file-editor-widget #fileEditor (onChange)=\"editorDidChange($event)\">\n                </tal-file-editor-widget>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-template>\n\n    <ng-template pTemplate>\n      <p-splitter id=\"tal-problem-column\" [panelSizes]=\"[15,50]\" [minSizes]=\"[12,20]\" layout=\"vertical\"\n        stateStorage=\"local\">\n\n        <ng-template pTemplate>\n          <tal-problem-widget #problemWidget (onAttachments)=\"onAttachments($event,'problemWidget')\"\n            (onProblemChanged)=\"onProblemChanged($event)\" (onServiceChanged)=\"onServiceChanged($event)\"\n            (onProblemListChanged)=\"onProblemListChanged()\">\n          </tal-problem-widget>\n        </ng-template>\n\n        ----------------------------------------------------------------------\n        <!-- ng-template non prende il blur!! -->\n        <ng-template pTemplate>\n          <!--Attenzione, blurra tutto il \"mywrapper\" che é un contenitore delle 3 voci \"output\", \"logAPI\", \"Terminal\".-->\n          <div class=\"mywrapper\" [class.blur]=\"isBlurred\">\n            <p-tabView [activeIndex]=\"activeWidget\" (onChange)=\"changeWidget($event)\">\n              <p-tabPanel [disabled]=\"OutputDisabled\">\n                <ng-template pTemplate=\"header\">\n                  <i class=\"pi pi-desktop\"></i>\n                  <span class=\"labelPanel\">Output</span>\n                </ng-template>\n                <!-- Grazie a questa riga viene creato il Output in questo pannello -->\n                <tal-output-widget #outputWidget (onStdin)=\"sendStdin($event)\">\n                </tal-output-widget>\n              </p-tabPanel>\n              <!-- Del tipo, si cambia in modo forzato, si passa da LogAPI a qui-->\n              <p-tabPanel [disabled]=\"LogApiDisabled\">\n                <ng-template pTemplate=\"header\">\n                  <i class=\"pi pi-list\"></i>\n                  <span class=\"labelPanel\">Log API</span>\n                </ng-template>\n                <!-- Grazie a questa riga viene creato il LogAPI in questo pannello -->\n                <tal-log-api-widget #logApiWidget>\n                </tal-log-api-widget>\n              </p-tabPanel>\n              <!--E da Output a qui, Terminal, sbloccando volta per volta voce per voce-->\n              <p-tabPanel [disabled]=\"TerminalDisabled\">\n                <ng-template pTemplate=\"header\">\n                  <i class=\"pi pi-code\"></i>\n                  <span class=\"labelPanel\">Terminal</span>\n                </ng-template>\n                <!-- Grazie a questa riga viene creato il terminale in questo pannello -->\n                <tal-terminal-widget #terminalWidget (onAttachments)=\"onAttachments($event, 'terminalWidget')\"\n                  (onProblemChanged)=\"onProblemChanged($event)\">\n                </tal-terminal-widget>\n              </p-tabPanel>\n            </p-tabView>\n          </div>\n        </ng-template>\n      </p-splitter>\n    </ng-template>\n  </p-splitter>\n</div>\n\n<p-toast position=\"bottom-right\" key=\"br\"></p-toast>\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FsNodeFile, FsNodeFolder } from 'src/app/services/fs-service/fs.service.types';\nimport { TutorialService } from 'src/app/services/tutorial-service/tutorial.service';\n\n@Component({\n  selector: 'tal-execbar-widget',\n  templateUrl: './execbar-widget.component.html',\n  styleUrls: ['./execbar-widget.component.scss']\n})\nexport class ExecbarWidgetComponent implements OnInit {\n  @Input('selectedFile') selectedFile?: FsNodeFile\n\n  @Output('onStop') public onStop = new EventEmitter<void>();\n  @Output('onRun') public onRun = new EventEmitter<FsNodeFile>();\n  @Output('onConnect') public onConnect = new EventEmitter<FsNodeFile>();\n\n  constructor(\n    private tutorialService: TutorialService,\n  ) {\n    this.tutorialService.onTutorialChange.subscribe((tutorial) => { this.isTutorialShown(tutorial) })\n    this.tutorialService.onTutorialClose.subscribe(() => { this.isTutorialShown() })\n  }\n\n\n  ngOnInit() {\n    // this.isBlurred = true;\n  }\n\n  protected isBlurred = true;\n\n  private isTutorialShown(tutorial?: any) {\n    console.log(\"ExecbarWidgetComponent:isTutorialShown\")\n    if (typeof tutorial === 'undefined' || tutorial.componentName === this.constructor.name) {\n      this.isBlurred = false\n    }\n    else {\n      this.isBlurred = true\n    }\n  }\n\n  public onStopClick() {\n    this.onStop.emit()\n  }\n\n  public onRunClick() {\n    this.onRun.emit(this.selectedFile)\n  }\n\n  public onConnectClick() {\n    this.onConnect.emit(this.selectedFile)\n  }\n\n}\n","<div class=\"tal-code-editor-execbar\" [class.blur]=\"isBlurred\">\n    <div class=\"tal-code-editor-execbar-left\">\n        <h3>{{selectedFile?.name}}</h3>\n    </div>\n\n    <div class=\"tal-code-editor-execbar-right\"  >\n        <button pButton icon=\"pi pi-stop\" class=\"tal-square-button\" (click)=\"onStopClick()\" pTooltip=\"Stop Pyodide\" tooltipPosition=\"bottom\"></button>\n        <button pButton icon=\"pi pi-play\" class=\"tal-square-button\" (click)=\"onRunClick()\" pTooltip=\"Run locally\" tooltipPosition=\"bottom\"></button>\n        <button pButton icon=\"pi pi-cloud-upload\" class=\"tal-square-button\" (click)=\"onConnectClick()\" pTooltip=\"Verify solution with TALight server\" tooltipPosition=\"bottom\"></button>\n    </div>\n</div>\n","import { Component, ElementRef, EventEmitter, Input,  OnInit, Output, ViewChild } from '@angular/core';\nimport { encode } from 'base64-arraybuffer';\nimport { marked } from 'marked';\nimport { FsNodeFile } from 'src/app/services/fs-service/fs.service.types';\nimport { ThemeService } from 'src/app/services/theme-service/theme.service';\nimport { MonacoEditorWidgetComponent } from '../monaco-editor-widget/monaco-editor-widget.component';\nimport { TutorialService } from 'src/app/services/tutorial-service/tutorial.service';\n\n// Editor UI\nexport enum EditorType{\n  None,\n  Code,\n  Archive,\n  Markdown,\n  Image,\n  Browser,\n  Unknown,\n  Default = Browser,\n}\n\nexport enum MatchMethod{\n  Auto,\n  Exact,\n  Glob,\n  Regex,\n  Default = Auto,\n}\nexport enum MatchType{\n  Auto,\n  Extension,\n  Mime, //TODO:\n  Default = Auto,\n}\n\n//Editor Options\nexport class EditorOptions{}\nexport class EditorOptionsMonaco extends EditorOptions{\n  constructor(\n    public language = \"python\",\n  ){super()}\n}\nexport class EditorOptionsBrowser extends EditorOptions{\n  constructor(\n    public embedded = true,\n    public mime = 'application/octet'\n  ){super()}\n}\n\n\n//File Assoc\nexport class FileAssociation{\n  constructor(\n    public pattern=\".*\",\n    public editorType = EditorType.None,\n    public editorOption?: EditorOptions,\n    public priority=0,\n    public matchMethod = MatchMethod.Auto,\n    public matchType = MatchType.Auto,\n  ){}\n\n  match(file:FsNodeFile){\n    let parts = file.name.split(\".\")\n    console.log('FileAssociation:match:',parts)\n    if (parts.length > 1){\n      let ext = parts.splice(-1)[0]\n      console.log('FileAssociation:ext:',ext)\n      if(this.pattern==ext) { return true }\n      if(ext.match(this.pattern)){ return true }\n    } else {\n      //TODO: mime-magic matching\n    }\n\n    return false; //No match\n  }\n\n  static matchAll(file:FsNodeFile, associations:FileAssociation[]){\n    let matches:FileAssociation[] = []\n    associations.forEach((association)=>{\n      if(association.match(file)){\n        matches.push(association)\n      }\n    })\n\n    matches = matches.sort((a,b)=>{\n      return b.priority-a.priority\n    })\n\n    return matches;\n  }\n}\n\n\nexport class FileAssociationChoiceList{\n  public associations: FileAssociation[]\n  constructor(items: FileAssociation[]){\n    this.associations = Array.from(items)\n  }\n  add(item: FileAssociation){\n    if(this.associations.includes(item)){return;}\n    this.associations.push(item)\n  }\n  match(file:FsNodeFile){\n    let matches = FileAssociation.matchAll(file, this.associations)\n    console.log('FileAssociationChoiceList:match:',matches)\n    if(matches.length == 0){return null}\n    let bestMatch = matches[0]\n    return bestMatch;\n  }\n}\n\n\n\n@Component({\n  selector: 'tal-file-editor-widget',\n  templateUrl: './file-editor-widget.component.html',\n  styleUrls: ['./file-editor-widget.component.scss']\n})\nexport class FileEditorWidgetComponent implements OnInit {\n\n  EditorType = EditorType\n  public editorType = EditorType.None\n  public editorOption?:EditorOptions\n\n  public binEncoder = new TextEncoder(); // always utf-8\n  public binDecoder = new TextDecoder(\"utf-8\");\n\n\n  fileAssocList = new FileAssociationChoiceList([\n    //Code\n    new FileAssociation('py', EditorType.Code, new EditorOptionsMonaco('python')),\n    new FileAssociation('csv', EditorType.Code, new EditorOptionsMonaco('csv')),\n    new FileAssociation('json', EditorType.Code, new EditorOptionsMonaco('json')),\n    new FileAssociation('txt', EditorType.Code, new EditorOptionsMonaco('text')),\n    new FileAssociation('js', EditorType.Code, new EditorOptionsMonaco('javascript')),\n    new FileAssociation('yaml', EditorType.Code, new EditorOptionsMonaco('yaml')),\n\n    //Markdown\n    new FileAssociation('md', EditorType.Markdown, new EditorOptionsMonaco('markdown')),\n\n    //Archive\n    new FileAssociation('tar', EditorType.Archive),\n    new FileAssociation('zip', EditorType.Archive),\n\n    //PDF\n    new FileAssociation('pdf', EditorType.Browser, new EditorOptionsBrowser(true,'application/pdf')),\n\n    //Images\n    new FileAssociation('png', EditorType.Browser, new EditorOptionsBrowser(true,'image/png')),\n    new FileAssociation('jpg', EditorType.Browser, new EditorOptionsBrowser(true,'image/jpg')),\n\n    //Other\n    new FileAssociation('.*', EditorType.Browser, new EditorOptionsBrowser(true),-10),\n  ])\n\n  @Input(\"selectedFile\") private _selectedFile: FsNodeFile | null = null;\n  @ViewChild(\"monacoEditor\") public monacoEditor!: MonacoEditorWidgetComponent;\n  @ViewChild(\"browserEditor\") public browserEditor!: ElementRef;\n  @ViewChild(\"imageViewer\") public imageViewer!: ElementRef;\n  @ViewChild(\"markdownPreview\") public markdownPreview!: ElementRef;\n\n\n  @Output('onChange') public onChange = new EventEmitter<FsNodeFile>();\n\n  constructor(\n    private readonly themeService: ThemeService,\n    private tutorialService : TutorialService,\n  ) {\n    this.tutorialService.onTutorialChange.subscribe( (tutorial)=>{this.isTutorialShown(tutorial)} )\n    this.tutorialService.onTutorialClose.subscribe( ()=>{this.isTutorialShown()} )\n  }\n\n  ngOnInit() {\n    this.isBlurred = true;\n  }\n  protected isBlurred = false;\n\n  private isTutorialShown(tutorial? : any){\n\n    console.log(\"FileEditorWidgetComponent:isTutorialShown\")\n    if (typeof tutorial === 'undefined' || tutorial.componentName === this.constructor.name ){\n      this.isBlurred = false\n    }\n    else{\n      this.isBlurred = true\n    }\n  }\n\n\n  public get selectedFile():FsNodeFile|null{\n    return this._selectedFile;\n  }\n\n  public set selectedFile(selectedFile:FsNodeFile|null){\n    this._selectedFile = selectedFile\n    console.log('selectedFile:',selectedFile)\n    this.selectEditor()\n  }\n\n  public selectEditor(){\n    if(!this._selectedFile) {\n      this.editorType = EditorType.None\n      this.openEditor()\n      return\n    }\n\n    let bestMatch = this.fileAssocList.match(this._selectedFile)\n    if(!bestMatch){\n      this.editorType = EditorType.None\n      this.openEditor()\n      return\n    }\n    this.editorType = bestMatch.editorType\n    this.editorOption = bestMatch.editorOption\n\n    console.log(\"selectEditor:\",this.editorType)\n    console.log(\"selectEditor:editorOption:\",this.editorOption)\n\n    this.openEditor()\n  }\n\n  public async openEditor(){\n    if (!this.selectedFile){return}\n    console.log('openEditor:', this.editorType.toString())\n    switch(this.editorType){\n      case EditorType.Markdown:\n        let markdownBox = this.markdownPreview.nativeElement as HTMLDivElement;\n        if(this.selectedFile.content instanceof ArrayBuffer){\n          this.selectedFile.content = this.binDecoder.decode(this.selectedFile.content)\n        }\n        markdownBox.innerHTML = await marked( this.selectedFile.content )\n        break;\n      case EditorType.Code:\n        let monacoOptions = this.editorOption as EditorOptionsMonaco;\n        if(this.selectedFile.content instanceof ArrayBuffer){\n          this.selectedFile.content = this.binDecoder.decode(this.selectedFile.content)\n        }\n        this.monacoEditor.selectedFile = this.selectedFile\n        this.monacoEditor.language = monacoOptions.language;\n        this.monacoEditor.updateEditorOptions()\n        break;\n      case EditorType.Browser:\n        let browserOptions = this.editorOption as EditorOptionsBrowser;\n        let iframe = this.browserEditor.nativeElement as HTMLIFrameElement;\n        let header = 'data:'+browserOptions.mime+';'\n        let body;\n        if(this.selectedFile.content instanceof ArrayBuffer){\n          console.log('openEditor:Browser:',Array.from(new Uint8Array(this.selectedFile.content) ) )\n          body = encode(this.selectedFile.content)\n        }else{\n          body = btoa(this.selectedFile.content)\n        }\n        let daraurl = header + 'base64,' + body\n\n        /*\n        let id = 'doclink'\n        let filename = this.selectedFile.name\n        let link = `<a id=\"${id}\" download=\"${filename}\" href=\"${daraurl}\"></a>`\n        let script = `<script>document.getElementById('${id}').click()</script>`\n        let template = `<html><body>${link}${script}</body></html>`\n        */\n\n        iframe.src = daraurl\n\n        break;\n    }\n  }\n\n  public shouldHide(editorType: EditorType){\n    return this.editorType !== editorType;\n  }\n\n\n\n  //MonacoEditor\n\n  public monacoEditorDidChange(file:FsNodeFile){\n    this.onChange.emit(file)\n  }\n\n}\n","<div class=\"tal-file-editor-switch\" [class.blur]=\"isBlurred\">\n\n\n    <div [hidden]=\"shouldHide(EditorType.Unknown)\" class=\"tal-file-editor-case-unknown tal-file-editor-case \">\n        <div class=\"tal-center-page\">\n            <p class=\"tal-placeholder-message\">Unknown file format</p>\n        </div>\n    </div>\n\n    <div [hidden]=\"shouldHide(EditorType.None)\" class=\"tal-file-editor-case-none tal-file-editor-case \">\n        <div class=\"tal-center-page\">\n            <p class=\"tal-placeholder-message\">Select or create a file</p>\n        </div>\n    </div>\n\n    <div [hidden]=\"shouldHide(EditorType.Image)\" class=\"tal-file-editor-case-image tal-file-editor-case \">\n        <div class=\"tal-file-editor-image\">\n            <img #imageViewer/>\n        </div>\n    </div>\n\n    <div [hidden]=\"shouldHide(EditorType.Code)\" class=\"tal-file-editor-case-code tal-file-editor-case \">\n        <div class=\"tal-file-editor-code\">\n            <tal-monaco-editor-widget class=\"tal-file-editor-monaco-widget\"\n                #monacoEditor\n                (onChange)=\"monacoEditorDidChange($event)\">\n            </tal-monaco-editor-widget>\n        </div>\n    </div>\n\n    <div [hidden]=\"shouldHide(EditorType.Markdown)\" class=\"tal-file-editor-case-markdown tal-file-editor-case \">\n        <div class=\"tal-markdown-preview\">\n            <div #markdownPreview class=\"tal-markdown-preview-content\" ></div>\n        </div>\n    </div>\n\n\n    <div [hidden]=\"shouldHide(EditorType.Browser)\" class=\"tal-file-editor-case-browser tal-file-editor-case \">\n        <div class=\"tal-browser-viewer\">\n            <iframe #browserEditor class=\"tal-browser-viewer-iframe\" ></iframe>\n        </div>\n    </div>\n\n\n\n    <div [hidden]=\"shouldHide(EditorType.Archive)\" class=\"tal-file-editor-case-archive tal-file-editor-case \">\n        <div class=\"tal-archive-viewer tal-center-page\">\n            <div class=\"tal-placeholder-message\">{{selectedFile?.name}}</div>\n            <div class=\"tal-placeholder-message\">\n                TODO: file preview\n                <ul>\n                    <li>fileA.zip</li>\n                    <li>main.py</li>\n                    <li>.talight/talight.json</li>\n                </ul>\n\n            </div>\n            <div class=\"tal-placeholder-message\">\n                <button #untarButton pButton\n                    class=\"tal-square-button\"\n                    label=\"Decompress\"\n                    [title]=\"'Untar: '+selectedFile?.name\"\n                    onclick=\"alert('TODO: Decompress')\"\n                    ></button>\n            </div>\n        </div>\n    </div>\n\n\n</div>\n\n\n","import { Component, ElementRef, EventEmitter, Input, NgZone, OnInit, Output, QueryList, ViewChild, ViewChildren } from '@angular/core';\n\nimport { ConfirmationService } from 'primeng/api';\nimport { OverlayPanel } from 'primeng/overlaypanel';\nimport { MessageService } from 'primeng/api';\nimport { FsService, Tar } from 'src/app/services/fs-service/fs.service';\nimport { FsNodeFile, FsNodeFolder } from 'src/app/services/fs-service/fs.service.types';\nimport { GoogleLoginProvider, MicrosoftLoginProvider } from '@abacritt/angularx-social-login';\nimport { SocialAuthService, SocialUser } from \"@abacritt/angularx-social-login\";\nimport { GithubApiService } from 'src/app/services/github-api-service/github-api.service';\nimport { TutorialService } from 'src/app/services/tutorial-service/tutorial.service';\nimport { ProjectManagerService } from 'src/app/services/project-manager-service/project-manager.service';\nimport { CompilerService } from 'src/app/services/compiler-service/compiler-service.service';\nimport { ProjectDriver, ProjectLanguage } from 'src/app/services/project-manager-service/project-manager.types';\n\n@Component({\n  selector: 'tal-file-explorer-widget',\n  templateUrl: './file-explorer-widget.component.html',\n  styleUrls: ['./file-explorer-widget.component.scss']\n})\nexport class FileExplorerWidgetComponent implements OnInit {\n  public rootDir = \"/\"\n  public showHidden = false\n\n  public editingValue: string = \"\";\n  public editingItem: FsNodeFile | FsNodeFolder | null = null;\n  public editingItemFolder: FsNodeFolder | null = null;\n  public editingItemError: boolean = false;\n\n  public newItemValue: string = \"\";\n  public newItemType: \"file\" | \"folder\" = \"file\";\n  public newItemFolder: FsNodeFolder | null = null;\n  public newItemError: boolean = false;\n\n  public selectedFile: FsNodeFile | null = null;\n  public selectedFolder: FsNodeFolder | null = null;\n\n  private accessToken = '';\n  user: SocialUser | undefined;\n  loggedIn: boolean = false;\n\n  // TODO: decide if use only a variable or two\n  private googleLogin = false;\n  private microsoftLogin = false;\n\n  /** Variables for Github import/export popup management **/\n  public ExportItems: any;\n  public ImportItems: any;\n  public exportVisible: boolean = false;\n  public importVisible: boolean = false;\n  public reposList: any;\n  public selectedRepo: any;\n  public newRepoOwner: any;\n  public newRepoName: any;\n  public repoNameHelp: any;\n  public exportDropDisabled: boolean = false;\n  public exportButtonRepoDisabled: boolean = true;\n  public importDropDisabled: boolean = false;\n  public importButtonRepoDisabled: boolean = true;\n\n  public driver: ProjectDriver | null = null;\n\n  @ViewChild(\"nameEditing\") public nameEditingElement?: ElementRef;\n  @ViewChild(\"newItemName\") public newItemNameElement?: ElementRef;\n\n  @ViewChildren(OverlayPanel) public panels?: QueryList<OverlayPanel>;\n\n  @Output(\"onUpdateRoot\") public onUpdateRoot = new EventEmitter<FsNodeFolder>();\n  @Output(\"onSelectFile\") public onSelectFile = new EventEmitter<FsNodeFile>();\n  @Output(\"showHiddenChanged\") public showHiddenChanged = new EventEmitter<boolean>();\n  @Output('onFileDeleted') public onFileDeleted = new EventEmitter<string>();\n  @Output('onItemRenamed') public onItemRenamed = new EventEmitter();\n\n  constructor(\n    private confirmationService: ConfirmationService,\n    private fs: FsService,\n    public projectManagerService: ProjectManagerService,\n    private authService: SocialAuthService,\n    private messageService: MessageService,\n    private githubService: GithubApiService,\n    private tutorialService: TutorialService,\n    public compiler: CompilerService,\n  ) {\n    this.projectManagerService.currentProjectChanged.subscribe(() => { this.didProjectChanged() })\n\n    this.tutorialService.onTutorialChange.subscribe((tutorial) => { this.isTutorialShown(tutorial) })\n    this.tutorialService.onTutorialClose.subscribe(() => { this.isTutorialShown() })\n\n    //TODO: fix the driver in file-explorer-widget.component.html\n    // this is a bad solution but i don't have time to fix it\n    this.driver = this.compiler.get(ProjectLanguage.PY);\n  }\n\n  private isTutorialShown(tutorial?: any) {\n\n    console.log(\"FileExplorerWidgetComponent:isTutorialShown\")\n    if (typeof tutorial === 'undefined' || tutorial.componentName === this.constructor.name) {\n      this.isBlurred = false\n    }\n    else {\n      this.isBlurred = true\n    }\n  }\n\n  ngOnInit() {\n    this.bindCollapseEvent();\n    this.isBlurred = true;\n\n    // Setting import menù options\n    this.ImportItems = [\n      { label: 'Import from Github', icon: 'pi pi-cloud-download', command: (event: any) => { this.closeAllContextMenus(event.originalEvent); this.downloadGithub(); } },\n      { label: 'Import from local ', icon: 'pi pi-database', command: (event: any) => { this.closeAllContextMenus(event.originalEvent); const fileUpload = document.getElementById('fileUpload'); fileUpload?.click(); } }\n    ]\n\n    // Setting export menù options\n    this.ExportItems = [\n      {\n        label: 'Export on Github',\n        icon: 'pi pi-github',\n        items: [\n          { label: 'Export as archive', icon: 'pi pi-folder-open', command: (event: any) => { this.closeAllContextMenus(event.originalEvent); this.export('Github-archive') } },\n          { label: 'Export code', icon: 'pi pi-code', command: (event: any) => { this.closeAllContextMenus(event.originalEvent); this.export('Github-code'); /*this.visible = true;*/ } }\n        ]\n      },\n      { label: 'Export on Google Drive', icon: 'pi pi-google', command: (event: any) => { this.closeAllContextMenus(event.originalEvent); this.signIn() } },\n      { label: 'Export on One Drive', icon: 'pi pi-microsoft', command: (event: any) => { this.closeAllContextMenus(event.originalEvent); this.export('Microsoft') } },\n      { label: 'Save locally ', icon: 'pi pi-download', command: (event: any) => { this.closeAllContextMenus(event.originalEvent); this.export('Local') } }\n    ]\n\n    this.authService.authState.subscribe((user) => {\n      this.user = user;\n      this.loggedIn = (user != null);\n\n      // User is logged. Now it's possible to proceed with token request\n      // to access Drive API and then export/upload files on Google Drive\n      if (this.googleLogin)\n        this.authService.getAccessToken(GoogleLoginProvider.PROVIDER_ID).then(accessToken => this.accessToken = accessToken).then(() => this.export('Google'))\n    });\n\n  }\n\n  protected isBlurred = false;\n\n  public didProjectChanged() {\n    let project = this.projectManagerService.getCurrentProject();\n    let id = this.projectManagerService.getCurrentProjectId();\n    console.log(\"FileExplorerWidgetComponent:didProjectChanged:id:\", id, project)\n\n    this.compiler.get(project.language).ready().then(() => {\n      console.log(\"FileExplorerWidgetComponent:didProjectChanged:id:ready\", id, project)\n      this.refreshRoot()\n    })\n  }\n\n  refreshRoot(onDone?: () => void) {\n    let project = this.projectManagerService.getCurrentProject();\n    let id = this.projectManagerService.getCurrentProjectId();\n    let driver = this.projectManagerService.getCurrentDriver()\n\n    console.log(\"FileExplorerWidgetComponent:refreshRoot:id\", id, project)\n    driver.scanDirectory(this.rootDir).then((folder) => {\n      driver.fsRoot = folder ?? FsService.EmptyFolder\n\n      this.bindCollapseEvent();\n\n      this.onUpdateRoot?.emit(driver.fsRoot);\n      if (onDone) { onDone() }\n    });\n  }\n\n  private bindCollapseEvent() {\n    setTimeout(() => {\n      const rows = document.getElementsByClassName(\"collapse-toggle\");\n      for (let i = 0; i < rows.length; i++) {\n        if (!rows[i].classList.contains(\"bound\")) {\n          let row = rows[i];\n          row.addEventListener(\"click\", (event) => { this.handleClickEvent(event) });\n          row.classList.add(\"bound\");\n        }\n      }\n    }, 0);\n  }\n\n  public handleClickEvent(event: Event) {\n    event.preventDefault();\n    event.stopPropagation();\n    const row = event.target as HTMLElement;\n    let newParent: HTMLElement = row;\n    let safeCount = 0;\n    do {\n      newParent = newParent.parentElement as HTMLElement;\n      safeCount++;\n    } while (!newParent.classList.contains(\"tal-folder-subtree\") && safeCount < 10);\n\n    if (safeCount < 10) {\n      newParent.classList.toggle(\"collapsed\");\n    }\n  }\n\n  public closeAllContextMenus(event: Event) {\n    event.preventDefault();\n    console.log(\"EVENT: \\n\", event);\n    if (this.panels) {\n      this.panels.forEach(p => p.hide());\n    }\n  }\n\n  public selectFile(file: FsNodeFile) {\n    console.log('selectFile', file)\n    this.projectManagerService.getCurrentDriver().readFile(file.path).then((content) => {\n      file.content = content ?? \"\";\n      console.log('ecco il file: \\n' + content);\n      this.selectedFile = file;\n      this.onSelectFile?.emit(file);\n    })\n  }\n\n  public selectFolder(folder: FsNodeFolder) {\n    if (this.selectedFolder == folder) {\n      this.selectedFolder == null;\n    }\n  }\n\n  public openSettings() {\n    if (!this.showHidden) {\n      this.showHidden = true\n      this.refreshRoot(() => { this.openSettings() })\n    }\n\n    console.log(\"openSettings\")\n    let project = this.projectManagerService.getCurrentProject();\n    let driver = this.projectManagerService.getCurrentDriver()\n   \n    let projectFolder = driver.fsRoot.folders.find((item) => {\n      return item.path + \"/\" == project.config.DIR_PROJECT\n    });\n\n    if (projectFolder == null) return \n    console.log(\"openSettings:projectFolder:\", projectFolder)\n    let configFile = projectFolder.files.find((file) => {\n      return file.path == project!.config.CONFIG_PATH\n    })\n    if (configFile == null) return\n    console.log(\"openSettings:configFile:\", configFile)\n    this.selectFile(configFile);\n  }\n\n\n  public toggleHidden() {\n    this.showHidden = !this.showHidden;\n    this.refreshRoot()\n  }\n\n  public isVisibile(fsitem: FsNodeFile | FsNodeFolder) {\n    let isHidden = fsitem.name.startsWith('.');\n    return this.showHidden || (!this.showHidden && !isHidden)\n  }\n\n  /** EDITING METHODS  **/\n  public startEditing(folder: FsNodeFolder, item: FsNodeFile | FsNodeFolder) {\n\n    console.log(\"START EDITING\")\n\n    console.log(\"FOLDER: \", folder)\n    console.log(\"ITEM: \", item)\n    this.editingItem = item;\n    this.editingValue = item.name; //new_name\n    this.editingItemFolder = folder;\n    this.editingItemError = false;\n\n    setTimeout(() => {\n      if (this.nameEditingElement) {\n        this.nameEditingElement.nativeElement.focus();\n      }\n    }, 0);\n  }\n\n  public saveEditing() {\n    if (!this.editingItemError) {\n      if (this.editingItem) {\n        this.editingValue = this.editingValue.trim();\n        if (this.editingValue.length > 0) {\n\n          // change name item\n          this.editingItem.name = this.editingValue;\n\n          // create new path item\n          const directoryList = this.editingItem.path.split('/');\n\n          if (directoryList.length <= 1) {\n            this.editingItem.path = \"/\" + this.editingValue;\n          }\n\n          const newpath = directoryList\n            .slice(0, -1) // Remove last element ( previous name )\n            .concat(this.editingValue) // Add new name at the end\n            .join('/'); // Rebuild the path\n\n          // Change path item in the FS\n          let driver = this.projectManagerService.getCurrentDriver()\n          driver.renameItem(this.editingItem.path, newpath).then(() => {\n            this.refreshRoot();\n          })\n\n          this.onItemRenamed.emit({ \"oldpath\": this.editingItem.path });\n\n          // Change path item\n          this.editingItem.path = newpath;\n\n          this.onUpdateRoot?.emit(driver.fsRoot);\n        }\n      }\n    }\n    this.cancelEditing();\n  }\n\n  public cancelEditing() {\n    this.editingItem = null;\n    this.editingValue = \"\";\n    this.editingItemFolder = null;\n  }\n\n  public editItemChange() {\n    this.editingItemError = false;\n\n    if (this.editingItemFolder) {\n      const existingFile = this.editingItemFolder.files.find(f => f.name === this.editingValue);\n      const existingFolder = this.editingItemFolder.folders.find(f => f.name === this.editingValue);\n      if (existingFile || existingFolder) {\n        this.editingItemError = true;\n      }\n    }\n  }\n  /***************/\n\n  /** DELETE METHODS **/\n  public deleteFileClick(event: Event, file: FsNodeFile) {\n    if (event.target) {\n      this.confirmationService.confirm({\n        target: event.target,\n        message: 'Are you sure you want to delete this file?',\n        icon: 'pi pi-exclamation-triangle',\n        accept: () => {\n          //confirm action\n          this.deleteFile(this.projectManagerService.getCurrentDriver().fsRoot, file);\n        },\n        reject: () => {\n          //reject action\n        },\n        key: 'dialogDelete',\n      });\n    }\n  }\n\n  private deleteFile(currentFolder: FsNodeFolder, file: FsNodeFile) {\n    this.projectManagerService.getCurrentDriver().delete(file.path).then(() => {\n      this.refreshRoot();\n      this.onFileDeleted.emit(file.path)\n    })\n  }\n\n  public importGithubClick(event: Event) {\n    if (event.target) {\n      this.confirmationService.confirm({\n        target: event.target,\n        message: 'Are you sure you want to proceed with the import?\\n\\nNOTE: Make sure you have saved or exported the current project otherwise you will lose any changes.',\n        icon: 'pi pi-exclamation-triangle',\n        accept: () => {\n          //confirm action\n          this.downloadFiles();\n        },\n        reject: () => {\n          //reject action\n        },\n        key: 'dialogImport'\n      });\n    }\n  }\n\n  public deleteFolderClick(event: Event, folder: FsNodeFolder) {\n    if (event.target) {\n      this.confirmationService.confirm({\n        target: event.target,\n        message: 'Are you sure you want to delete this folder? All files and folders it contains will be deleted.',\n        icon: 'pi pi-exclamation-triangle',\n        accept: () => {\n          //confirm action\n          this.deleteFolder(this.projectManagerService.getCurrentDriver().fsRoot, folder);\n        },\n        reject: () => {\n          //reject action\n        },\n        key: 'dialogDelete',\n      });\n    }\n  }\n\n  private deleteFolder(currentFolder: FsNodeFolder, folder: FsNodeFolder) {\n    let driver = this.projectManagerService.getCurrentDriver()\n    //Delete all files in the folder\n    folder.files.forEach(item => {\n      driver.delete(item.path).then(() => {\n        this.refreshRoot();\n        this.onFileDeleted.emit(item.path)\n      })\n    });\n\n    //Delete all subfolders recursively\n    if (folder.folders.length !== 0) {\n      folder.folders.forEach(item => {\n\n        this.deleteFolder(item, item);\n\n        driver.delete(folder.path).then(() => {\n          this.refreshRoot();\n        })\n      });\n\n    } else {\n      driver.delete(folder.path).then(() => {\n        this.refreshRoot();\n      })\n    }\n  }\n  /***************/\n\n  /** CREATE METHODS **/\n  public syncFilesystem() {\n    setTimeout(() => {\n      this.refreshRoot();\n    }, 0);\n  }\n\n\n  public addNewItem(folder: FsNodeFolder | null, type: \"file\" | \"folder\") {\n    if(folder == null)\n      folder = this.projectManagerService.getCurrentDriver().fsRoot;\n\n    this.newItemValue = \"\";\n    this.newItemFolder = folder;\n    this.newItemType = type;\n    this.newItemError = false;\n\n    setTimeout(() => {\n      if (this.newItemNameElement) {\n        this.newItemNameElement.nativeElement.focus();\n      }\n    }, 0);\n  }\n\n  public cancelNewItem() {\n    this.newItemValue = \"\";\n    this.newItemFolder = null;\n  }\n\n  public saveNewItem() {\n    if (!this.newItemError) {\n      this.newItemValue = this.newItemValue.trim();\n      if (this.newItemValue.length > 0) {\n\n        if (this.newItemFolder) {\n          let driver = this.projectManagerService.getCurrentDriver()\n\n          if (this.newItemType === \"file\") {\n            let path = this.newItemFolder.path + \"/\" + this.newItemValue\n            driver.writeFile(path, \"\").then(() => {\n              this.refreshRoot()\n            })\n          } else {\n            // Double slash on path when folder is created under root does not create problems\n            let path = this.newItemFolder.path + \"/\" + this.newItemValue\n            console.log(path)\n            driver.createDirectory(path).then(() => {\n              this.refreshRoot()\n            })\n\n            this.newItemFolder.folders.push({\n              name: this.newItemValue,\n              path: \"./\" + this.newItemValue,\n              files: [],\n              folders: []\n            });\n          }\n        }\n      }\n    }\n\n    this.newItemValue = \"\";\n    this.newItemFolder = null;\n  }\n\n  public newItemChange() {\n    this.newItemError = false;\n\n    if (this.newItemFolder) {\n      const existingFile = this.newItemFolder.files.find(f => f.name === this.newItemValue);\n      const existingFolder = this.newItemFolder.folders.find(f => f.name === this.newItemValue);\n      if (existingFile || existingFolder) {\n        this.newItemError = true;\n      }\n    }\n  }\n  /***************/\n  async upload(event: Event) {\n    if (!(event.target instanceof HTMLInputElement)) { return false; }\n    let target = event.target as HTMLInputElement\n    if (!target.files || target.files.length == 0) { return false; }\n\n    if (target.files.length == 1 && target.files[0].name.endsWith('.tal.tar')) {\n      let content = await target.files[0].arrayBuffer();\n      await this.importProject(content)\n    } else {\n      for (let i = 0; i < target.files.length; i++) {\n        let file = target.files[i]\n        let content = await file.arrayBuffer();\n        console.log(\"upload:content:\", new Uint8Array(content))\n        let path = (!this.selectedFolder ? \"/\" : this.selectedFolder.path) + file.name\n        console.log('upload:', path, content)\n        await this.projectManagerService.getCurrentDriver().writeFile(path, content)\n      }\n    }\n    this.refreshRoot()\n    return true;\n  }\n\n  async importProject(tarball: ArrayBuffer) {\n    Tar.unpack(tarball, async (files, folders) => {\n      console.log(\"extractTar:unpack:files\", files)\n      console.log(\"extractTar:unpack:folders\", folders)\n\n      let driver = this.projectManagerService.getCurrentDriver()\n\n      for (var idx in folders) {\n        console.log(\"extractTar:createDirectory:\")\n        let folder = folders[idx]\n        let path = folder.path\n        let pathMOD = path.substring(path.indexOf(\"/\"));\n        console.log(\"extractTar:createDirectory:\", pathMOD)\n        await driver.createDirectory(pathMOD)\n      }\n      console.log(\"extractTar:createDirectory:DONE\")\n      for (var idx in files) {\n        console.log(\"extractTar:writeFile:\")\n        let file = files[idx]\n        let path = file.path\n        let pathMOD = path.substring(path.indexOf(\"/\"));\n        let content = file.content\n        console.log(\"extractTar:writeFile:\", path, content)\n        await driver.writeFile(pathMOD, content)\n      }\n      console.log(\"extractTar:writeFile:DONE\")\n      this.refreshRoot()\n    })\n    console.log(\"import:data:\", tarball)\n\n    return true\n  }\n\n  public export(mode: string) {\n    if (mode != 'Github-code') {\n      let items = this.fs.treeToList(\n        this.projectManagerService.getCurrentDriver().fsRoot\n      )\n      \n      if (items.length == 0) {\n        console.log(\"export: No files found to be exported\")\n      }\n\n      console.log(\"export:items:\", items)\n      Tar.pack(items, (tarball: ArrayBuffer) => {\n        let tarname = \"tal-project-\" + Date.now() + \".tal.tar\"\n        console.log('export:tarball:', tarname, tarball)\n\n        switch (mode) {\n          case 'Local':\n            this.triggerDownload(tarname, tarball, \"application/x-tar\");\n            break;\n          case 'Google':\n            this.uploadGoogleDrive(tarname, tarball, \"application/x-tar\");\n            break;\n          case 'Microsoft':\n            this.uploadOneDrive(tarname, tarball, \"application/x-tar\");\n            break;\n          case 'Github-archive':\n            this.uploadGitHub('Github-archive', tarname, tarball, \"application/x-tar\");\n            break;\n          default:\n            break;\n        }\n      })\n    } else\n      this.uploadGitHub('Github-code');\n  }\n\n  //----------------------------------------------//\n  //------------------- GITHUB -------------------//\n  //----------------------------------------------//\n\n  private popupwindow(url: string, title: string, w: number, h: number) {\n    var left = (screen.width / 2) - (w / 2);\n    var top = (screen.height / 2) - (h / 2);\n\n    return window.open(url, title, 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=yes, width=' + w + ', height=' + h + ', top=' + top + ', left=' + left);\n  }\n\n\n  public uploadGitHub(mode: string, filename?: string, content?: ArrayBuffer, mime = \"application/octet-stream\") {\n    console.log(\"GitHub\");\n\n    var url = `https://github.com/login/oauth/authorize?client_id=8fd3343f822c2429ad95&scope=user%20repo`;\n    var popupWindow = this.popupwindow(url, \"GitHub Login\", 400, 530);\n\n    localStorage.removeItem(\"accessToken\");\n    localStorage.removeItem(\"username\");\n\n    var codeParam: string | null = \"\";\n\n    var self = this;\n    const checkURLChange = setInterval(function () {\n      if (!popupWindow || popupWindow.closed) {\n        clearInterval(checkURLChange);\n        console.log('Popup window closed.');\n\n      } else if (popupWindow.location.href.indexOf(\"github.com\") === -1) { //url does not contains \"github.com\"\n        console.log('URL in popup window changed:', popupWindow.location.href);\n\n        const queryString = popupWindow.location.search;\n        const urlParams = new URLSearchParams(queryString);\n        codeParam = urlParams.get(\"code\");\n        console.log(\"CODE:\", codeParam)\n\n        popupWindow.close();\n\n        if (codeParam && (localStorage.getItem(\"accessToken\") === null)) {\n\n          if (mode === 'Github-archive') {\n\n            self.githubService.getAccessToken(codeParam)\n              .then(() => self.githubService.getUserData())\n              .then(() => self.githubService.getRepository('TALightProject-Archives'))\n              .then((data) => {\n\n                if (data.message == \"Not Found\") {\n                  self.githubService.createRepository('TALightProject-Archives').then(() => { if (filename && content) { self.uploadFile('TALightProject-Archives', filename, content, mime) } })\n                } else {\n                  if (filename && content) {\n                    self.uploadFile('TALightProject-Archives', filename, content, mime);\n                  }\n                }\n              });\n\n          } else {\n            self.githubService.getAccessToken(codeParam)\n              .then(() => self.githubService.getUserData())\n              .then(() => self.githubService.getRepoList())\n              .then((data) => {\n\n                let condition = (repo: { name: string; }) => repo.name == 'TALightProject-Archives';\n                let isPresentRepo = data.findIndex(condition)\n\n                if (isPresentRepo !== -1) { data.splice(isPresentRepo, 1); }\n\n                self.reposList = data\n              })\n              .then(() => self.newRepoOwner = localStorage.getItem(\"username\"))\n              .then(() => {\n                self.newRepoName = '';\n                self.selectedRepo = undefined;\n                self.exportVisible = true;\n                self.detectInput()\n              })\n          }\n        }\n      }\n    }, 1000); // Check every second until condition on the url is satisfied\n\n  }\n\n  public downloadGithub() {\n\n    console.log(\"GitHub\");\n\n    var url = `https://github.com/login/oauth/authorize?client_id=8fd3343f822c2429ad95&scope=user%20repo`;\n    var popupWindow = this.popupwindow(url, \"GitHub Login\", 400, 530);\n\n    localStorage.removeItem(\"accessToken\");\n    localStorage.removeItem(\"username\");\n\n    var codeParam: string | null = \"\";\n\n    var self = this;\n    const checkURLChange = setInterval(function () {\n      if (!popupWindow || popupWindow.closed) {\n        clearInterval(checkURLChange);\n        console.log('Popup window closed.');\n\n      } else if (popupWindow.location.href.indexOf(\"github.com\") === -1) { //url does not contains \"github.com\"\n        console.log('URL in popup window changed:', popupWindow.location.href);\n\n        const queryString = popupWindow.location.search;\n        const urlParams = new URLSearchParams(queryString);\n        codeParam = urlParams.get(\"code\");\n        console.log(\"CODE:\", codeParam)\n\n        popupWindow.close();\n\n        if (codeParam && (localStorage.getItem(\"accessToken\") === null)) {\n\n          self.githubService.getAccessToken(codeParam)\n            .then(() => self.githubService.getUserData())\n            .then(() => self.githubService.getRepoList())\n            .then((data) => {\n\n              let condition = (repo: { name: string; }) => repo.name == 'TALightProject-Archives';\n              let isPresentRepo = data.findIndex(condition)\n\n              if (isPresentRepo !== -1) { data.splice(isPresentRepo, 1); }\n\n              self.reposList = data\n            })\n            .then(() => {\n              self.selectedRepo = '';\n              self.importButtonRepoDisabled = true;\n              self.importVisible = true\n            })\n        }\n      }\n    }, 1000); // Check every second until condition on the url is satisfied\n\n  }\n\n\n  public uploadFiles() {\n    this.exportVisible = false;\n    let items = this.fs.treeToList(\n      this.projectManagerService.getCurrentDriver().fsRoot\n    )\n\n    let tree: any = [];\n\n    while (items.length !== 0) {\n      let item = items.shift();\n      let file = item as FsNodeFile;\n\n      let content;\n\n      if (file.content) {\n        console.log(\"Process:file\", file)\n        if (file.content instanceof ArrayBuffer) {\n          content = new TextDecoder().decode(file.content);\n        } else {\n          content = file.content\n        }\n\n        tree.push({\n          path: file.path.slice(1),\n          mode: '100644',\n          type: 'blob',\n          content: content\n        })\n      }\n    }\n\n    console.log(\"TREE: \", tree);\n    let parentCommitsha: any;\n\n    let repository: string;\n\n    if (this.exportDropDisabled) {\n      repository = this.newRepoName;\n\n      this.githubService.createRepository(repository)\n        .then(() => this.githubService.getReference(repository))\n        .then((data) => { parentCommitsha = data.object.sha; })\n        .then(() => this.githubService.createTree(repository, tree))\n        .then((data) => this.githubService.createCommit(repository, data.sha, parentCommitsha))\n        .then((data) => this.githubService.updateReference(repository, data.sha))\n        .then((data) => {\n\n          // Show notify on screen\n          if (!data.error) {\n            this.showToastMessage('success', 'Upload successful')\n          } else {\n            this.showToastMessage('error', 'Upload failed');\n          }\n        })\n\n    } else {\n      repository = this.selectedRepo.name;\n\n      this.githubService.getReference(repository)\n        .then((data) => { parentCommitsha = data.object.sha; })\n        .then(() => this.githubService.createTree(repository, tree))\n        .then((data) => this.githubService.createCommit(repository, data.sha, parentCommitsha))\n        .then((data) => this.githubService.updateReference(repository, data.sha))\n        .then((data) => {\n\n          // Show notify on screen\n          if (!data.error) {\n            this.showToastMessage('success', 'Upload successful')\n          } else {\n            this.showToastMessage('error', 'Upload failed');\n          }\n        })\n    }\n  }\n\n\n  public replaceProject(data: any) {\n    // Before delete files and folders from root, then import project from Github\n    let driver = this.projectManagerService.getCurrentDriver()\n\n    driver.scanDirectory('/').then((folder) => {\n      driver.fsRoot = folder ?? FsService.EmptyFolder;\n\n      this.deleteFolder(driver.fsRoot, driver.fsRoot)\n\n      this.refreshRoot();\n\n    }).then(() => this.importProject(data))\n  }\n\n\n  public downloadFiles() {\n    this.importVisible = false;\n\n    this.githubService.getRepositoryAsTar(this.selectedRepo.name)\n      .then((url) => this.githubService.getTar(url))\n      .then(async (response) => {\n        let data = await response.arrayBuffer();\n        this.replaceProject(data);\n      }\n    )\n  }\n\n\n  private async uploadFile(repository: string, filename: string, content: ArrayBuffer, mime: string) {\n    console.log(\"UPLOAD FILE\")\n\n    // Prepare data to upload on GitHub\n    var binary = '';\n    var bytes = new Uint8Array(content);\n    var len = bytes.byteLength;\n    for (var i = 0; i < len; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n\n    var bodyObj = JSON.stringify({\n      \"content\": binary\n    });\n\n    //TODO work just on local \n    await fetch(\"http://localhost:4000/uploadFile?username=\" + localStorage.getItem(\"username\") + \"&filename=\" + filename + \"&repository=\" + repository, {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\"), // Bearer ACCESSTOKEN\n        \"Content-Type\": \"application/json\"\n      },\n      body: bodyObj,\n    }).then((response) => {\n\n      return response.json();\n    }).then((data) => {\n      console.log(\"UPLOAD RESPONSE:\", data);\n\n      // Show notify on screen\n      if (data.commit) {\n        this.showToastMessage('success', 'Upload successful')\n      } else {\n        this.showToastMessage('error', 'Upload failed');\n      }\n\n    })\n  }\n\n\n  public enableButton(mode: any) {\n    if (mode === 'export') \n      this.exportButtonRepoDisabled = false;\n    else \n      this.importButtonRepoDisabled = false;\n  }\n\n  public detectInput() {\n\n    this.repoNameHelp = \"Enter new repository name.\";\n    setTimeout(() => {\n      let repoLabel = document.getElementById('repoName-help') as HTMLElement;\n      repoLabel.style.color = \"black\";\n    }, 0)\n\n    if (this.newRepoName.length > 0) {\n      this.exportDropDisabled = true;\n\n      let condition = (repo: any) => repo.name == this.newRepoName\n      let repoFound = this.reposList.findIndex(condition);\n\n      if (repoFound !== -1) {\n\n        this.repoNameHelp = \"The repository '\" + this.newRepoName + \"' already exists on this account.\";\n        setTimeout(() => {\n          let repoLabel = document.getElementById('repoName-help') as HTMLElement;\n          repoLabel.style.color = \"red\";\n        }, 0)\n\n        this.exportButtonRepoDisabled = true;\n\n      } else if (this.newRepoName === 'TALightProject-Archives') {\n\n        this.repoNameHelp = \"The repository '\" + this.newRepoName + \"' is only for uploading archives.\";\n        setTimeout(() => {\n          let repoLabel = document.getElementById('repoName-help') as HTMLElement;\n          repoLabel.style.color = \"red\";\n        }, 0)\n\n        this.exportButtonRepoDisabled = true;\n\n      } else {\n\n        this.repoNameHelp = \"Enter new repository name.\";\n        setTimeout(() => {\n          let repoLabel = document.getElementById('repoName-help') as HTMLElement;\n          repoLabel.style.color = \"black\";\n        }, 0)\n\n        this.exportButtonRepoDisabled = false;\n      }\n    } else {\n      this.exportDropDisabled = false;\n\n      if (this.selectedRepo == undefined) {\n        this.exportButtonRepoDisabled = true;\n      }\n    }\n  }\n\n\n  public signIn() {\n\n    // Google sign-in\n    // asl-google-signin-button is a wrapper of a clickable div which is responsible to open sign-in popup\n\n    this.googleLogin = true; // -> TODO: Verify when set tt/ff this flag\n    let element: HTMLElement = document.getElementById(\"g_upload\")?.children[0].children[0].children[0] as HTMLElement;\n    element.click();\n\n  }\n\n\n  public async uploadGoogleDrive(filename: string, content: ArrayBuffer | string, mime = \"application/octet-stream\") {\n\n    var folderId;\n    var fileMetadata;\n    var data;\n    var response;\n\n    // Search for TALightProjects Folder\n    response = await fetch(\"https://www.googleapis.com/drive/v3/files?q=mimeType='application/vnd.google-apps.folder' and name='TALightProjects'\", {\n      method: \"GET\",\n      headers: {\n        Authorization: \"Bearer \" + this.accessToken\n      },\n    });\n\n    data = await response.json();\n\n    if (data.files.length == 0) {\n\n      // Create TALightProjects Folder\n      fileMetadata = {\n        name: 'TALightProjects',\n        mimeType: 'application/vnd.google-apps.folder',\n      };\n\n      const response = await fetch(\"https://www.googleapis.com/drive/v3/files\", {\n        method: \"POST\",\n        headers: {\n          Authorization: \"Bearer \" + this.accessToken,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(fileMetadata)\n      });\n\n      data = await response.json();\n      folderId = data.id\n\n    }\n    else {\n      folderId = data.files[0].id;\n    }\n\n    // Upload file under TALightProjects Folder on Drive\n    var formData = new FormData();\n\n    fileMetadata = {\n      name: filename,\n      parents: [folderId]\n    };\n\n    formData.append(\"metadata\", new Blob([JSON.stringify(fileMetadata)], { type: \"application/json\" }));\n    formData.append(\"data\", new Blob([content], { type: mime }), filename);\n\n\n    const res = await fetch(\"https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart\", {\n      method: \"POST\",\n      body: formData,\n      headers: { Authorization: \"Bearer \" + this.accessToken },\n    })\n\n    data = await res.json();\n\n    // Reset user connection params\n    this.user = undefined;\n    this.accessToken = '';\n\n    // Show notify on screen\n    if (!data.error) {\n      this.showToastMessage('success', 'Upload successful')\n    } else {\n      this.showToastMessage('error', 'Upload failed');\n    }\n\n    this.googleLogin = false;\n\n  }\n\n  public showToastMessage(severity: string, detail: string) {\n    this.messageService.add({\n      key: 'tl',\n      severity: severity,\n      summary: 'Info',\n      detail: detail,\n    });\n  }\n\n  public async uploadOneDrive(filename: string, content: ArrayBuffer | string, mime = \"application/octet-stream\") {\n\n    this.microsoftLogin = true;\n\n    const response = await this.authService.signIn(MicrosoftLoginProvider.PROVIDER_ID);\n    var res;\n\n    var accessToken = response.authToken;\n\n    // NOTE: With OneDrive it is not necessary to check if the TALightsProjects folder\n    // exists and possibly create it because this is done automatically by the service\n\n    // Prepare data for request\n    var formData = new FormData();\n\n    var fileMetadata = {\n      name: filename,\n    };\n\n    formData.append(\"metadata\", new Blob([JSON.stringify(fileMetadata)], { type: \"application/json\" }));\n    formData.append(\"content\", new Blob([content], { type: mime }), filename);\n\n    res = await fetch(\"https://graph.microsoft.com/v1.0/me/drive/root:/TALightsProjects/\" + filename + \":/content\", {\n      method: \"PUT\",\n      body: content,\n      headers: {\n        Authorization: \"Bearer \" + accessToken,\n        'Content-Type': mime\n      },\n    });\n\n    const data = await res.json();\n\n    this.microsoftLogin = false;\n\n    // Show notify on screen\n    if (!data.error) {\n      this.showToastMessage('success', 'Upload successful')\n    } else {\n      this.showToastMessage('error', 'Upload failed');\n    }\n\n  }\n\n  public triggerDownload(filename: string, content: ArrayBuffer | string, mime = \"application/octet-stream\") {\n    let a = document.createElement(\"a\");\n\n    const blob = new Blob([content], { type: mime });\n    let url = window.URL.createObjectURL(blob);\n\n    a.style.display = \"none\";\n    a.download = filename;\n    a.href = url;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  }\n}\n","<div class=\"tal-editor-files-tree\" [class.blur]=\"isBlurred\">\n  <div class=\"tal-editor-files-header\">\n    <div class=\"tal-editor-files-left-bar\">\n      <button pButton icon=\"pi pi-folder\" class=\"tal-square-button\"\n        (click)=\"closeAllContextMenus($event); addNewItem(null, 'folder')\" pTooltip=\"New folder\"></button>\n      <button pButton icon=\"pi pi-file\" class=\"tal-square-button\"\n        (click)=\"closeAllContextMenus($event); addNewItem(null, 'file')\" pTooltip=\"New file\"></button>\n    </div>\n    <div class=\"tal-editor-files-right-bar\">\n      <button pButton icon=\"pi pi-sync\" class=\"tal-square-button\" (click)=\"closeAllContextMenus($event); syncFilesystem()\"\n        pTooltip=\"Refresh\"></button>\n    </div>\n  </div>\n\n\n  <div class=\"tal-editor-files-body\">\n    <ng-container *ngTemplateOutlet=\"TalFolder; context: { $implicit: this.driver?.fsRoot }\"></ng-container>\n  </div>\n\n  <p-dialog header=\"Choose or create a repository..\" [(visible)]=\"exportVisible\" [style]=\"{ width: '50vw' }\">\n\n    <label htmlFor=\"exportRepoList\" style=\"margin-top: 20px; font-weight: bold;\" >Repository list:</label>\n    <div class=\"flex flex-column gap-2\" style=\"margin-top: 10px;\">\n        <p-dropdown id=\"exportRepoList\" appendTo=\"body\" (onChange)=\"enableButton('export')\" [disabled]=\"exportDropDisabled\" [options]=\"reposList\" [(ngModel)]=\"selectedRepo\" placeholder=\"Select a repository\" optionLabel=\"full_name\"></p-dropdown>\n    </div>\n\n\n    <div class=\"flex flex-column gap-2\">\n      <label htmlFor=\"repoName\" style=\"margin-top: 20px; font-weight: bold;\">Repository name:</label>\n      <tr>\n        <td><input pInputText [(ngModel)]=\"newRepoOwner\" [style]=\"{ width: '22vw' }\" disabled /></td>\n        <td><p style=\"font-size: xx-large;\"> / </p></td>\n        <td><input pInputText id=\"repoName\" (input)=\"detectInput()\" [style]=\"{ width: '23vw' }\" [(ngModel)]=\"newRepoName\" /></td>\n        <small id=\"repoName-help\">{{repoNameHelp}}</small>\n      </tr>\n\n    </div>\n\n    <ng-template pTemplate=\"footer\">\n      <p-button id=\"exportRepoButton\" [disabled]=\"exportButtonRepoDisabled\" icon=\"pi pi-check\" (onClick)=\"uploadFiles()\" label=\"Ok\" ></p-button>\n    </ng-template>\n\n  </p-dialog>\n\n  <p-dialog header=\"Choose a repository..\" [(visible)]=\"importVisible\" [style]=\"{ width: '30vw' }\">\n\n    <label htmlFor=\"importRepoList\" style=\"margin-top: 20px; font-weight: bold;\" >Repository list:</label>\n    <div class=\"flex flex-column gap-2\" style=\"margin-top: 10px;\">\n        <p-dropdown id=\"importRepoList\" appendTo=\"body\" (onChange)=\"enableButton('import')\" [disabled]=\"importDropDisabled\" [options]=\"reposList\" [(ngModel)]=\"selectedRepo\" placeholder=\"Select a repository\" optionLabel=\"full_name\"></p-dropdown>\n    </div>\n\n    <ng-template pTemplate=\"footer\">\n      <p-button id=\"importRepoButton\" [disabled]=\"importButtonRepoDisabled\" icon=\"pi pi-check\" (onClick)=\"importGithubClick($event)\" label=\"Ok\" ></p-button>\n    </ng-template>\n\n  </p-dialog>\n\n\n  <div class=\"tal-editor-files-footer\">\n    <div class=\"tal-editor-files-left-bar\">\n      <button pButton class=\"p-button-secondary tal-square-button\" icon=\"pi pi-save\"\n      (click)=\"menuExport.toggle($event)\" pTooltip=\"Save/Export\"></button>\n\n      <asl-google-signin-button id=\"g_upload\" class=\"gbtn\"></asl-google-signin-button>\n      <p-tieredMenu #menuExport [model]=\"ExportItems\" [popup]=\"true\"></p-tieredMenu>\n\n      <button pButton class=\"p-button-secondary tal-square-button\" icon=\"pi pi-upload\"\n      (click)=\"menuImport.toggle($event)\" pTooltip=\"Upload/Import\"></button>\n      <input id=\"fileUpload\" #fileUpload type=\"file\" style=\"display: none;\" (change)=\"upload($event)\"/>\n\n      <p-tieredMenu #menuImport [model]=\"ImportItems\" [popup]=\"true\"></p-tieredMenu>\n    </div>\n\n\n    <div class=\"tal-editor-files-right-bar\">\n      <button pButton icon=\"pi pi-eye\" class=\"tal-square-button\" *ngIf=\"showHidden\"\n        (click)=\"closeAllContextMenus($event); toggleHidden()\" pTooltip=\"Hide hidden files\"></button>\n\n      <button pButton icon=\"pi pi-eye-slash\" class=\"tal-square-button\" *ngIf=\"!showHidden\"\n        (click)=\"closeAllContextMenus($event); toggleHidden()\" pTooltip=\"Show hidden files\"></button>\n\n      <button pButton icon=\"pi pi-cog\" class=\"tal-square-button\"\n        (click)=\"closeAllContextMenus($event); openSettings()\" pTooltip=\"Settings\"></button>\n    </div>\n  </div>\n\n  <p-toast position=\"top-left\" key=\"tl\"></p-toast>\n\n</div>\n\n<ng-template #TalFolder let-folder>\n  <div class=\"tal-folder\">\n    <ng-container *ngFor=\"let subfolder of folder.folders\">\n      <div *ngIf=\"isVisibile(subfolder)\" class=\"tal-folder-subtree\">\n        <div class=\"tal-folder-row\" (contextmenu)=\"closeAllContextMenus($event); folderOverlayPanel.show($event)\" [class.opened]=\"subfolder===selectedFolder\">\n          <div class=\"tal-folder-title collapse-toggle\" (click)=\"closeAllContextMenus($event); selectFolder(subfolder)\"\n            (dblclick)=\"closeAllContextMenus($event); startEditing(folder, subfolder)\">\n            <i class=\"pi pi-chevron-down\"></i>\n            <ng-container *ngIf=\"editingItem!=subfolder;else ItemEditingTemplate\">\n              <i class=\"pi pi-folder\"></i>\n              <p>{{subfolder.name}}</p>\n            </ng-container>\n          </div>\n          <div class=\"tal-row-settings\" *ngIf=\"editingItem!=subfolder\">\n            <div class=\"tal-row-button\" (click)=\"folderOverlayPanel.show($event)\">\n              <i class=\"pi pi-ellipsis-h\"></i>\n            </div>\n          </div>\n\n          <p-overlayPanel #folderOverlayPanel>\n            <ng-template pTemplate>\n              <div class=\"tal-contextmenu-container\">\n                <div class=\"tal-contextmenu-item\" (click)=\"closeAllContextMenus($event); addNewItem(subfolder, 'file')\">\n                  <i class=\"pi pi-plus\"></i>\n                  <p>New file</p>\n                </div>\n                <div class=\"tal-contextmenu-item\"\n                  (click)=\"closeAllContextMenus($event); addNewItem(subfolder, 'folder')\">\n                  <i class=\"pi pi-plus\"></i>\n                  <p>New folder</p>\n                </div>\n                <div class=\"tal-contextmenu-item\"\n                  (click)=\"closeAllContextMenus($event); startEditing(folder, subfolder)\">\n                  <i class=\"pi pi-pencil\"></i>\n                  <p>Rename folder</p>\n                </div>\n                <div class=\"tal-contextmenu-item\"\n                  (click)=\"closeAllContextMenus($event); deleteFolderClick($event, subfolder)\">\n                  <i class=\"pi pi-trash\"></i>\n                  <p>Delete folder</p>\n                </div>\n              </div>\n            </ng-template>\n          </p-overlayPanel>\n\n        </div>\n        <div class=\"tal-subfolder\">\n          <ng-container *ngTemplateOutlet=\"TalFolder; context: { $implicit: subfolder }\"></ng-container>\n        </div>\n      </div>\n    </ng-container>\n\n    <ng-container *ngIf=\"newItemFolder === folder\">\n      <ng-container *ngTemplateOutlet=\"NewItemTemplate\"></ng-container>\n    </ng-container>\n\n    <ng-container *ngFor=\"let file of folder.files\">\n      <div *ngIf=\"isVisibile(file)\" class=\"tal-file\"\n        (contextmenu)=\"closeAllContextMenus($event); fileOverlayPanel.show($event)\" [class.opened]=\"file===selectedFile\">\n        <div class=\"tal-file-title\" (click)=\"closeAllContextMenus($event); selectFile(file)\"\n          (dblclick)=\"closeAllContextMenus($event); startEditing(folder, file)\">\n          <ng-container *ngIf=\"editingItem!=file;else ItemEditingTemplate\">\n            <p>{{file.name}}</p>\n          </ng-container>\n        </div>\n        <div class=\"tal-row-settings\" *ngIf=\"editingItem!=file\">\n          <div class=\"tal-row-button\" (click)=\"fileOverlayPanel.show($event)\">\n            <i class=\"pi pi-ellipsis-h\"></i>\n          </div>\n        </div>\n\n        <p-overlayPanel #fileOverlayPanel>\n          <ng-template pTemplate>\n            <div class=\"tal-contextmenu-container\">\n              <div class=\"tal-contextmenu-item\" (click)=\"closeAllContextMenus($event); startEditing(folder, file)\">\n                <i class=\"pi pi-pencil\"></i>\n                <p>Rename file</p>\n              </div>\n              <div class=\"tal-contextmenu-item\" (click)=\"closeAllContextMenus($event); deleteFileClick($event, file)\">\n                <i class=\"pi pi-trash\"></i>\n                <p>Delete file</p>\n              </div>\n            </div>\n          </ng-template>\n        </p-overlayPanel>\n      </div>\n    </ng-container>\n  </div>\n</ng-template>\n\n<ng-template #ItemEditingTemplate>\n  <input #nameEditing class=\"tal-item-input\" type=\"text\" [(ngModel)]=\"editingValue\" (blur)=\"saveEditing()\"\n    (keyup.enter)=\"saveEditing()\" (keyup.esc)=\"cancelEditing()\" (input)=\"editItemChange()\"\n    [class.error]=\"editingItemError\">\n</ng-template>\n\n<ng-template #NewItemTemplate>\n  <div class=\"tal-new-item\">\n    <input #newItemName class=\"tal-item-input\" type=\"text\" [(ngModel)]=\"newItemValue\" (blur)=\"saveNewItem()\"\n      (keyup.enter)=\"saveNewItem()\" (keyup.esc)=\"cancelNewItem()\" (input)=\"newItemChange()\"\n      [class.error]=\"newItemError\">\n  </div>\n</ng-template>\n\n<p-confirmDialog key=\"dialogDelete\" acceptLabel=\"Yes, delete it\" acceptIcon=\"pi pi-trash\" rejectLabel=\"No, keep it\">\n</p-confirmDialog>\n\n\n<p-confirmDialog key=\"dialogImport\" acceptLabel=\"Yes, I'll proceed\" acceptIcon=\"pi pi-file-import\" rejectLabel=\"No, maybe later\">\n</p-confirmDialog>\n","import { Component, NgZone, OnInit, QueryList, ViewChild, ViewChildren } from '@angular/core';\nimport { Tooltip } from 'primeng/tooltip';\nimport { TutorialService } from 'src/app/services/tutorial-service/tutorial.service';\n\n@Component({\n  selector: 'tal-log-api-widget',\n  templateUrl: './log-api-widget.component.html',\n  styleUrls: ['./log-api-widget.component.scss']\n})\nexport class LogApiWidgetComponent implements OnInit {\n\n  public outputLines:any = [];\n  public icon = 'pi-check-circle';\n  public label = 'Log Active'\n  public isActive:boolean = true;\n\n  @ViewChildren(Tooltip) tooltips!: QueryList <Tooltip>;\n  isBlurred: boolean = false;\n\n  constructor(\n    public zone: NgZone,\n    private tutorialService : TutorialService,\n    ) {\n      this.tutorialService.onTutorialChange.subscribe( (tutorial)=>{this.isTutorialShown(tutorial)} ),\n      this.tutorialService.onTutorialClose.subscribe( ()=>{this.isTutorialShown()} )\n    }\n\n  ngOnInit() {\n    //this.isBlurred = true;\n  }\n\n\n  private isTutorialShown(tutorial? : any){\n\n    console.log(\"LogApiWidgetComponent:isTutorialShown\")\n    if (typeof tutorial === 'undefined' || tutorial.componentName === this.constructor.name){\n      this.isBlurred = false\n    }\n    else{\n      this.isBlurred = true\n    }\n  }\n\n  clearOutput() {\n    this.zone.run(() => this.outputLines = [])\n  }\n\n\n  addLine(content: string) {\n    let index = this.outputLines.length;\n    console.log('addLine:index: ', index)\n\n    this.outputLines.push({'id': index, 'content': content})\n\n    setTimeout(() =>  {\n      const flashDiv = document.getElementById('flash-div-'+ index);\n      if (flashDiv) { flashDiv.style.animationPlayState = 'running'; }\n    }, 0);\n\n  }\n\n  flashLine() {\n\n    for (let i = 0;i < this.outputLines.length; i++) {\n      const flashDiv = document.getElementById('flash-div-'+ i);\n      if (flashDiv) {\n        flashDiv.style.animationPlayState = 'paused';\n      }\n    }\n  }\n\n  private findTooltipById(searchId: string): Tooltip | undefined {\n\n    return this.tooltips.find(tooltip => tooltip.el.nativeElement.id === (\"icon-\"+searchId));\n  }\n\n  copy(index:any) {\n\n    navigator.clipboard.writeText(this.outputLines[index].content);\n\n    const foundTooltip = this.findTooltipById(index);\n    if (foundTooltip) {\n        foundTooltip.activate();\n    }\n  }\n\n  active() {\n\n    const icon = document.getElementById('logIcon');\n\n    if (icon) {\n      if (this.icon === 'pi-check-circle') {\n        this.icon = 'pi-ban';\n        this.label = 'Log Disabled';\n        this.isActive = false;\n      } else {\n        this.icon = 'pi-check-circle';\n        this.label = 'Log Active';\n        this.isActive = true;\n      }\n    }\n\n  }\n\n}\n\n","<div class=\"log-container\" [class.blur]=\"isBlurred\">\n\n  <div class=\"p-button-bar\">\n    <p-button id=\"logIcon\" styleClass=\"p-button-raised\" label=\"{{label}}\" badge=\"{{outputLines.length}}\"\n      icon=\"pi {{icon}}\" (click)=\"active()\"></p-button>\n    <p-button styleClass=\"p-button-raised\" label=\"Delete\" icon=\"pi pi-trash\" (click)=\"clearOutput()\"></p-button>\n  </div>\n\n  <div class=\"log\">\n    <div class=\"tal-output-widget-pscroll\">\n      <div class=\"content-api\" *ngFor=\"let line of outputLines\">\n        <div id=\"flash-div-{{line.id}}\" class=\"log-line flash-div\">\n          <div class=\"row-icon\">\n            <i id=\"icon-{{line.id}}\" pTooltip=\"Copied\" tooltipPosition=\"left\" [life]=\"1000\" tooltipEvent=\"focus\"\n              class=\"pi pi-copy\" (click)=\"copy(line.id)\"></i>\n          </div>\n          <div class=\"log-text\">\n            <i style=\"vertical-align: middle;\" class=\"pi pi-angle-right\"></i>{{line.content}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, ViewChild } from '@angular/core';\nimport { ControlValueAccessor } from '@angular/forms';\nimport { EditorComponent } from 'ngx-monaco-editor-v2';\nimport { noop } from 'rxjs';\nimport { FsNodeFile } from 'src/app/services/fs-service/fs.service.types';\nimport { ThemeService } from 'src/app/services/theme-service/theme.service';\nimport { TutorialService } from 'src/app/services/tutorial-service/tutorial.service';\n\n@Component({\n  selector: 'tal-monaco-editor-widget',\n  templateUrl: './monaco-editor-widget.component.html',\n  styleUrls: ['./monaco-editor-widget.component.scss']\n})\nexport class MonacoEditorWidgetComponent implements ControlValueAccessor, OnInit, OnChanges {\n  @ViewChild(\"monacoEditor\") public monacoEditor!: EditorComponent;\n  public editorOptions: any;\n\n\n  @Input(\"selectedFile\") private _selectedFile: FsNodeFile | null = null;\n  @Input(\"language\") public language: string = \"\";\n  //Code\n\n\n\n  @Output('onChange') public onChange = new EventEmitter<FsNodeFile>();\n\n  public binEncoder = new TextEncoder(); // always utf-8\n  public binDecoder = new TextDecoder(\"utf-8\");\n  isBlurred: boolean = false;\n\n  constructor(\n    private readonly themeService: ThemeService,\n    private tutorialService : TutorialService,\n\n  ) {\n  }\n\n  ngOnInit(): void {\n    this.themeService.themeChanged.subscribe((theme) => {\n      this.updateEditorOptions();\n    });\n    this.isBlurred = false;\n\n    this.updateEditorOptions();\n  }\n\n\n\n  ngAfterViewInit() {\n    //this.monacoEditor.registerOnChange((event:any)=>{ this.change(event) })\n    //this.monacoEditor.registerOnTouched((event:any)=>{ this.input(event) })\n\n    // this returns null\n  }\n\n  ngOnChanges(): void {\n    this.updateEditorOptions();\n  }\n\n  public get selectedFile():FsNodeFile|null{\n    return this._selectedFile;\n  }\n\n  public set selectedFile(selectedFile:FsNodeFile|null){\n    this._selectedFile = selectedFile\n    if(!this._selectedFile) {\n      this.value = \"\";\n      return;\n    }\n    let content = this._selectedFile.content;\n    if(typeof content === 'string' )\n    {\n      this.value = content\n    }\n\n  }\n\n  // CodeEditorControls\n  private onTouchedCallback: (_?: any) => void = noop;\n  private onChangeCallback: (_?: any) => void = noop;\n\n  public getFileContent():string{\n    if(!this._selectedFile){return \"\"}\n    let content = this._selectedFile.content\n    if (content instanceof ArrayBuffer){\n      content = this.binDecoder.decode(content)\n      this._selectedFile.content = content\n    }\n    return content\n  }\n\n  public setFileContent(text:string){\n    if(!this._selectedFile){return;}\n    this._selectedFile.content = text\n    //alert(text);\n  }\n\n\n\n\n  // get accessor\n  public get value(): string {\n    //console.log(\"MonacoEditor:value:get\")\n    return this.getFileContent();\n  }\n\n  // Set accessor including call the onchange callback\n  public set value(text: string) {\n    console.log(\"MonacoEditor:value:set\")\n    if(!this._selectedFile){return;}\n    let content=this.getFileContent()\n    console.log(\"MonacoEditor:value:old\",content)\n    console.log(\"MonacoEditor:value:new\",text)\n    if (text !== content) {\n      console.log(\"MonacoEditor:value:set:changed\")\n      this.setFileContent(text);\n      this.didChange()\n\n    }\n  }\n  // From ControlValueAccessor interface\n  public writeValue(text: any) {\n    console.log(\"MonacoEditor:writeValue\")\n    if (text !== this.value) {\n      this.value = text;\n    }\n  }\n\n\n  public didChange(): void {\n    console.log(\"MonacoEditor:didChange\")\n    this.onChangeCallback();\n    this.onTouchedCallback();\n    if(!this.selectedFile){return;}\n    this.onChange.emit(this.selectedFile);\n  }\n\n  // From ControlValueAccessor interface\n  public registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  public registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n\n  public updateEditorOptions(): void {\n    console.log(this.language);\n    this.editorOptions = {\n      language: this.language,\n      theme: this.themeService.themeName(),\n      automaticLayout: true\n    }\n  }\n\n}\n","<div class=\"tal-monaco-editor\" [class.blur]=\"isBlurred\">\n    <ngx-monaco-editor class=\"tal-monaco-editor-ngx\"\n        #monacoEditor \n        [lang]=\"language\" \n        [options]=\"editorOptions\" \n        [(ngModel)]=\"value\">\n    </ngx-monaco-editor>\n</div>\n    ","import { Component, EventEmitter, Output, ViewChild, NgZone, ElementRef } from '@angular/core';\nimport { CompilerState } from 'src/app/services/compiler-service/compiler-service.types';\nimport { TutorialService } from 'src/app/services/tutorial-service/tutorial.service';\n\n\nexport class OutputMessage {\n  constructor(\n    public content: string,\n    public type: OutputType,\n    public index: number = -1,\n    public timestamp: number = Date.now()\n  ) { }\n}\n\nexport enum OutputType {\n  STDIN = 'stdin',\n  STDINAPI = 'stdinapi',\n  STDOUT = 'stdout',\n  STDERR = 'stderr',\n  SYSTEM = 'system',\n}\n\ntype TimeoutID = number;\n\n@Component({\n  selector: 'tal-output-widget',\n  templateUrl: './output-widget.component.html',\n  styleUrls: ['./output-widget.component.scss'],\n})\nexport class OutputWidgetComponent {\n  @Output('onInput') public onInput = new EventEmitter<InputEvent>();\n  @Output('onStdin') public onStdin = new EventEmitter<string>();\n\n  @ViewChild(\"output\") public output!: ElementRef;\n  @ViewChild(\"sdtinInput\") public sdtinInput!: ElementRef;\n  @ViewChild(\"sdtinButton\") public sdtinButton!: ElementRef;\n  @ViewChild(\"pyodideIcon\") public pyodideIcon!: ElementRef;\n\n  public outputLines = new Array<OutputMessage>();\n  public pyodideState = CompilerState.Unknown\n  public pyodideStateIcon = \"pi-circle\"\n  public pyodideStateColor = \"\" //default: lightgray\n  public pyodideStateTooltip = \"State: Unknown\"\n  public stdinHighlight?: TimeoutID;\n  isBlurred = false;\n\n  constructor(\n    public zone: NgZone,\n    private tutorialService: TutorialService,\n  ) {\n    this.tutorialService.onTutorialChange.subscribe((tutorial) => { this.isTutorialShown(tutorial) }),\n      this.tutorialService.onTutorialClose.subscribe(() => { this.isTutorialShown() })\n  }\n\n\n  ngOnInit() {\n    //this.isBlurred = true;\n  }\n\n  private isTutorialShown(tutorial?: any) {\n\n    console.log(\"OutputWidgetComponent:isTutorialShown\")\n    if (typeof tutorial === 'undefined' || tutorial.componentName === this.constructor.name) {\n      this.isBlurred = false\n    }\n    else {\n      this.isBlurred = true\n    }\n  }\n\n  ngOnDestroy() { }\n\n  clearOutput() {\n    this.zone.run(() => this.outputLines = [])\n  }\n\n  public print(content: string, outputType = OutputType.STDOUT) {\n    let msg = new OutputMessage(content, outputType, this.outputLines.length)\n    this.zone.run(() => this.outputLines.push(msg));\n    this.scrollToBottom()\n  }\n\n  public iconForType(message: OutputMessage) {\n    let icon = ''\n    let idx = message.index\n    if (idx > 0 && this.outputLines[idx - 1].type == message.type) { return icon; }\n    switch (message.type) {\n      default:\n      case OutputType.STDIN: icon = 'pi-angle-left'; break;\n      case OutputType.STDINAPI: icon = 'pi-cloud-download'; break;\n      case OutputType.STDOUT: icon = 'pi-angle-right'; break;\n      case OutputType.STDERR: icon = 'pi-exclamation-triangle'; break;\n      case OutputType.SYSTEM: icon = 'pi-info-circle'; break;\n    }\n    return icon;\n  }\n\n  public didStateChange(state: CompilerState, content?: string) {\n    console.log(\"OutputWidgetComponent:didStateChange:\", state)\n    this.pyodideState = state\n    this.pyodideStateTooltip = 'State: ' + this.pyodideState\n\n    switch (state) {\n      default:\n      case CompilerState.Unknown:\n        this.pyodideStateIcon = \"pi-circle\"\n        this.pyodideStateColor = \"\"\n        this.enableStdin(false)\n        break;\n      case CompilerState.Init:\n          this.pyodideStateIcon = \"pi-circle\"\n          this.pyodideStateColor = \"orange\"\n          this.enableStdin(false)\n          break;\n      case CompilerState.Loading:\n        this.pyodideStateIcon = \"pi-spin pi-spinner\"\n        this.pyodideStateColor = \"orange\"\n        this.enableStdin(false)\n        break;\n      case CompilerState.Ready:\n        this.pyodideStateIcon = \"pi-circle\"\n        this.pyodideStateColor = \"green\"\n        this.enableStdin(false)\n        break;\n      case CompilerState.Run:\n        this.pyodideStateIcon = \"pi-spin pi-spinner\"\n        this.pyodideStateColor = \"green\"\n        this.enableStdin(false)\n        break;\n      case CompilerState.Stdin:\n        this.pyodideStateIcon = \"pi-spin pi-spinner\"\n        this.pyodideStateColor = \"orange\"\n        this.enableStdin(true);\n        break;\n      case CompilerState.Error:\n        this.pyodideStateIcon = \"pi-circle-fill\"\n        this.pyodideStateColor = \"darkred\"\n\n        this.print(\"END: Error\", OutputType.STDERR)\n        this.print(content ?? \"Uknown error\", OutputType.STDERR)\n        this.enableStdin(false)\n        break;\n      case CompilerState.Success:\n        this.pyodideStateIcon = \"pi-circle-fill\"\n        this.pyodideStateColor = \"green\"\n        this.print(\"END: Success\", OutputType.SYSTEM)\n        if (content) {\n          this.print(content, OutputType.SYSTEM)\n        }\n        this.enableStdin(false)\n        break;\n    }\n\n  }\n\n  public enableStdin(enable = true) {\n    let btn = this.sdtinButton.nativeElement as HTMLButtonElement\n    let ipt = this.sdtinInput.nativeElement as HTMLInputElement\n    btn.disabled = !enable\n    ipt.disabled = !enable\n    this.enableHighlight(enable)\n  }\n\n  public enableHighlight(enable = true, color?: string) {\n    let ipt = this.sdtinInput.nativeElement as HTMLInputElement\n\n    let toggleColor = (clear?: boolean) => {\n      if (clear) {\n        ipt.style.borderColor == \"\"\n        return\n      }\n\n      ipt.style.borderColor = ipt.style.borderColor == \"\" ? color ?? \"orange\" : \"\"\n    }\n\n    //if(enable && this.stdinHighlight){ return; }\n    //if(!enable && !this.stdinHighlight){ return; }\n    if (enable) {\n      if (this.stdinHighlight) { clearInterval(this.stdinHighlight); }\n      this.stdinHighlight = window.setInterval(toggleColor, 1000) //window.setInterval -> number; setInterval -> strange object\n    } else {\n      clearInterval(this.stdinHighlight);\n      this.stdinHighlight = undefined\n      setTimeout(() => { toggleColor(true) })\n    }\n  }\n\n\n  public focusStdin() {\n    let ipt = this.sdtinInput.nativeElement as HTMLInputElement\n    ipt.style.backgroundColor = \"\"\n    this.enableHighlight(false)\n  }\n\n  public blurStdin() {\n    let ipt = this.sdtinInput.nativeElement as HTMLInputElement\n    ipt.style.backgroundColor = \"\"\n    let shouldHighlight = this.pyodideState == CompilerState.Stdin\n    this.enableHighlight(shouldHighlight)\n  }\n\n  public sendStdin() {\n    let msg = this.sdtinInput.nativeElement.value ?? \"\"\n    msg = msg.trim()\n    console.log(\"OutputWidgetComponent:sendStdin:\", this.sdtinInput)\n    console.log(\"OutputWidgetComponent:sendStdin:msg\", msg)\n    if (msg == \"\") { return }\n\n    this.sdtinInput.nativeElement.value = \"\"\n    this.onStdin.emit(msg + \"\\n\");\n  }\n\n  public sendOnEnter(event: KeyboardEvent) {\n    if (event.key == 'Enter') { this.sendStdin(); }\n  }\n\n\n  public scrollToBottom() {\n    // Scroll #console-bottom-scroll to bottom\n    setTimeout(() => {\n      const scrollEl = document.getElementById(\"tal-output-widget-scroll-id\");\n      if (scrollEl) {\n        scrollEl.scrollTop = scrollEl.scrollHeight;\n        console.log(scrollEl.scrollTop, scrollEl.scrollHeight)\n      }\n    });\n  }\n}\n\n\n","<!--<div class=\"container\"> -->\n<div class=\"tal-output-widget\" style=\"border-radius: 3px;\nborder: 1px solid rgb(63, 81, 179);\nbackground-color: rgb(213, 216, 228);\nmax-height:500px;\nheight:auto;\npadding: 4px;\nposition: relative;\" [class.blur]=\"isBlurred\">\n  <div class=\"tal-output-widget-row tal-output-widget-title\">\n    <div class=\"tal-output-widget-row-label\"></div>\n    <div class=\"tal-output-widget-row-icon\">\n      <i #pyodideIcon class=\"pi {{pyodideStateIcon}}\" [pTooltip]=\"pyodideStateTooltip\" tooltipPosition=\"left\"\n        [style]=\"'font-size:100%; color:' + pyodideStateColor\"></i>\n    </div>\n  </div>\n\n  <div style=\"max-height:300px; overflow-y: auto; border-radius: 3px;\n    border: 1px solid rgb(63, 81, 179); background-color: white;\">\n    <div class=\"tal-output-widget-row tal-output-widget-row-scroll\">\n      <div class=\"tal-output-widget-pscroll\" id=\"tal-output-widget-scroll-id\">\n        <div class=\"tal-output-widget-inner-row tal-output-widget-inner-row-{{line.type}}\"\n          *ngFor=\"let line of outputLines\">\n          <div class=\"tal-output-widget-icon\">\n            <i class=\"pi {{iconForType(line)}}\"></i>\n          </div>\n          <div class=\"tal-output-widget-text\">{{line.content}}</div>\n          <br />\n        </div>\n      </div>\n    </div>\n  </div>\n\n\n  <div class=\"tal-output-widget-row tal-output-widget-row-stdin\">\n    <button pButton class=\"tal-square-button\" icon=\"pi pi-trash\" (click)=\"clearOutput()\"\n      pTooltip=\"Clear output\"></button>\n    <input pInput #sdtinInput class=\"tal-output-widget-stdin-input\" (focus)=\"focusStdin()\" (blur)=\"blurStdin()\"\n      (keydown)=\"sendOnEnter($event)\" placeholder=\"Write here input program\" />\n    <button pButton #sdtinButton icon=\"pi pi-send\" class=\"tal-output-widget-stdin-button  tal-square-button\"\n      (click)=\"sendStdin()\" pTooltip=\"Send\"></button>\n  </div>\n\n</div>\n<!--</div>-->\n\n<!-- -->\n\n<!-- [prompt]=\"'TALight>'\" -->\n","import { Component, EventEmitter, Output, NgZone, Input, ViewChild, ElementRef } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ApiService, ApiState } from 'src/app/services/api-service/api.service';\nimport { ProblemManagerService } from 'src/app/services/problem-manager-service/problem-manager.service';\nimport { MessageService, OverlayOptions } from 'primeng/api';\nimport { ServiceDescriptor, ProblemDescriptor, ArgsMap, FilesMap, FileDescriptor, ArgDescriptor } from 'src/app/services/problem-manager-service/problem-manager.types';\nimport { Dropdown } from 'primeng/dropdown';\nimport { ProjectManagerService } from 'src/app/services/project-manager-service/project-manager.service';\nimport { TutorialService } from 'src/app/services/tutorial-service/tutorial.service';\nimport { AutoComplete } from 'primeng/autocomplete';\n\n\nexport class ServiceMenuEntry {\n  constructor(\n    public name = \"\",\n    public descriptor: ServiceDescriptor,\n  ) { }\n}\n\nexport class ProblemMenuEntry {\n  constructor(\n    public name = \"\",\n    public descriptor: ProblemDescriptor,\n  ) { }\n}\n\n@Component({\n  selector: 'tal-problem-widget',\n  templateUrl: './problem-widget.component.html',\n  styleUrls: ['./problem-widget.component.scss'],\n})\nexport class ProblemWidgetComponent {\n  @Output('onProblemChanged') public onProblemSelected = new EventEmitter<ProblemDescriptor>();\n  @Output('onServiceChanged') public onServiceSelected = new EventEmitter<ServiceDescriptor>();\n  @Output('onAttachments') public onAttachments = new EventEmitter<ArrayBuffer>();\n  @Output('onProblemListChanged') public onProblemListChanged = new EventEmitter();\n\n  @ViewChild(\"problemDropdown\") public problemDropdown!: ElementRef\n  @ViewChild(\"serviceDropdown\") public serviceDropdown!: ElementRef\n  @ViewChild(\"statusDropdown\") public statusDropdown!: ElementRef\n  @ViewChild(\"urlInput\") public urlInput?: AutoComplete;\n  @ViewChild(\"statusDot\") public statusDot?: ElementRef;\n  @ViewChild(\"messageBox\") public messageBox?: ElementRef;\n\n  public dropdownOptions: OverlayOptions;\n\n  problemsMenu = new Array<ProblemDescriptor>();\n  servicesMenu = new Array<ServiceDescriptor>();\n\n  selectedProblem?: ProblemDescriptor;\n  selectedService?: ServiceDescriptor;\n  selectedArgs?: ArgsMap;\n  selectedFiles?: FilesMap;\n  selectedFile?: FileDescriptor;\n\n  filePathList = new Array<string>();\n  urlCache: string[] = []\n\n  urlInputClass = \"\"\n\n  escapeRegEx = /[.*+?^${}()|[\\]\\\\]/g\n\n  url\n  lastUrl: string| undefined;\n\n  subApiState\n  subProblemError\n\n  regexFormat = true;\n  showRegex = true;\n  loading = false\n\n  problemSub: Subscription\n  isBlurred: boolean = false;\n\n  constructor( public zone: NgZone,\n               public api: ApiService,\n               public pm: ProblemManagerService,\n               private tutorialService: TutorialService,\n               private messageService: MessageService,\n               public pms: ProjectManagerService,\n              )\n  {\n    this.tutorialService.onTutorialClose.subscribe(() => { this.isTutorialShown() })\n    this.tutorialService.onTutorialChange.subscribe((tutorial) => { this.isTutorialShown(tutorial) }),\n    this.problemSub = this.pm.onProblemsChanged.subscribe((clear:boolean)=>{ this.problemsDidChange(clear) })\n    this.subApiState = this.api.onApiStateChange.subscribe((state:ApiState)=>{this.updateState(state)})\n    this.subProblemError = this.pm.onError.subscribe((_)=>{this.stateBad()})\n\n    this.url = \"\"\n    this.lastUrl = \"\"\n\n    this.pms.currentProjectChanged.subscribe(() => {\n      this.updateProblemInfo() \n      //this.updateServiceInfo()\n      /*\n      this.pms.getCurrentProject().onProjectConfigChanged.subscribe(() => {\n        this.saveProblemServiceConfig();\n      })*/\n    })\n\n    \n    this.pm.onProblemSelected.subscribe(() => {\n      //console.log('Problem selected: ', problem.name);\n      this.updateProjectConfigProblemServiceProblem();\n      /*\n      this.pms.getCurrentProject().onProjectConfigChanged.subscribe(() => {\n      //console.log('config pronto in problem');\n      this.updateProjectConfigProblemServiceProblem();\n      })\n      */\n    })\n  \n    this.onServiceSelected.subscribe((service) => {\n      //console.log('Service selected: ', service.name);\n      this.updateProjectConfigProblemServiceProblem();\n  \n      /*\n      this.pms.getCurrentProject().onProjectConfigChanged.subscribe((_) => {\n        //console.log('config pronto in service');\n        this.updateProjectConfigProblemServiceProblem();\n      })\n      */\n    })\n    \n    this.pm.onProblemsLoaded.subscribe(() =>{ this.loadProblemServiceConfig() })\n\n    // https://primefaces.org/primeng/overlay\n    //this.dropdownOptions = {appendTo:'body', mode: 'modal'}\n    this.dropdownOptions = { appendTo: 'body' }\n  }\n\n  ngOnInit() {\n    this.reloadProblemList();\n    this.lastUrl = this.api.getCurrentServerUrl();\n    this.url = this.lastUrl;\n    this.isBlurred = true;\n\n    if (this.urlInput) {\n      this.urlInput.writeValue(this.url);\n      //TODO: this.projectConfig.TAL_SERVER = this.url;\n    }\n  }\n\n  private isTutorialShown(tutorial?: any) {\n    console.log(\"ProblemWidgetComponent:isTutorialShown\")\n    if (typeof tutorial === 'undefined' || tutorial.componentName === this.constructor.name)\n      this.isBlurred = false\n    else\n      this.isBlurred = true\n  }\n\n  ngOnDestroy() {\n    this.problemSub?.unsubscribe()\n  }\n\n  isLoading() {\n    return this.loading;\n  }\n\n  refreshFilePathList() {\n    this.filePathList = [...this.filePathList]\n  }\n\n  getServerList(){\n    let project = this.pms.getCurrentProject();\n    if (project != null) {\n      return project.config.TAL_SERVERS\n    }\n    return []\n  }\n\n  public selectServerURL(){\n    this.changeURL()\n\n    let project = this.pms.getCurrentProject();\n    if (project != null) {\n      project.config.TAL_SERVER = this.url;\n      project.saveConfig(this.pms.getCurrentDriver());\n    }\n\n  }\n\n  public changeURL() {\n    if(this.lastUrl == this.url){return}\n    this.stateIdle()\n    let dot = this.statusDot!.nativeElement as HTMLElement\n    console.log(\"ProblemWidgetComponent:changeURL:dot:\", dot)\n    let url = this.url;\n    console.log(\"ProblemWidgetComponent:changeURL:urlCache:before:\",this.urlCache)\n    if( !this.api.setUrl(url) ){\n      this.stateBad()\n      console.log(\"ProblemWidgetComponent:changeURL:setURL:failed\")\n    }else{\n      this.url = this.pms.getCurrentProject().config.TAL_SERVER\n      console.log(\"ProblemWidgetComponent:changeURL:setURL:success\")\n      this.stateMaybe()\n      this.pm.updateProblems()\n    }\n    console.log(\"ProblemWidgetComponent:changeURL:urlCache:after:\", this.urlCache )\n    console.log(\"ProblemWidgetComponent:changeURL:url:\", this.url )\n    this.lastUrl = this.url + \"\"\n\n    console.log(\"ProblemWidgetComponent:changeURL:urlCache:after:\", this.urlCache)\n    console.log(\"ProblemWidgetComponent:changeURL:url:\", this.url)\n    this.lastUrl = this.url + \"\"\n  }\n\n  \n\n  private updateProblemInfo(){\n    let currentProject = this.pms.getCurrentProject();\n    if (currentProject == null) return;\n    console.log(\"ProblemWidgetComponent:updateProblemInfo:url:\", this.url)\n    console.log(\"ProblemWidgetComponent:updateProblemInfo:url:TAL_SERVER\", currentProject!.config.TAL_SERVER)\n    this.url = currentProject!.config.TAL_SERVER\n\n    this.selectedProblem = this.pm.getCurrentProblem()\n    console.log(\"ProblemWidgetComponent:updateProblemInfo:selectedProblem\", this.selectedProblem)\n    if(this.selectedProblem != undefined){\n      this.updateServiceInfo(this.selectedProblem)\n    }\n\n    //this.selectedService = this.pm.getCurrentService()\n\n    console.log(\"ProblemWidgetComponent:updateProblemInfo:TAL_SERVER \", currentProject!.config.TAL_SERVER)\n    console.log(\"ProblemWidgetComponent:updateProblemInfo:TAL_PROBLEM \", currentProject!.config.TAL_PROBLEM)\n    console.log(\"ProblemWidgetComponent:updateProblemInfo:TAL_SERVICE \", currentProject!.config.TAL_SERVICE)\n    console.log(\"ProblemWidgetComponent:updateProblemInfo:Service \", this.selectedService)\n\n    this.changeURL()\n  }\n\n  private loadProblemServiceConfig() {\n    let problems = this.pm.getProblems()\n    let config = this.pms.getCurrentProject().config\n    this.pm.getCurrentProblem()\n    console.log(\"ProblemWidgetComponent:loadProblemServiceConfig:problems\", problems)\n    console.log(\"ProblemWidgetComponent:loadProblemServiceConfig:currentProblem\", this.selectedProblem)\n     \n    for (let problem of problems) {\n      if (problem.name == config.TAL_PROBLEM) {\n        this.selectedProblem = problem\n        this.updateServiceInfo(problem)\n        break\n      }\n    }\n\n  }\n\n\n  private async updateProjectConfigProblemServiceProblem() {\n    let project = this.pms.getCurrentProject();\n\n    if (this.selectedProblem == undefined) {\n      project.config.TAL_PROBLEM = \"\";\n      project.config.TAL_SERVICE = \"\";\n    } else {\n      project.config.TAL_PROBLEM = this.selectedProblem.name\n\n      if (this.selectedService == undefined)\n        project.config.TAL_SERVICE = \"\"\n      else\n        project.config.TAL_SERVICE = this.selectedService.name\n    }\n\n    project.config.TAL_SERVER = this.url;\n    await project.saveConfig(this.pms.getCurrentDriver());\n  }\n\n  public stateIdle() { this.updateState(ApiState.Idle); }\n  public stateGood() { this.updateState(ApiState.Good); }\n  public stateMaybe() { this.updateState(ApiState.Maybe); }\n  public stateBad() { this.updateState(ApiState.Bad); }\n\n  public updateState(state: ApiState) {\n    let dot = this.statusDot!.nativeElement as HTMLElement\n    switch (state) {\n      case ApiState.Idle: dot.style.color = \"\"; break;\n      case ApiState.Good: dot.style.color = \"green\"; break;\n      case ApiState.Maybe: dot.style.color = \"orange\"; break;\n      case ApiState.Bad: dot.style.color = \"darkred\"; break;\n    }\n  }\n\n//args\n  clenupRegex(re:RegExp){\n    let text = re+\"\"\n    text = text.replace(/\\/(.*)\\//,'$1')\n    text = text.replace(/\\^(.*)\\$/,'$1')\n    text = text.replace(/\\((.*)\\)/,'$1')\n    text = text.replace(/\\|/g,' OR ')\n    return text;\n  }\n\n  cleanupName(name: string) {\n    var pattern = new RegExp('[-_. ]+', 'g');\n    name = name.replace(pattern, \" \")\n    name = name.charAt(0).toUpperCase() + name.slice(1);\n    return name\n  }\n\n  readableRegex(re: RegExp) {\n    let text = re + \"\"\n    text = text.replace(/\\/(.*)\\//, '$1')\n    text = text.replace(/\\^(.*)\\$/, '$1')\n    text = text.replace(/\\[([^\\]]*)\\]/, (match: string, content: string) => {\n      if (content.startsWith('^')) {\n        return ' invalid(' + content.slice(1) + ') '\n      }\n      return ' valid(' + content.slice(1) + ') '\n    })\n    text = text.replace(/\\(([^|]+|)*([^|]+)*\\)/g, (match: string, options: string, last: string) => {\n      console.log('OROR:', match, options, last)\n      return text.replace(/\\((.*)\\)/, '$1').replace(/\\|/g, ' OR ')\n    })\n    return text\n  }\n\n  async argDidFocus(arg: ArgDescriptor, event: Event) {\n    console.log('argDidFocus:', arg, event)\n    let idPanel = 'args-regex-panel-' + arg.key\n    let idRegex = 'args-regex-' + arg.key\n\n    let panel = document.getElementById(idPanel)\n    let regex = document.getElementById(idRegex)\n\n    if (!(panel instanceof HTMLElement)) { return }\n    if (!(regex instanceof HTMLElement)) { return }\n    console.log('argDidFocus:show!')\n    panel.style.display = \"flex\"\n    if (regex.style.color == \"red\") {\n      regex.style.color = \"orange\"\n    } else {\n      regex.style.color = \"\"\n    }\n\n  }\n\n  async argDidChange(arg: ArgDescriptor, event: Event) {\n    console.log('argDidChange:', arg, event)\n    let idPanel = 'args-regex-panel-' + arg.key\n    let idRegex = 'args-regex-' + arg.key\n\n    let panel = document.getElementById(idPanel)\n    let regex = document.getElementById(idRegex)\n\n    if (!(panel instanceof HTMLElement)) { return }\n    if (!(regex instanceof HTMLElement)) { return }\n\n    console.log('argDidFocus:validate')\n    let issues = this.pm.validateArg(arg)\n    if (issues !== null) {\n      regex.style.color = \"red\"\n      panel.style.display = \"flex\"\n    } else if (arg.value != arg.default) {\n      regex.style.color = \"green\"\n      panel.style.display = \"flex\"\n    } else {\n      regex.style.color = \"\"\n      panel.style.display = \"none\"\n    }\n  }\n\n  async argDidReset(arg: ArgDescriptor, event: Event) {\n    console.log('argDidReset:', arg.key, event)\n    arg.value = arg.default ?? \"\"\n    this.argDidChange(arg, event)\n  }\n\n  async validateArgs() {\n    let result = undefined;\n    if (this.selectedService) { result = this.pm.validateArgs(this.selectedService); }\n\n    return result;\n  }\n\n  //files\n\n  async fileDidChange(file: FileDescriptor, event: { originalEvent: Event, value?: string }) {\n    console.log('ProblemWidgetComponent:fileDidChange:', file.key, event)\n    let path = event.value ?? \"\"\n\n    let idDropdown = 'file-dropdown-' + file.key\n    let dropdown = document.getElementById(idDropdown)\n    if (!(dropdown instanceof HTMLElement)) { return }\n    console.log('fProblemWidgetComponent:ileDidChange:dropdown:found', dropdown)\n\n    if (path == \"\") {\n      dropdown.style.color = \"\"\n      //file.value = \"\"\n      return\n    }\n    let pathExist = await this.pms.getCurrentDriver().exists(path)\n    console.log('ProblemWidgetComponent:fileDidChange:pathExist:', pathExist)\n    if (!pathExist) {\n      dropdown.style.color = \"red\"\n      //file.value = \"\"\n    } else {\n      dropdown.style.color = \"green\"\n      //file.value = path\n    }\n  }\n\n  async fileDidReset(file: FileDescriptor, event: Event) {\n    console.log('ProblemWidgetComponent:fileDidReset:', file.key, event)\n    let idDropdown = 'file-dropdown-' + file.key\n    let dropdown = document.getElementById(idDropdown)\n    console.log('ProblemWidgetComponent:fileDidReset:', dropdown)\n    if (!(dropdown instanceof Dropdown)) { return }\n    dropdown.clear(event)\n    file.value = \"\"\n\n    this.refreshFilePathList()\n  }\n\n  //UI\n  async toggleShowRegex(arg: ArgDescriptor, event: Event) {\n    let idPanel = 'args-regex-panel-' + arg.key\n    let panel = document.getElementById(idPanel)\n    if (!(panel instanceof HTMLElement)) { return }\n    panel.style.display = panel.style.display == 'none' ? 'flex' : 'none';\n  }\n\n  async toggleRegexFormat(arg: ArgDescriptor, event: Event) {\n    let idRegex = 'args-regex-' + arg.key;\n    let regex = document.getElementById(idRegex)\n    if (!(regex instanceof HTMLElement)) { return }\n\n    if (regex.classList.contains('format-regex-simple')) {\n      regex.classList.remove('format-regex-simple')\n      regex.innerText = arg.regex + \"\"\n    } else {\n      regex.classList.add('format-regex-simple')\n      regex.innerText = this.clenupRegex(arg.regex)\n    }\n  }\n\n  async reloadProblemList() {\n    this.selectedProblem = undefined;\n    this.selectedService = undefined;\n    this.selectedArgs = undefined;\n    this.selectedFiles = undefined;\n\n    this.problemsMenu = []\n    this.servicesMenu = []\n    this.loading = true\n\n    this.pm.updateProblems()\n  }\n\n  async problemsDidChange(clear: boolean) {\n    this.problemsMenu = []\n    this.servicesMenu = []\n    this.loading = true\n\n    if (clear) return\n\n    let problemsMenu = new Array<ProblemDescriptor>(); // [...this.pm.problemList] // ez ?\n    this.pm.problemList.forEach((problemDesc) => {\n      problemsMenu.push(problemDesc)\n    })\n    problemsMenu = problemsMenu.sort((a, b) => a.name.toLowerCase() > b.name.toLowerCase() ? 1 : a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 0)\n    console.log('ProblemWidgetComponent:updateProblemsUI:problemsMenu:', problemsMenu)\n\n    this.problemsMenu = problemsMenu\n    this.loading = false\n\n    this.onProblemListChanged.emit();\n  }\n\n  //API\n  async onApiError(message: string) {\n    console.log(\"API Error: \", message)\n  }\n\n  async didSelectProblem() {\n    this.selectedService = undefined;\n    this.selectedArgs = undefined;\n    this.selectedFiles = undefined;\n\n    console.log('ProblemWidgetComponent:didSelectProblem:', this.selectedProblem)\n    if (!this.selectedProblem) { return }\n    this.pm.selectProblem(this.selectedProblem)\n\n    /*let project = this.pms.getCurrentProject();\n    project.config.TAL_PROBLEM = this.selectedProblem.getKey();\n    project.saveConfig(this.pms.getCurrentDriver());\n    */\n    this.updateServiceInfo(this.selectedProblem)\n\n    this.onProblemSelected.emit(this.selectedProblem)\n  }\n\n  updateServiceInfo(selectedProblem: ProblemDescriptor) {\n    let servicesMenu = new Array<ServiceDescriptor>();\n    selectedProblem.services.forEach((serviceDesc) => {\n      servicesMenu.push(serviceDesc)\n    })\n    this.servicesMenu = servicesMenu.sort((a, b) => a.name.toLowerCase() > b.name.toLowerCase() ? 1 : a.name.toLowerCase() < b.name.toLowerCase() ? -1 : 0)\n    console.log('ProblemWidgetComponent:didSelectProblem:servicesMenu:', this.servicesMenu)\n\n    for (let service of this.servicesMenu)\n      if (service.name == this.pms.getCurrentProject().config.TAL_SERVICE) {\n        this.selectedService = service\n        break\n      }\n  }\n\n\n  async didSelectService() {\n    console.log('ProblemWidgetComponent:didSelectService:', this.selectedService)\n    if (!this.selectedService) { return }\n    this.pm.selectService(this.selectedService)\n    this.selectedArgs = this.selectedService.args\n    this.selectedFiles = this.selectedService.files\n    console.log('ProblemWidgetComponent:didSelectService:selectedArgs:', this.selectedArgs)\n    this.onServiceSelected.emit(this.selectedService)\n\n    this.refreshFilePathList()\n  }\n\n  async apiDownloadAttachment() {\n    console.log('ProblemWidgetComponent:apiDownloadAttachment:', this.selectedProblem)\n    if (!this.selectedProblem) {\n      this.messageService.add({\n        key: 'br',\n        severity: 'error',\n        summary: 'Error',\n        detail: 'No problem selected',\n      });\n\n      return\n    }\n\n    let onAttachment = () => { console.log(\"ProblemWidgetComponent:Attachment packet received\") };\n    let onAttachmentInfo = (info: any) => { console.log('ProblemWidgetComponent:apiDownloadAttachment:info:', info) };\n\n    let onData = (data: ArrayBuffer) => {\n      console.log(\"ProblemWidgetComponent:apiDownloadAttachment:onData:\", data);\n      this.onAttachments.emit(data);\n    };\n\n    let req = this.api.GetAttachment(this.selectedProblem.name, onAttachment, onAttachmentInfo, onData);\n    req.onError = (error) => { this.onApiError(error) };\n  }\n}\n","<div class=\"tal-problem-widget\" [class.blur]=\"isBlurred\">\n  <!-- ROW:title -->\n  <!--\n  <div class=\"tal-problem-widget-args-row\">\n    <div class=\"tal-problem-widget-label\">Problem</div>\n  </div>\n  -->\n\n  <!-- API: PROBLEMS and SERVICES -->\n\n  <div class=\"tal-problem-widget-row tal-problem-widget-row-problem\">\n\n    <p-dropdown #statusDropdown [placeholder]=\"url\" class=\"tal-problem-widget-problem-selector\"\n      scrollHeight=\"50rem\"\n      panelStyleClass=\"tal-problem-widget-problem-selector-panel\" [options]=\"getServerList()\" [(ngModel)]=\"url\"\n      optionLabel=\"name\" (onChange)=\"selectServerURL()\">\n\n      <ng-template let-url pTemplate=\"item\">\n        <div class=\"url-item\">\n            <div class=\"url-item-label\">{{url}}</div>\n        </div>\n      </ng-template>\n\n    </p-dropdown>\n\n    <i #statusDot class=\"pi pi-circle-fill tal-square-button\" pTooltip=\"Status\"></i>\n\n\n</div>\n\n\n\n  <div class=\"tal-problem-widget-row tal-problem-widget-row-problem\">\n    <p-dropdown #problemDropdown placeholder=\"Select a problem\" class=\"tal-problem-widget-problem-selector\"\n      scrollHeight=\"50rem\" [overlayOptions]=\"dropdownOptions\"\n      panelStyleClass=\"tal-problem-widget-problem-selector-panel\" [options]=\"problemsMenu\" [(ngModel)]=\"selectedProblem\"\n      optionLabel=\"name\" (onChange)=\"didSelectProblem()\">\n\n      <ng-template let-option pTemplate=\"selectedItem\">\n        <div class=\"tal-problem-widget-problem-selected\">{{cleanupName(option.name)}}</div>\n      </ng-template>\n\n      <ng-template let-option pTemplate=\"item\">\n        <div class=\"tal-problem-widget-problem-item\">{{cleanupName(option.name)}}</div>\n      </ng-template>\n\n    </p-dropdown>\n\n    <button pButton class=\"p-button-danger tal-square-button\" icon=\"pi pi-refresh\" pTooltip=\"Refresh\"\n      (click)=\"reloadProblemList()\" *ngIf=\"!isLoading()\"></button>\n\n    <button pButton class=\"p-button-danger tal-square-button\" icon=\"pi pi-spin pi-spinner\" pTooltip=\"Refresh\" disabled\n      *ngIf=\"isLoading()\"></button>\n  </div>\n\n  <div class=\"tal-problem-widget-row tal-problem-widget-row-problem\">\n    <p-dropdown #serviceDropdown placeholder=\"Select a service\" class=\"tal-problem-widget-problem-selector\"\n      scrollHeight=\"50rem\" [overlayOptions]=\"dropdownOptions\"\n      panelStyleClass=\"tal-problem-widget-problem-selector-panel\" [options]=\"servicesMenu\" [(ngModel)]=\"selectedService\"\n      optionLabel=\"name\" (onChange)=\"didSelectService()\">\n\n      <ng-template let-option pTemplate=\"selectedItem\">\n        <div class=\"tal-problem-widget-problem-selected\">{{cleanupName(option.name)}}</div>\n      </ng-template>\n\n      <ng-template let-option pTemplate=\"item\">\n        <div class=\"tal-problem-widget-problem-item\">{{cleanupName(option.name)}}</div>\n      </ng-template>\n    </p-dropdown>\n\n    <button pButton class=\"p-button-help tal-square-button\" icon=\"pi pi-download\" (click)=\"apiDownloadAttachment()\"\n      pTooltip=\"Download Attachments\"></button>\n\n  </div>\n\n  <div class=\"tal-problem-widget-args-row\">\n    <p-tabView>\n      <p-tabPanel header=\"Arguments\">\n\n        <!-- ROW:title -->\n        <ng-template pTemplate=\"header\" class=\"tal-problem-widget-args-row\">\n          <div class=\"tal-problem-widget-label\">Arguments</div>\n        </ng-template>\n\n\n        <!-- API: ARGS -->\n        <div class=\"tal-problem-widget-row tal-problem-widget-args\">\n          <!-- ROW: empty -->\n          <div class=\"tal-problem-widget-args-row stretch-flex\" *ngIf=\"!selectedArgs || selectedArgs.size==0\">\n            <div class=\"tal-problem-widget-args-row-no-params\">\n              <div>No arguments found.</div>\n            </div>\n          </div>\n\n          <!-- ROW: arg -->\n          <p-scrollPanel class=\"tal-problem-widget-args-row\">\n            <div *ngFor=\"let arg of selectedArgs | keyvalue; \">\n\n              <div class=\"tal-problem-widget-args-subrow\">\n                <!-- CELL: info -->\n                <div class=\"tal-problem-widget-args-row-info\">\n                  <i #argsIcons class=\"pi pi-info-circle\" [id]=\"'args-icon-'+arg.value.key\"\n                    (click)=\"toggleShowRegex(arg.value,$event)\" style=\"cursor: pointer;\"\n                    [title]=\"arg.value.regex+''\"></i>\n                </div>\n                <!-- CELL: name -->\n                <div class=\"tal-problem-widget-args-row-name\" style=\"margin-right: 30px;\" [title]=\"arg.value.name\">\n                  {{arg.value.name}}</div>\n\n                <!-- CELL: field -->\n                <div class=\"tal-problem-widget-args-row-field\">\n                  <input pInputText class type=\"text\" class=\"p-inputtext-sm\" [(ngModel)]=\"arg.value.value\"\n                    [placeholder]=\"arg.value.default\" [title]=\"arg.value.name +': '+arg.value.regex\"\n                    (change)=\"argDidChange(arg.value,$event)\" (blur)=\"argDidChange(arg.value,$event)\"\n                    (focus)=\"argDidFocus(arg.value,$event)\">\n                </div>\n\n                <!-- CELL: reset -->\n                <div class=\"tal-problem-widget-args-row-actions\">\n                  <button pButton class=\"p-button-lg\" icon=\"pi pi-delete-left\" (click)=\"argDidReset(arg.value,$event)\"\n                    title=\"Reset to default\" pTooltip=\"Reset to default\"></button>\n                </div>\n              </div>\n              <!--class=\"tal-square-button\"-->\n\n              <!-- regex -->\n              <div class=\"tal-problem-widget-args-subrow\" [id]=\"'args-regex-panel-'+arg.value.key\"\n                style=\"display:none; cursor: pointer;\" (dblclick)=\"toggleRegexFormat(arg.value,$event)\">\n                <div class=\"tal-problem-widget-args-subrow-regexpr format-regex-simple\"\n                  [id]=\"'args-regex-'+arg.value.key\">{{this.clenupRegex(arg.value.regex)}}</div>\n              </div>\n\n            </div>\n          </p-scrollPanel>\n        </div>\n      </p-tabPanel>\n\n      <p-tabPanel header=\"Files\">\n        <!-- ROW:title -->\n        <ng-template pTemplate=\"header\" class=\"tal-problem-widget-args-row\">\n          <div class=\"tal-problem-widget-label\">Files</div><!--  -->\n        </ng-template>\n\n        <!-- API: ARGS -->\n        <p-scrollPanel class=\"tal-problem-widget-row tal-problem-widget-args\">\n          <div>\n            <!-- ROW: empty -->\n            <div class=\"tal-problem-widget-args-row stretch-flex\" *ngIf=\"!selectedFiles || selectedFiles.size==0\">\n              <div class=\"tal-problem-widget-args-row-no-params\">\n                <div>No files found.</div>\n              </div>\n            </div>\n\n\n            <!-- ROW: arg -->\n            <div class=\"tal-problem-widget-args-row\" *ngFor=\"let file of selectedFiles | keyvalue; \">\n              <div class=\"tal-problem-widget-args-subrow\">\n                <!-- CELL: info -->\n                <div class=\"tal-problem-widget-args-row-info\">\n                  <i #argsIcons class=\"pi pi-file\"></i>\n                </div>\n                <!-- CELL: name -->\n                <div class=\"tal-problem-widget-args-row-name\">{{file.value.name}}</div>\n\n                <!-- CELL: field -->\n                <div class=\"tal-problem-widget-args-row-field\">\n                  <p-dropdown placeholder=\"Select a file\" [id]=\"'file-dropdown-'+file.value.key\"\n                    (onChange)=\"fileDidChange(file.value,$event)\" [overlayOptions]=\"dropdownOptions\"\n                    styleClass=\"tal-problem-widget-files-dropdown\"\n                    panelStyleClass=\"tal-problem-widget-files-dropdown-panel\" [options]=\"filePathList\"\n                    [(ngModel)]=\"file.value.value\" [showClear]=\"true\">\n\n                    <ng-template pTemplate=\"selectedItem\" let-option>\n                      <div class=\"tal-problem-widget-files-selected\">\n                        <div>{{option}}</div>\n                      </div>\n                    </ng-template>\n\n\n                    <ng-template pTemplate=\"item\" let-option>\n                      <div class=\"tal-problem-widget-files-item\">\n                        <div>{{option}}</div>\n                      </div>\n                    </ng-template>\n\n\n                  </p-dropdown>\n                </div>\n\n                <!-- CELL: reset -->\n                <!--\n                  <div class=\"tal-problem-widget-args-row-actions\">\n                      <button pButton class=\"tal-square-button\" icon=\"pi pi-trash\"\n                              (click)=\"fileDidReset(file.value,$event)\"\n                              title=\"Reset to default\"\n                              pTooltip=\"Reset to default\"></button>\n                  </div>\n                  -->\n              </div>\n            </div>\n\n          </div>\n        </p-scrollPanel>\n      </p-tabPanel>\n    </p-tabView>\n  </div>\n</div>\n\n<p-toast position=\"bottom-right\" key=\"br\"></p-toast>\n","import { Component, EventEmitter, Output, NgZone, OnInit } from '@angular/core';\nimport { TerminalService } from 'primeng/terminal';\nimport { ArgDescriptor, ParamsMap, ProblemDescriptor, ProblemList, ProblemMap, ServiceDescriptor, ServiceMap } from '../../../services/problem-manager-service/problem-manager.types';\nimport { Commands } from 'src/app/services/api-service/api.commands';\nimport { ProjectEnvironment } from 'src/app/services/project-manager-service/project-manager.types';\nimport { FsNodeFile } from 'src/app/services/fs-service/fs.service.types';\nimport { TerminalApiService } from 'src/app/services/terminal-api-service/terminal-api.service';\nimport { Meta } from 'src/app/services/api-service/api.service';\nimport { Packets } from 'src/app/services/api-service/api.packets';\nimport { TutorialService } from 'src/app/services/tutorial-service/tutorial.service';\nimport { ProjectManagerService } from 'src/app/services/project-manager-service/project-manager.service';\n\n@Component({\n  selector: 'tal-terminal-widget',\n  templateUrl: './terminal-widget.component.html',\n  styleUrls: ['./terminal-widget.component.scss']\n})\nexport class TerminalWidgetComponent implements OnInit {\n  @Output('onAttachments') public onAttachments = new EventEmitter<ArrayBuffer>();\n  @Output('onProblemChanged') public onProblemSelected = new EventEmitter<ProblemDescriptor>();\n\n  public selectedProblem?: ProblemDescriptor\n  public selectedService?: ServiceDescriptor\n\n  public problemList = new ProblemList();\n  public problems = new ProblemMap();\n  public services = new ServiceMap();\n  public savedParams = new ParamsMap();\n  public response!: string;\n\n  public onError = new EventEmitter<any>();\n  public onProblemsChanged = new EventEmitter();\n  public onResponseComplete = new EventEmitter();\n\n  public terminalHistory: string[] = [];\n  public terminalHistoryIndex: number = -1;\n\n  public prompt: string = \"TALight>\";\n  public commandConnectState: boolean = false;\n\n\n  ////////////////////////////////////////////////////////////////////////\n\n  public binEncoder = new TextEncoder(); // always utf-8\n  public binDecoder = new TextDecoder(\"utf-8\");\n\n  public cmdConnect?: Commands.Connect;\n\n  public selectedFile?: FsNodeFile;\n  public apiRun = false\n\n  public fslistfile: FsNodeFile[] = [];\n\n  private output_files: string[] | undefined = undefined;\n  private current_output_file: string | undefined = undefined;\n\n  private problemSearch!: string;\n  private command!: string;\n  private url!: string;\n  private commandSplit!: string[];\n  private connectParams = {};\n  isBlurred: boolean = false;\n\n  ////////////////////////////////////////////////////////////////////////\n\n\n  constructor(\n    public zone: NgZone,\n    private terminalService: TerminalService,\n    public api: TerminalApiService,\n    private tutorialService: TutorialService,\n    private pms: ProjectManagerService\n  ) {\n    this.tutorialService.onTutorialChange.subscribe((tutorial) => { this.isTutorialShown(tutorial) }),\n      this.tutorialService.onTutorialClose.subscribe(() => { this.isTutorialShown() })\n  }\n\n  ngOnInit() {\n    //this.isBlurred = true;\n    this.terminalService.commandHandler.subscribe(command => {\n\n      this.onResponseComplete.subscribe({\n        next: (payload: any) => { this.terminalService.sendResponse(this.response) }\n      })\n\n      // Prepare command string to analysis\n      command = command.trim();\n      this.commandSplit = command.split(' ');\n      console.log(\"CommandSplit: \", this.commandSplit);\n\n      // When 'rtal connect' is running\n      if (this.commandConnectState) {\n        if (!this.cmdConnect) { return; }\n        this.cmdConnect.sendBinary(command + \"\\n\");\n        this.response = '';\n\n      }\n      else {\n\n        // save command in terminal history/cache\n        this.terminalHistory.push(command)\n        this.terminalHistoryIndex = this.terminalHistory.length;\n\n        if (this.commandSplit[0] === 'rtal') {\n\n          if (this.commandSplit.length == 1) {\n            this.response = this.HelpMessage();\n            this.onResponseComplete.emit();\n          } else {\n\n            switch (this.commandSplit[1]) {\n              case 'help':\n              case '--help':\n              case '-h':\n                this.response = this.HelpMessage();\n                this.onResponseComplete.emit();\n                break;\n              case '-s':\n              case '--server-url':\n\n                if (this.commandSplit.length == 2) {\n                  this.response = this.ErrorMessage02();\n                  this.onResponseComplete.emit();\n                } else {\n                  this.url = this.commandSplit[2];\n\n                  if (this.commandSplit.length == 3) {\n                    this.response = this.HelpMessage();\n                    this.onResponseComplete.emit();\n                  } else {\n\n\n                    if (this.commandSplit[3] == 'get') {\n\n                      if (this.commandSplit.length === 5) {\n                        this.problemSearch = this.commandSplit[4]\n                        this.onGetCommand();\n                      } else {\n                        this.response = this.ErrorMessage07(this.commandSplit[5]);\n                        this.onResponseComplete.emit();\n                      }\n\n\n                    } else if (this.commandSplit[3] == 'list') {\n\n                      this.command = 'list';\n                      this.getListProblems(this.url);\n\n                    }\n                    else if (this.commandSplit[3] == \"connect\") {\n\n                      this.onConnectCommand();\n\n                    } else {\n                      this.response = this.ErrorMessage03(this.commandSplit[3]);\n                      this.onResponseComplete.emit();\n                    }\n                  }\n\n                }\n                break;\n              case '-V':\n              case '--version':\n                this.response = \"rtal 0.2.5\";\n                this.onResponseComplete.emit();\n                break;\n              default:\n                this.response = this.ErrorMessage01(this.commandSplit[1]);\n                this.onResponseComplete.emit();\n            }\n          }\n        } else if (this.commandSplit[0] === 'clear' && this.commandSplit.length === 1) {\n\n          let terminalContent: HTMLElement = document.getElementsByClassName('p-terminal-content')[0] as HTMLElement;\n          let children = terminalContent.children;\n\n          setTimeout(() => {\n            let length = children.length;\n            for (let index = 0; index < length; index++) { terminalContent.removeChild(children[0]) }\n          }, 0);\n\n        }\n        else {\n          this.response = \"Unknown command: '\" + command + \"'\";\n          this.onResponseComplete.emit();\n        }\n      }\n    });\n  }\n\n  private isTutorialShown(tutorial?: any) {\n\n    console.log(\"TerminalWidgetComponent:isTutorialShown\")\n    if (typeof tutorial === 'undefined' || tutorial.componentName === this.constructor.name) {\n      this.isBlurred = false\n    }\n    else {\n      this.isBlurred = true\n    }\n  }\n\n  ngOnDestroy() { }\n\n\n  onGetCommand() {\n\n    this.apiDownloadAttachment();\n    this.response = '';\n    this.selectedProblem = new ProblemDescriptor(this.problemSearch, new Meta(''));\n    this.onProblemSelected.emit(this.selectedProblem);\n\n    this.onResponseComplete.emit();\n  }\n\n  pressedCtrlC() {\n    this.prompt = \"TALight> \";\n    this.commandConnectState = false;\n    this.cmdConnect?.sendConnectStop();\n  }\n\n  onConnectCommand() {\n\n    switch (this.api.setUrl(this.url)) {\n      case 0:\n        this.selectedService = undefined\n        this.response = \"\";\n\n        this.selectedService = new ServiceDescriptor('', new Packets.Service(''), new ProblemDescriptor('', new Meta('')))\n\n        let condition = (sub: string) => sub == '-a';\n        let isPresentArg = this.commandSplit.findIndex(condition)\n\n        if (isPresentArg != -1) {\n\n          let problem;\n          let service;\n\n          if (isPresentArg === 4) { problem = this.commandSplit[this.commandSplit.length - 2]; service = this.commandSplit[this.commandSplit.length - 1] }\n          else if (isPresentArg === 5) { problem = this.commandSplit[4]; service = this.commandSplit[this.commandSplit.length - 1] }\n          else if (isPresentArg === 6) { problem = this.commandSplit[4]; service = this.commandSplit[5] }\n          else {\n            this.response = \"Syntax Error\"\n            this.onResponseComplete.emit();\n            break;\n          }\n\n          let params = new Map<string, string>();\n\n          // rtal connect -a param1=value -a param2=value\n          for (let index = isPresentArg; index < this.commandSplit.length; index++) {\n\n            if (this.commandSplit[index] === '-a' && index < this.commandSplit.length - 1) {\n              index = index + 1;\n\n              if (this.commandSplit[index].includes('=')) {\n                let paramAssignment = this.commandSplit[index].split('=');\n                if (paramAssignment.length === 2) {\n                  params.set(paramAssignment[0], paramAssignment[1])\n                }\n              }\n            } else {\n              this.response = this.ErrorMessage08();\n              this.onResponseComplete.emit();\n              return;\n            }\n\n          }\n\n          if (problem != undefined && service != undefined) {\n            this.selectedService.parent.name = problem;\n            this.selectedService.name = service;\n            this.connectParams = Object.fromEntries(params);\n          }\n\n        } else {\n\n          this.selectedService.parent.name = this.commandSplit[4];\n          this.selectedService.name = this.commandSplit[5];\n          this.connectParams = {};\n\n        }\n\n        this.prompt = \"\";\n        this.runConnectAPI();\n        break;\n\n      case -1:\n        this.response = this.ErrorMessage04();\n        this.onResponseComplete.emit();\n        break;\n\n      case -2:\n        this.response = this.ErrorMessage05();\n        this.onResponseComplete.emit();\n        break;\n\n    }\n    this.onResponseComplete.emit();\n  }\n\n\n  public async apiDownloadAttachment() {\n    switch (this.api.setUrl(this.url)) {\n      case 0:\n        let onAttachment = () => { console.log(\"Attachment packet received\") };\n        let onAttachmentInfo = (info: any) => { console.log('apiDownloadAttachment:info:', info) };\n\n        let onData = (data: ArrayBuffer) => {\n          console.log(\"apiDownloadAttachment:onData:\", data);\n          this.onAttachments.emit(data);\n        };\n\n        let req = this.api.GetAttachment(this.problemSearch, onAttachment, onAttachmentInfo, onData);\n        req.onError = (error) => {\n          this.response = \"ERROR Cannot download attachment: Problem '\" + this.problemSearch + \"' does not exists\"\n          this.onResponseComplete.emit();\n        };\n        break;\n\n      case -1:\n        this.response = this.ErrorMessage04();\n        this.onResponseComplete.emit();\n        break;\n\n      case -2:\n        this.response = this.ErrorMessage05();\n        this.onResponseComplete.emit();\n        break;\n    }\n\n  }\n\n  public async getListProblems(url: string) {\n    this.selectedProblem = undefined;\n    this.selectedService = undefined;\n    this.problemList = [];\n    this.problems.clear();\n    this.services.clear();\n\n    switch (this.api.setUrl(url)) {\n      case 0:\n        let req = this.api.problemList((problemMap) => {\n\n          console.log('apiProblemList:problemList:', problemMap)\n          problemMap.forEach((problem, name) => {\n            let problemDesc = new ProblemDescriptor(name, problem)\n            this.problemList.push(problemDesc)\n            this.problems.set(problemDesc.key, problemDesc);\n            problemDesc.services.forEach((serviceDesc) => {\n              this.services.set(serviceDesc.key, serviceDesc)\n            })\n          })\n\n          this.onListCommand();\n        });\n\n\n        req.onError = (error) => {\n          this.response = \"ERROR: Cannot connect to '\" + this.url + \"'\";\n          this.onResponseComplete.emit();\n        };\n\n        break;\n      case -1:\n        this.response = this.ErrorMessage04();\n        this.onResponseComplete.emit();\n\n        break;\n      case -2:\n        this.response = this.ErrorMessage05();\n        this.onResponseComplete.emit();\n\n        break;\n    }\n  }\n\n\n  onListCommand() {\n\n    if (this.commandSplit.length == 4) {\n\n      // eg. rtal -s <server-url> list\n      this.problemList.sort((a, b) => a.name.localeCompare(b.name));\n\n      this.response = \"\";\n      this.problemList.forEach(problem => this.response += \"- \" + problem.name + \"\\n\")\n\n    }\n    else if (this.commandSplit.length == 5) {\n\n      if (this.commandSplit[4] == '-v' || this.commandSplit[4] == '--verbose') {\n\n        // eg. rtal -s <server-url> list -v\n\n        this.problemList.sort((a, b) => a.name.localeCompare(b.name));\n\n        this.response = \"\";\n\n        this.problemList.forEach(problem => {\n          this.response += \"- \" + problem.name + \"\\n\";\n\n          var ArrayService: ServiceDescriptor[] = [];\n          problem.services.forEach(service => ArrayService.push(service))\n\n          ArrayService.sort((a, b) => a.name.localeCompare(b.name));\n\n          ArrayService.forEach(service => {\n            this.response += \"  * \" + service.name + \"\\n\";\n\n            var ArrayArg: ArgDescriptor[] = [];\n            service.args.forEach(arg => ArrayArg.push(arg))\n\n            ArrayArg.sort((a, b) => a.name.localeCompare(b.name));\n\n            ArrayArg.forEach(arg => {\n              this.response += \"    # \" + arg.name + \" [\" + arg.default + \"]\\n\";\n            })\n\n            service.files.forEach(file => {\n              this.response += \"    \\u{00A7} \" + file.name + \"\\n\";\n            })\n          })\n        })\n\n      } else {\n\n        // eg. rtal -s <server-url> list problem_name\n\n        this.problemList.sort((a, b) => a.name.localeCompare(b.name));\n\n        this.response = \"\";\n\n        let condition = (problem: any) => problem.name == this.commandSplit[4];\n        let problemFound = this.problemList.find(condition);\n\n        if (problemFound != undefined) {\n\n          var ArrayService: ServiceDescriptor[] = [];\n          problemFound.services.forEach(service => ArrayService.push(service))\n\n          ArrayService.sort((a, b) => a.name.localeCompare(b.name));\n\n          ArrayService.forEach(service => {\n            this.response += \"  * \" + service.name + \"\\n\";\n\n            var ArrayArg: ArgDescriptor[] = [];\n            service.args.forEach(arg => ArrayArg.push(arg))\n\n            ArrayArg.sort((a, b) => a.name.localeCompare(b.name));\n\n            ArrayArg.forEach(arg => {\n              this.response += \"    # \" + arg.name + \" [\" + arg.default + \"]\\n\";\n            })\n\n            service.files.forEach(file => {\n              this.response += \"    \\u{00A7} \" + file.name + \"\\n\";\n            })\n          })\n\n        } else {\n          this.response = \"ERROR: Problem '\" + this.commandSplit[4] + \"' does not exists\\n\";\n        }\n\n      }\n\n    }\n    else if (this.commandSplit.length == 6) {\n\n      this.response = \"\";\n\n      let condition = undefined;\n\n      if (this.commandSplit[4] == '-v' || this.commandSplit[4] == '--verbose') { condition = (problem: any) => problem.name == this.commandSplit[5]; }\n      if (this.commandSplit[5] == '-v' || this.commandSplit[5] == '--verbose') { condition = (problem: any) => problem.name == this.commandSplit[4]; }\n\n      if (condition != undefined) {\n        let problemFound = this.problemList.find(condition);\n\n        if (problemFound != undefined) {\n          // eg. rtal -s <server-url> list -v problem_name OR rtal -s <server-url> list problem_name -v\n\n          var ArrayService: ServiceDescriptor[] = [];\n          problemFound.services.forEach(service => ArrayService.push(service))\n\n          ArrayService.sort((a, b) => a.name.localeCompare(b.name));\n\n          ArrayService.forEach(service => {\n            this.response += \"  * \" + service.name + \"\\n\";\n\n            var ArrayArg: ArgDescriptor[] = [];\n            service.args.forEach(arg => ArrayArg.push(arg))\n\n            ArrayArg.sort((a, b) => a.name.localeCompare(b.name));\n\n            ArrayArg.forEach(arg => {\n              this.response += \"    # \" + arg.name + \" [\" + arg.default + \"] \" + arg.regex + \"\\n\";\n            })\n\n            service.files.forEach(file => {\n              this.response += \"    \\u{00A7} \" + file.name + \"\\n\";\n            })\n          })\n        }\n        else {\n          this.response = \"ERROR: Problem '\" + this.commandSplit[4] + \"' does not exists\\n\";\n        }\n      }\n      else {\n\n        if (this.commandSplit[4].startsWith('-')) { this.response = this.ErrorMessage01(this.commandSplit[4]) }\n        else if (this.commandSplit[5].startsWith('-')) { this.response = this.ErrorMessage01(this.commandSplit[5]) }\n        else { this.response = this.ErrorMessage06(this.commandSplit[5]) }\n\n      }\n\n    } else {\n      this.response = this.ErrorMessage06(this.commandSplit[6]);\n    }\n\n    this.onResponseComplete.emit();\n  }\n\n  ErrorMessage01(option: string): string {\n\n    var res =\n      \"ERROR: Found argument '\" + option + \"' which wasn't expected, or isn't valid in this context\" +\n      \"\\n\\n\\tIf you tried to supply '\" + option + \"' as a value rather than a flag, use '-- \" + option + \"'\" +\n      \"\\n\\n USAGE: \\n \\trtal [OPTIONS] <SUBCOMMAND> \\n\\n For more information try --help\";\n\n    return res;\n  }\n\n  ErrorMessage02(): string {\n\n    var res =\n      \"ERROR: The argument '--server-url <SERVER_URL>' requires a value but none was supplied\" +\n      \"\\n\\nFor more information try --help\";\n\n    return res;\n  }\n\n  ErrorMessage03(subcommand: string): string {\n\n    var res =\n      \"ERROR: The subcommand '\" + subcommand + \"' wasn't recognized\" +\n      \"\\n\\n USAGE: \\n \\trtal [OPTIONS] <SUBCOMMAND> \\n\\n For more information try --help\";\n\n    return res;\n  }\n\n  ErrorMessage04(): string {\n\n    var res =\n      \"ERROR: Cannot connect to '\" + this.url + \"': HTTP format error: invalid format\";\n\n    return res;\n  }\n\n\n  ErrorMessage05(): string {\n\n    var res =\n      \"ERROR: Cannot connect to '\" + this.url + \"': URL error: URL scheme not supported\";\n\n    return res;\n  }\n\n  ErrorMessage06(argument: string): string {\n\n    var res =\n      \"ERROR: Found argument '\" + argument + \"' which wasn't expected, or isn't valid in this context\" +\n      \"\\n\\n USAGE: \\n \\trtal list [OPTIONS] <SUBCOMMAND> \\n\\n For more information try --help\";\n\n    return res;\n  }\n\n  ErrorMessage07(argument: string): string {\n\n    var res =\n      \"ERROR: Found argument '\" + argument + \"' which wasn't expected, or isn't valid in this context\" +\n      \"\\n\\n USAGE: \\n \\trtal get [OPTIONS] <PROBLEM> \\n\\n For more information try --help\";\n\n    return res;\n  }\n\n  ErrorMessage08(): string {\n\n    var res =\n      \"ERROR: The argument '--service-arg <SERVICE_ARG>' requires a value but none was supplied\" +\n      \"\\n\\n For more information try --help\";\n\n    return res;\n  }\n\n  HelpMessage(): string {\n\n    var res =\n      \"rtal 0.2.5\" +\n      \"\\n\\nUSAGE:\\n\\trtal [OPTIONS] <SUBCOMMAND>\" +\n      \"\\n\\nOPTIONS:\" +\n      \"\\n\\t-h, --help\\t\\t\\tPrint help information\" +\n      \"\\n\\t-s, --server-url <SERVER_URL>\\tServer URL [default ws://127.0.0.1:8008/]\" +\n      \"\\n\\t-V, --version\\t\\t\\tPrint version information\" +\n      \"\\n\\nSUBCOMMANDS:\" +\n      \"\\n\\tconnect\\tConnect to problem evaluator\" +\n      \"\\n\\tget\\tDownload problem attachments\" +\n      \"\\n\\thelp\\tPrint this message or the help of the given subcommand(s)\" +\n      \"\\n\\tlist\\tList available problems\";\n    return res;\n  }\n\n\n  UndoHistory() {\n\n    if (this.terminalHistory.length > 0) {\n      if (this.terminalHistoryIndex == -1) {\n        this.terminalHistoryIndex = this.terminalHistory.length - 1;\n      }\n      else {\n        if (this.terminalHistoryIndex >= 1) {\n          this.terminalHistoryIndex -= 1;\n        }\n      }\n\n      var my_obj = document.querySelectorAll('.p-terminal-input')[0] as HTMLInputElement;\n      my_obj.value = this.terminalHistory[this.terminalHistoryIndex];\n\n      var event = document.createEvent('Event');\n      event.initEvent('input', true, true);\n      my_obj.dispatchEvent(event);\n    }\n  }\n\n\n  RedoHistory() {\n\n    if (this.terminalHistory.length > 0) {\n\n      var my_obj = document.querySelectorAll('.p-terminal-input')[0] as HTMLInputElement;\n\n      if (this.terminalHistoryIndex == -1) { return }\n      else {\n        if (this.terminalHistoryIndex < this.terminalHistory.length - 1) {\n          this.terminalHistoryIndex += 1;\n          my_obj.value = this.terminalHistory[this.terminalHistoryIndex];\n        }\n        else {\n          my_obj.value = \"\";\n        }\n      }\n\n      var event = document.createEvent('Event');\n      event.initEvent('input', true, true);\n      my_obj.dispatchEvent(event);\n    }\n  }\n\n\n  public async runConnectAPI() {\n    this.apiRun = true\n    await this.apiConnect()\n    this.apiRun = false\n  }\n\n  async apiConnectReset() {\n    this.current_output_file = undefined;\n    this.cmdConnect = undefined;\n\n    console.log(\"apiConnect:didConnectData:cmdConnect:\", this.cmdConnect);\n  }\n\n\n  async apiConnect() {\n    console.log(\"apiConnect\")\n\n    if (!this.selectedService) { return false }\n\n    console.log(\"apiConnect:service:ok\")\n\n    let projectConfig = this.pms.getCurrentProject().config;\n\n    //Open Connection\n    let problem = this.selectedService.parent.name;\n    let service = this.selectedService.name;\n    let args = this.connectParams;\n    let tty = false //true: bash code coloring, backspaces, etc\n    let token = (projectConfig.TAL_TOKEN && projectConfig.TAL_TOKEN != \"\" ? projectConfig.TAL_TOKEN : undefined)\n    let files = new Map<string, string>();\n\n    console.log(\"apiConnect:params:problem\", problem)\n    console.log(\"apiConnect:params:service\", service)\n    console.log(\"apiConnect:params:args\", args)\n    console.log(\"apiConnect:params:tty\", tty)\n    console.log(\"apiConnect:params:token\", token)\n    console.log(\"apiConnect:params:files\", files)\n\n    let onConnectionStart = () => { this.didConnectStart() };\n    let onConnectionBegin = (msg: string[]) => { this.didConnectBegin(msg) };\n    let onConnectionClose = (msg: string[]) => { this.didConnectClose(msg) };\n    let onData = (data: string) => { this.didConnectData(data) };\n    let onBinaryHeader = (msg: any) => { this.didRecieveBinaryHeader(msg) };\n    let onError = (msg: any) => { this.didError(msg) };\n\n    this.cmdConnect = await this.api.Connect(\n      problem,\n      service,\n      args,\n      tty,\n      token,\n      files,\n      onConnectionBegin,\n      onConnectionStart,\n      onConnectionClose,\n      onData,\n      onBinaryHeader,\n      onError\n    );\n    console.log(\"apiConnect:DONE\")\n\n    return true\n  }\n\n  async didError(msg: string) {\n    this.cmdConnect = undefined\n\n    this.pms.getCurrentDriver().stopExecution()\n\n    this.prompt = \"TALight> \";\n    this.commandConnectState = false;\n\n    this.response = \"ERROR: \" + msg;\n    this.onResponseComplete.emit();\n  }\n\n  async didConnectStart() {\n    console.log(\"apiConnect:didConnectStart\")\n  }\n\n  async didConnectBegin(message: string[]) {\n    console.log(\"apiConnect:didConnectBegin:\", message)\n  }\n\n  async didConnectClose(message: string[]) {\n    console.log(\"apiConnect:didConnectionClose:\", message)\n\n    if (message && message.length > 0 && message[0] !== \"\") {\n      this.output_files = message;\n    }\n    else {\n      this.apiConnectReset();\n      console.log(\"apiConnect:didConnectClose:cmdConnect:\", this.cmdConnect);\n    }\n\n    this.prompt = \"TALight> \";\n    this.commandConnectState = false;\n  }\n\n  async didConnectData(data: string) {\n    console.log(\"apiConnect:didConnectData:\", data)\n\n    if (this.output_files && this.current_output_file) {\n\n      if (this.current_output_file) {\n        this.pms.getCurrentDriver().writeFile(\"/\" + this.current_output_file, data)\n      };\n      if (this.current_output_file === this.output_files[this.output_files.length - 1]) {\n        this.apiConnectReset();\n      }\n      console.log(\"apiConnect:didConnectData:cmdConnect:\", this.cmdConnect);\n\n      this.response = \"RESULTS:\\n\\n\" + data;\n      this.onResponseComplete.emit();\n    }\n    else {\n      this.sendStdin(data, true);\n    }\n  }\n\n  async didRecieveBinaryHeader(message: any) {\n    console.log(\"apiConnect:didRecieveBinaryHeader:\", message)\n\n    this.current_output_file = message.name;\n    if (this.current_output_file) {\n      this.pms.getCurrentDriver().writeFile(\"/\" + this.current_output_file, \"\")\n    };\n  }\n\n  public sendStdin(msg: string, fromAPI = false) {\n    console.log(\"sendStdin:\")\n\n    this.response += msg;\n    this.onResponseComplete.emit();\n    this.commandConnectState = true;\n  }\n\n}\n","<div [class.blur]=\"isBlurred\">\n    <p style=\"font-size: large;\"><strong> Playground mode</strong> allows you to interact directly with the server</p>\n    <br>\n    <div spellcheck=\"false\">\n        <p-terminal (keyup.control.C)=\"pressedCtrlC()\" (keyup.arrowup)=\"UndoHistory()\" (keyup.arrowdown)=\"RedoHistory()\" ngDefaultControl [(ngModel)]=\"response\" styleClass=\"dark-panel\" welcomeMessage=\"TALight Terminal [Version 1.0]\"  [prompt]=\"prompt\">\n        </p-terminal>\n    </div>\n</div>","import { Component, ElementRef, NgZone, OnInit, ViewChild, HostListener } from '@angular/core';\nimport { NotificationManagerService, NotificationMessage, NotificationType } from 'src/app/services/notification-mananger-service/notification-manager.service';\nimport { ProblemManagerService } from 'src/app/services/problem-manager-service/problem-manager.service';\nimport { AppTheme, ThemeService } from 'src/app/services/theme-service/theme.service';\nimport { ProjectConfig } from 'src/app/services/project-manager-service/project-manager.types';\nimport { TutorialService } from 'src/app/services/tutorial-service/tutorial.service';\nimport { MenuItem } from 'primeng/api';\nimport { FsService } from 'src/app/services/fs-service/fs.service';\nimport { ConfigService } from 'src/app/services/config-service/config.service';\nimport { ProjectManagerService } from 'src/app/services/project-manager-service/project-manager.service';\n\n@Component({\n  selector: 'tal-topbar-widget',\n  templateUrl: './topbar-widget.component.html',\n  styleUrls: ['./topbar-widget.component.scss']\n})\nexport class TopbarWidgetComponent implements OnInit {\n  @ViewChild(\"statusDot\") public statusDot?: ElementRef;\n  @ViewChild(\"messageBox\") public messageBox?: ElementRef;\n\n  disableDelete: boolean = false;\n  items!: MenuItem[];\n  activeItem: any = undefined;\n\n  urlInputClass = \"\"\n\n  subOnNotify\n  currentNotification?: NotificationMessage\n  isBlurred: boolean = false;\n  isTutorialButtonVisible: boolean = false;\n  scrollable_prop = false;\n  disabilita_bottone = false;\n\n  larghezzaFinestra: number | undefined;\n\n  constructor( public readonly themeService: ThemeService,\n               public zone: NgZone,\n               public pm: ProblemManagerService,\n               public nm: NotificationManagerService,\n               private fsService: FsService,\n               private configService: ConfigService,\n               private tutorialService: TutorialService,\n               public pms: ProjectManagerService,\n             )\n  {\n    // prendi le dimensioni della finestra\n    this.getDimensions();\n\n    this.subOnNotify = this.nm.onNotification.subscribe((msg:NotificationMessage): void=>{this.showNotification(msg)})\n\n    this.pms.projectManagerServiceListChanged.subscribe(() => {\n      this.setTabsNumber();\n    })\n\n    this.pms.currentProjectChanged.subscribe(() => {\n      let id = this.pms.getCurrentProjectId()\n      console.log(\"TopbarWidgetComponent:setCurrentTab:id:\", id)\n      this.activeItem = this.items[id]\n    });\n\n    // roba per il tutorial\n    this.tutorialService.onTutorialChange.subscribe((tutorial) => { this.isTutorialShown(tutorial) }),\n    this.tutorialService.onTutorialClose.subscribe(() => { this.isTutorialShown() })\n  }\n\n  //Old ngOnInit\n  ngOnInit(): void {\n    // all'inizio deve essere blurrato per via del tutorial\n    this.isBlurred = true;\n  }\n\n  // calcola la lunghezza delle tab\n  totalTabsCalc():number{\n    return this.getDimensions()-this.pms.getProjectsId().length*101;\n  }\n\n  // aggiorna le dimensioni della finestra quando viene ridimensionata in modo da gestire lo scrollable per via delle tabs\n  @HostListener('window:resize', ['$event'])\n  onResize() {\n    this.getDimensions();\n    //se le tab sono piú larghe della dimensione della finestra-400-18.58, allora attiva lo scrollable.\n    this.totalTabsCalc()<=0? this.scrollable_prop=true : this.scrollable_prop=false;\n  }\n\n  // semplice funzione per il calcolo della larghezza della finestra per vedere quante tab ci stanno\n  getDimensions(): number {\n    this.larghezzaFinestra = window.innerWidth;\n    console.log('Larghezza finestra:', this.larghezzaFinestra-400-18.58);\n    return this.larghezzaFinestra-400-18.58;\n  }\n\n  showTutorial() {\n    localStorage.setItem(\"tutorialCached\", \"false\")\n    this.tutorialService.nextTutorial(-1)\n  }\n\n  // cambia l'icona del bottone per cambiare il tema\n  public get changeThemIcon(): string {\n    return this.themeService.currentTheme == AppTheme.dark ? 'pi-sun' : 'pi-moon';\n  }\n\n  // switcha il tema\n  public toggleTheme() {\n    this.themeService.toggleTheme();\n  }\n\n  // controlla se mostrare questa parte oppure tenerla blurrata\n  private isTutorialShown(tutorial?: any) {\n    console.log(\"TopbarWidgetComponent:isTutorialShown\")\n    if (typeof tutorial === 'undefined' || tutorial.componentName === this.constructor.name) {\n      this.isBlurred = false\n    }\n    else {\n      this.isBlurred = true\n    }\n    // Se la card è già stata mostrata oppure sta venendo mostrata, non mostrare il pulsante..\n    if (typeof tutorial !== 'undefined' && localStorage.getItem(\"tutorialCached\") !== \"true\") {\n      this.isTutorialButtonVisible = false;\n    }\n    //..altrimenti mostralo\n    else {\n      this.isTutorialButtonVisible = true;\n    }\n  }\n\n  public iconForNotification() {\n    let icon = \"pi-info\"\n    switch (this.currentNotification?.type) {\n      default:\n      case NotificationType.System:\n      case NotificationType.Debug:\n      case NotificationType.Info:\n        icon = \"pi-info\"\n        break;\n      case NotificationType.Warning:\n      case NotificationType.Error:\n        icon = \"pi-error\"\n    }\n    return icon\n  }\n\n  showNotification(msg: NotificationMessage, timeout = 3) {\n    let box = this.messageBox?.nativeElement as HTMLElement\n    box.style.display = \"flex\"\n    this.currentNotification = msg\n    setTimeout(() => { this.hideNotification() }, timeout * 1000)\n  }\n\n  hideNotification() {\n    let box = this.messageBox?.nativeElement as HTMLElement\n    box.style.display = \"none\"\n    this.currentNotification = undefined\n  }\n\n  // imposta il numero della tab appena creata e crea una nuova tab\n  setTabsNumber(){\n    let tmp : MenuItem[] = [];\n    let projectName, ids = this.pms.getProjectsId()\n\n    console.log(\"TopbarWidgetComponent:setTabs:ids:\", ids)\n\n    for (let i = 0; i < ids.length; i++){\n      projectName = ProjectConfig.defaultConfig.PROJECT_NAME + ' ' + i; //default name\n\n      tmp.push({ label: projectName , icon: 'pi pi-fw pi-times' , id : i.toString()})\n    }\n\n    this.items = tmp\n    this.disableDelete = (ids.length <= 1)\n  }\n\n  // aggiungi un progetto controllando ed in caso le schede fossero troppe, attiva lo scrollable\n  addProject() {\n    this.pms.addProject()\n    this.disabilita_bottone = true;\n\n    this.pms.currentProjectChanged.subscribe(() => this.disabilita_bottone = false )\n\n    this.totalTabsCalc()<=0? this.scrollable_prop=true : this.scrollable_prop=false;\n  }\n\n  // Set current tab of an exsisting project\n  setCurrentTab(item : any) {\n    this.pms.setCurrent(parseInt(item.id))\n    this.activeItem = item;\n  }\n}\n","<div class=\"tal-topbar\" [class.blur]=\"isBlurred\">\n  <div>\n    <button [disabled]=\"disabilita_bottone\" type=\"button\" class=\"tal-square-button\" icon=\"pi pi-plus\" pButton pRipple pTooltip=\"Aggiungi una scheda\" (click)=\"addProject()\" styleClass=\"addTabButton\"></button>\n    <p-tabMenu [scrollable]=\"scrollable_prop\" [model]=\"items\" [activeItem]=\"activeItem\" styleClass=\"tabMenu\" >\n        <ng-template pTemplate=\"item\" let-item >\n          <div (click)=\"setCurrentTab(item)\" class=\"tab\">\n              {{ item.label }}\n              <!-- Ho sostituito il [disabled]=\"disableDelete\" con l'hidden-->\n              <!-- <button class=\"buttonClose\" type=\"button\" pButton pRipple icon=\"pi pi-times\" (click)=\"deleteProject(item.id)\" *ngIf=\"!disableDelete\"> </button> -->\n            </div>\n          </ng-template>\n    </p-tabMenu>\n  </div>\n\n    <div class=\"tal-message-box\">\n        <div #messageBox *ngIf=\"!!currentNotification\" class=\"tal-message-box-main tal-message-box-{{currentNotification.type}}\" >\n            <div class=\"tal-message-col\">\n                <i class=\"pi {{iconForNotification()}} tal-message-row tal-message-row-icon\"></i>\n            </div>\n            <div class=\"tal-message-col\">\n                <div class=\"tal-message-row tal-message-row-title\">{{currentNotification.title}}</div>\n                <div class=\"tal-message-row tal-message-row-message\">{{currentNotification.message}}</div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"tal-bar-url\">\n\n\n\n        <button pButton icon=\"pi {{changeThemIcon}}\" class=\"tal-square-button\" pTooltip=\"Change theme\" (click)=\"toggleTheme()\"></button>\n    </div>\n    <div class='tutorial'>\n      <button pButton pTooltip=\"Mostra il tutorial\" (click)=\"showTutorial()\" class=\"tal-square-button\" icon=\"pi pi-question-circle\" *ngIf=isTutorialButtonVisible></button>\n    </div>\n</div>\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TopbarWidgetComponent } from './topbar-widget/topbar-widget.component';\n\nimport { AutoCompleteModule } from 'primeng/autocomplete';\nimport { InputTextModule } from 'primeng/inputtext';\nimport { TooltipModule } from 'primeng/tooltip';\nimport { ButtonModule } from 'primeng/button';\nimport { FormsModule } from '@angular/forms';\nimport { TabViewModule } from 'primeng/tabview';\nimport { TabMenuModule } from 'primeng/tabmenu';\n\n@NgModule({\n  declarations: [\n    TopbarWidgetComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    AutoCompleteModule,\n    InputTextModule,\n    TooltipModule,\n    ButtonModule,\n    TabViewModule,\n    TabMenuModule\n  ],exports:[\n    TopbarWidgetComponent\n  ]\n})\nexport class TopbarModule { }\n","import { AfterViewInit, Component, ElementRef, OnChanges, OnInit, Renderer2, SimpleChanges, ViewChild } from '@angular/core';\nimport { TutorialService } from 'src/app/services/tutorial-service/tutorial.service';\n@Component({\n  selector: 'tal-tutorial',\n  templateUrl: './tutorial.component.html',\n  styleUrls: ['./tutorial.component.scss'],\n})\n\nexport class TutorialComponent implements AfterViewInit {\n  isVisible: boolean = false;\n  indexCurrentTutorial: number = -1\n  tutorialText = \"\";\n  backButtonDisabled = true;\n  testo = \"Avanti\"\n  theme = \"light\"\n\n\n  constructor(private tutorialService: TutorialService,) {\n    this.tutorialService.onTutorialChange.subscribe((tutorial) => { this.showTutorial(tutorial) })\n    this.tutorialService.onTutorialClose.subscribe(() => { this.closeTutorial() })\n    this.tutorialService.onIndexTutorialChange.subscribe((indexCurrentTutorials) => { this.setIndex(indexCurrentTutorials) })\n  }\n  // É sporca ma l'abbiamo fatto cosí perché é piú facile da capire, meno dispendioso in termini di tempo e risorse\n  // e non abbiamo bisogno di un componente in piú\n  ngAfterViewInit() {\n    setTimeout(() => {\n      if (this.tutorialService.getCachedTutorial() === \"true\") {\n        console.log(\"Tutorial già completato\")\n        this.closeTutorialButton()\n      }\n      else {\n        console.log(\"Tutorial non ancora completato\")\n        // this.isTutorialCompleted()\n        this.tutorialService.nextTutorial(this.indexCurrentTutorial)  //ÑON BLURRA GLI ALTRI COMPONENTI\n      }\n    }, 1);\n  }\n\n  public setIndex(indexCurrentTutorials: number) {\n    console.log(\"TutorialComponent:setIndex\")\n    this.indexCurrentTutorial = indexCurrentTutorials\n  }\n\n  public nextTutorialButton() {\n    console.log(\"TutorialComponent:nextTutorialButton\")\n    if (this.indexCurrentTutorial < this.tutorialService.getSizeTutorial() - 1) {\n      this.tutorialService.nextTutorial(this.indexCurrentTutorial)\n    }\n    else {\n      this.tutorialService.closeTutorial()\n    }\n  }\n\n  public prevTutorialButton() {\n    console.log(\"TutorialComponent:previousTutorialButton\")\n    this.tutorialService.previousTutorial(this.indexCurrentTutorial)\n    if (this.indexCurrentTutorial === 0) {\n      this.backButtonDisabled = true\n    }\n  }\n\n  public closeTutorialButton() {\n    console.log(\"TutorialComponent:closeTutorialButton\")\n    this.tutorialService.closeTutorial()\n  }\n\n  public showTutorial(tutorial: any) {\n    console.log(\"TutorialComponent:showTutorial\")\n\n    if (tutorial.componentName === \"Begin\") {\n      this.testo = \"Avanti\"\n      this.backButtonDisabled = true\n    }\n    else if (tutorial.componentName === \"End\") {\n      this.testo = \"Fine\"\n    }\n    else {\n      this.testo = \"Avanti\"\n      this.backButtonDisabled = false;\n    }\n\n    this.tutorialText = tutorial.text\n    this.isVisible = true\n  }\n\n  public closeTutorial() {\n    console.log(\"TutorialComponent:closeTutorial\")\n    this.isVisible = false\n  }\n}\n\n","<div class=\"tutorial_card\" [ngStyle]=\"{'display': isVisible ? 'grid' : 'none' }\">\n  <div>\n    <p-button icon=\"pi pi-times\" class=\"close\" styleClass=\"p-button-text\" (onClick)=\"closeTutorialButton()\"></p-button>\n  </div>\n  <div class=\"text\">\n    <p>{{tutorialText}}</p>\n  </div>\n  <div class=\"alignButtons\" >\n    <p-button class=\"buttons\" (onClick)=\"nextTutorialButton()\" [ngStyle]=\"{'margin-right':'8px'}\" label={{testo}}> </p-button>\n    <p-button class=\"buttons\" (onClick)=\"prevTutorialButton()\" [disabled]=\"backButtonDisabled\" label=\"Indietro\"></p-button>\n  </div>\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","/* (ignored) */"],"names":["TALightSocket","Packets","sha256","JSONbig","require","Commands","Command","constructor","url","decodeBinary","debug","tal","decode","onError","error","didError","onClose","didClose","onRecive","payload","didRecive","onReciveBinary","didReciveBinary","onReciveUndecodedBinary","didReciveUndecodedBinary","run","msg","Request","Handshake","send","sendBinary","data","log","args","prefix","name","console","alert","join","_this","_asyncToGenerator","message","getMessage","Reply","didReciveHandshake","onReciveHandshake","ProblemList","handshake","MetaList","_superprop_getDidRecive","_this2","call","getMessage_MetaList","didReciveProblemList","onRecieveProblemList","Attchment","problem_name","Attachment","_superprop_getDidRecive2","_this3","didRecieveAttachment","BinaryDataHeader","didRecieveAttachmentInfo","onReciveAttachment","onReciveAttachmentInfo","Connect","service","tty","token","files","Map","fileArgNames","keys","ConnectBegin","_superprop_getDidRecive3","_this4","didRecieveConnectBegin","size","status","Ok","length","byteSize","str","Blob","nameArgFile","content","entries","hashHex","fromHexString","hash","hash_list","i","forEach","elem","parseInt","toString","header","ConnectStart","didRecieveConnectStart","ConnectStop","didRecieveConnectStop","didRecieveBinaryHeader","onReciveConnectBegin","onReciveConnectStart","onReciveConnectStop","isOpen","sendConnectStop","onReciveBinaryHeader","CloseConnection","_superprop_getDidRecive4","_this5","didReciveConnectStop","hexString","Uint8Array","from","match","map","byte","CompilerMessageType","FsNodeEmptyFolder","EventEmitter","ProjectManagerService","CompilerDriver","worker","eventsSubscribed","onWorkerReady","isWorkerReady","fsRoot","root","projectsFolder","mountPoint","onMountChanged","onUnmountChanged","requestIndex","binEncoder","TextEncoder","binDecoder","TextDecoder","driverName","onmessage","event","didRecieve","addEventListener","response","requestHandler","get","uid","removeRequest","msgSent","request","msgRecived","resolvePromise","type","Ready","didReceiveReady","InstallPackages","didReceiveInstallPackages","ExecuteCode","didReceiveExecuteCode","ExecuteFile","didReceiveExecuteFile","StopExecution","didReceiveStopExecution","SubscribeNotify","didReceiveSubscribeNotify","SubscribeState","didReceiveSubscribeState","SubscribeStdout","didReceiveSubscribeStdout","SubscribeStderr","didReceiveSubscribeStderr","SendStdin","didReceiveSendStdin","Mount","didReceiveMount","Unmount","didReceiveUnmount","CreateDirectory","didReceiveCreateDirectory","ReadDirectory","didReceiveReadDirectory","ScanDirectory","didReceiveScanDirectory","WriteFile","didReceiveWriteFile","ReadFile","didReceiveReadFile","RenameItem","didReceiveRenameItem","Delete","didReceiveDelete","Exists","didReceiveExists","delete","ready","contents","dataToString","result","onNotify","title","kind","onState","state","onStdout","onStderr","pathSent","pathRecived","emit","replacer","key","value","ArrayBuffer","buffer","Array","node","JSON","parse","internal_jsonReplacer","res","sendMessage","timestamp","Date","now","promiseResolver","resultPromise","Promise","resolve","reject","set","postMessage","mount","path","requestUID","mountByProjectId","projectId","mountRoot","unmount","unmountByProjectId","installPackages","packages","_this6","executeCode","code","_this7","executeFile","fullpath","_this8","stopExecution","signal","_this9","subscribeNotify","enable","undefined","subscribeState","subscribeStdout","subscribeStderr","sendStdin","createDirectory","_this10","readFile","binary","_this11","push","writeFile","_this12","readDirectory","_this13","scanDirectory","recursive","parent","_this14","renameItem","oldpath","newpath","_this15","_this16","exists","_this17","dataToArrayBuffer","encode","timestap","getTime","seed","Math","floor","random","FsService","drivers","registerDriver","driver","getDriver","has","getDriverNames","treeToList","items","queue","dir","shift","concat","folders","EmptyFolder","EmptyFile","factory","ɵfac","providedIn","Tar","unpack","tarball","cb","extract","tarstream","on","stream","next","filetype","filename","split","slice","file","read","dirname","forder","resume","sort","a","b","tarData","write","errr","end","pack","chunks","chunk","byteLength","offset","item","processItems","entry","finalize","b4a","xxhash","load","fetch","arrayBuffer","WebAssembly","instantiate","then","instance","sharedInstance","exports","catch","xxh128","XXH128","GithubApiService","baseUrl","getAccessToken","codeParam","method","json","access_token","localStorage","setItem","getUserData","headers","getItem","login","getRepoList","getRepository","repository","createRepository","getReference","createTree","tree","bodyObj","stringify","body","createCommit","sha","parentCommitsha","updateReference","getRepositoryAsTar","getTar","ProjectLanguage","PyodideProjectEnvironment","compiler","projectsEnvironment","currentProjectEnvId","currentProjectEnv","currentProjectChanged","projectManagerServiceListChanged","PY","subscribe","project","getCurrentProject","id","getCurrentProjectId","isLoaded","onLoaded","getProjectsEnvironment","createProject","projectLanguage","projectEnvironment","setCurrent","getProjectsId","indexOf","Error","oldId","getCurrentDriver","runProject","config","EXTRA_PACKAGES","RUN","addProject","ids","max","store","storedId","min","language","i0","ɵɵinject","i1","CompilerService","ProjectEnvironment","ProjectConfig","defaultConfig","loadConfig","CREATE_EXAMPLES","createExample","saveConfig","save","CONFIG_PATH","configContent","Object","setPrototypeOf","prototype","DEBUG","PROJECT_NAME","PREFERED_LANG","TAL_SERVERS","TAL_SERVER","TAL_PROBLEM","TAL_SERVICE","TAL_TOKEN","DIR_PROJECT","DIR_ATTACHMENTS","DIR_RESULTS","DIR_ARGSFILE","DIR_EXAMPLES","HOTKEY_RUN","HOTKEY_TEST","HOTKEY_SAVE","HOTKEY_EXPORT","CONFIG_NAME","fs","isDefaultProjectName","PyodideExamples","unshift","mainContent","NgZone","xxhash128","Buffer","DemoViewComponent","zone","api","output","ngOnInit","onApiError","refreshOutput","apiProblemList","onSuccess","problemList","req","apiGetAttachment","onAttachment","onAttachmentInfo","onData","GetAttachment","apiConnect","onConnectionBegin","onConnectionStart","onConnectionClose","cmdConnect","apiConnectOld","setTimeout","hashTest","hex","dec","ɵɵdirectiveInject","ApiService","selectors","decls","vars","consts","template","DemoViewComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","DemoViewComponent_Template_button_click_5_listener","DemoViewComponent_Template_button_click_7_listener","DemoViewComponent_Template_button_click_9_listener","DemoViewComponent_Template_button_click_11_listener","DemoViewComponent_Template_button_click_13_listener","ɵɵadvance","ɵɵtextInterpolate","ElementRef","CompilerState","OutputType","CodeEditorComponent_ng_template_2_Template_tal_file_explorer_widget_onUpdateRoot_1_listener","$event","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","onUpdateRoot","CodeEditorComponent_ng_template_2_Template_tal_file_explorer_widget_onSelectFile_1_listener","ctx_r6","selectFile","CodeEditorComponent_ng_template_2_Template_tal_file_explorer_widget_onFileDeleted_1_listener","ctx_r7","onFileDeleted","CodeEditorComponent_ng_template_2_Template_tal_file_explorer_widget_onItemRenamed_1_listener","ctx_r8","onItemRenamed","CodeEditorComponent_ng_template_3_Template_tal_execbar_widget_onStop_2_listener","_r12","ctx_r11","stopAll","CodeEditorComponent_ng_template_3_Template_tal_execbar_widget_onRun_2_listener","ctx_r13","runProjectLocal","CodeEditorComponent_ng_template_3_Template_tal_execbar_widget_onConnect_2_listener","ctx_r14","runConnectAPI","CodeEditorComponent_ng_template_3_Template_tal_file_editor_widget_onChange_8_listener","ctx_r15","editorDidChange","ɵɵproperty","ctx_r1","selectedFile","CodeEditorComponent_ng_template_4_ng_template_1_Template_tal_problem_widget_onAttachments_0_listener","_r20","ctx_r19","onAttachments","CodeEditorComponent_ng_template_4_ng_template_1_Template_tal_problem_widget_onProblemChanged_0_listener","ctx_r21","onProblemChanged","CodeEditorComponent_ng_template_4_ng_template_1_Template_tal_problem_widget_onServiceChanged_0_listener","ctx_r22","onServiceChanged","CodeEditorComponent_ng_template_4_ng_template_1_Template_tal_problem_widget_onProblemListChanged_0_listener","ctx_r23","onProblemListChanged","ɵɵelement","CodeEditorComponent_ng_template_4_ng_template_3_Template_p_tabView_onChange_1_listener","_r31","ctx_r30","changeWidget","ɵɵtemplate","CodeEditorComponent_ng_template_4_ng_template_3_ng_template_3_Template","CodeEditorComponent_ng_template_4_ng_template_3_Template_tal_output_widget_onStdin_4_listener","ctx_r32","CodeEditorComponent_ng_template_4_ng_template_3_ng_template_7_Template","CodeEditorComponent_ng_template_4_ng_template_3_ng_template_11_Template","CodeEditorComponent_ng_template_4_ng_template_3_Template_tal_terminal_widget_onAttachments_12_listener","ctx_r33","CodeEditorComponent_ng_template_4_ng_template_3_Template_tal_terminal_widget_onProblemChanged_12_listener","ctx_r34","ɵɵclassProp","ctx_r17","isBlurred","activeWidget","OutputDisabled","LogApiDisabled","TerminalDisabled","CodeEditorComponent_ng_template_4_ng_template_1_Template","CodeEditorComponent_ng_template_4_ng_template_3_Template","ɵɵpureFunction0","_c7","_c8","CodeEditorComponent","pms","cdRef","messageService","tutorialService","elementRef","hotkeysService","pyodideState","Unknown","pyodideStateContent","apiRun","fsroot","fslist","fslistfile","isPresent","isPresentName","activeIndex","output_files","current_output_file","onTutorialChange","tutorial","isTutorialShown","onTutorialClose","subscribeWorker","document","emitHotkeysEvent","registerHotkeysEvents","getCorrectHotkey","hotkeysAction","emitter","chooseHotkeysAction","outputWidget","clearOutput","saveFile","fileExplorer","export","componentName","setEditorHeight","editorContainer","nativeElement","querySelector","windowHeight","window","innerHeight","newHeight","style","height","ngAfterViewInit","enableStdin","componentElement","ngAfterViewChecked","detectChanges","didNotify","didStateChange","didStdout","didStderr","filter","filePathList","problemWidget","terminalWidget","mainFile","find","print","Init","Success","Killed","apiConnectReset","Stdin","STDERR","fromAPI","msgs","pop","STDINAPI","STDIN","selectedProblem","selectedService","logApiWidget","isActive","addLine","widget","target","_ref","idx","folder","refreshRoot","_x","_x2","apply","arguments","renamedFileIndex","removeItem","filePath","removedFileIndex","Removeindex","index","splice","execBar","fileEditor","changeFile","includes","setActiveIndex","editorDidInput","closeConnection","flashLine","SYSTEM","add","severity","summary","detail","ArgsInvalid","validateArgs","projectConfig","problem","exportArgs","filePaths","exportFilesPaths","fileArgPath","fileArgName","found","didConnectStart","didConnectBegin","didConnectClose","didConnectData","onBinaryHeader","newLogLine","values","didConnectError","i2","i3","i4","ChangeDetectorRef","i5","MessageService","i6","TutorialService","i7","HotkeysService","viewQuery","CodeEditorComponent_Query","CodeEditorComponent_ng_template_2_Template","CodeEditorComponent_ng_template_3_Template","CodeEditorComponent_ng_template_4_Template","ɵɵstyleMap","_c9","_c10","_c11","marked","EditorType","MatchMethod","MatchType","EditorOptions","EditorOptionsMonaco","EditorOptionsBrowser","embedded","mime","FileAssociation","pattern","editorType","None","editorOption","priority","matchMethod","Auto","matchType","parts","ext","matchAll","associations","matches","association","FileAssociationChoiceList","bestMatch","FileEditorWidgetComponent","themeService","fileAssocList","Code","Markdown","Archive","Browser","_selectedFile","onChange","selectEditor","openEditor","markdownBox","markdownPreview","innerHTML","monacoOptions","monacoEditor","updateEditorOptions","browserOptions","iframe","browserEditor","btoa","daraurl","src","shouldHide","monacoEditorDidChange","ThemeService","FileEditorWidgetComponent_Query","FileEditorWidgetComponent_Template_tal_monaco_editor_widget_onChange_15_listener","Image","QueryList","OverlayPanel","GoogleLoginProvider","MicrosoftLoginProvider","ɵɵelementContainer","FileExplorerWidgetComponent_ng_template_27_Template_p_button_onClick_0_listener","_r15","uploadFiles","exportButtonRepoDisabled","FileExplorerWidgetComponent_ng_template_33_Template_p_button_onClick_0_listener","_r17","ctx_r16","importGithubClick","ctx_r2","importButtonRepoDisabled","FileExplorerWidgetComponent_button_46_Template_button_click_0_listener","_r19","ctx_r18","closeAllContextMenus","toggleHidden","FileExplorerWidgetComponent_button_47_Template_button_click_0_listener","_r21","ctx_r20","ɵɵelementContainerStart","ɵɵelementContainerEnd","subfolder_r26","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_div_5_Template_div_click_1_listener","_r35","_r30","ɵɵreference","show","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_ng_template_8_Template_div_click_1_listener","_r37","$implicit","ctx_r36","addNewItem","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_ng_template_8_Template_div_click_5_listener","ctx_r39","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_ng_template_8_Template_div_click_9_listener","folder_r22","ctx_r41","startEditing","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_ng_template_8_Template_div_click_13_listener","ctx_r44","deleteFolderClick","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_Template_div_contextmenu_1_listener","_r47","ctx_r46","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_Template_div_click_2_listener","ctx_r48","selectFolder","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_Template_div_dblclick_2_listener","ctx_r50","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_ng_container_4_Template","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_div_5_Template","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_ng_template_8_Template","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_ng_container_10_Template","ctx_r27","selectedFolder","editingItem","_r10","_r8","ɵɵpureFunction1","_c2","FileExplorerWidgetComponent_ng_template_50_ng_container_1_div_1_Template","isVisibile","FileExplorerWidgetComponent_ng_template_50_ng_container_2_ng_container_1_Template","file_r55","FileExplorerWidgetComponent_ng_template_50_ng_container_3_div_1_div_3_Template_div_click_1_listener","_r63","_r59","FileExplorerWidgetComponent_ng_template_50_ng_container_3_div_1_ng_template_6_Template_div_click_1_listener","_r65","ctx_r64","FileExplorerWidgetComponent_ng_template_50_ng_container_3_div_1_ng_template_6_Template_div_click_5_listener","ctx_r68","deleteFileClick","FileExplorerWidgetComponent_ng_template_50_ng_container_3_div_1_Template_div_contextmenu_0_listener","_r71","ctx_r70","FileExplorerWidgetComponent_ng_template_50_ng_container_3_div_1_Template_div_click_1_listener","ctx_r72","FileExplorerWidgetComponent_ng_template_50_ng_container_3_div_1_Template_div_dblclick_1_listener","ctx_r74","FileExplorerWidgetComponent_ng_template_50_ng_container_3_div_1_ng_container_2_Template","FileExplorerWidgetComponent_ng_template_50_ng_container_3_div_1_div_3_Template","FileExplorerWidgetComponent_ng_template_50_ng_container_3_div_1_ng_template_6_Template","ctx_r56","FileExplorerWidgetComponent_ng_template_50_ng_container_3_div_1_Template","ctx_r25","FileExplorerWidgetComponent_ng_template_50_ng_container_1_Template","FileExplorerWidgetComponent_ng_template_50_ng_container_2_Template","FileExplorerWidgetComponent_ng_template_50_ng_container_3_Template","ctx_r9","newItemFolder","FileExplorerWidgetComponent_ng_template_52_Template_input_ngModelChange_0_listener","_r80","ctx_r79","editingValue","FileExplorerWidgetComponent_ng_template_52_Template_input_blur_0_listener","ctx_r81","saveEditing","FileExplorerWidgetComponent_ng_template_52_Template_input_keyup_enter_0_listener","ctx_r82","FileExplorerWidgetComponent_ng_template_52_Template_input_keyup_esc_0_listener","ctx_r83","cancelEditing","FileExplorerWidgetComponent_ng_template_52_Template_input_input_0_listener","ctx_r84","editItemChange","editingItemError","FileExplorerWidgetComponent_ng_template_54_Template_input_ngModelChange_1_listener","_r87","ctx_r86","newItemValue","FileExplorerWidgetComponent_ng_template_54_Template_input_blur_1_listener","ctx_r88","saveNewItem","FileExplorerWidgetComponent_ng_template_54_Template_input_keyup_enter_1_listener","ctx_r89","FileExplorerWidgetComponent_ng_template_54_Template_input_keyup_esc_1_listener","ctx_r90","cancelNewItem","FileExplorerWidgetComponent_ng_template_54_Template_input_input_1_listener","ctx_r91","newItemChange","newItemError","FileExplorerWidgetComponent","confirmationService","projectManagerService","authService","githubService","rootDir","showHidden","editingItemFolder","newItemType","accessToken","loggedIn","googleLogin","microsoftLogin","exportVisible","importVisible","exportDropDisabled","importDropDisabled","onSelectFile","showHiddenChanged","didProjectChanged","bindCollapseEvent","ImportItems","label","icon","command","originalEvent","downloadGithub","fileUpload","getElementById","click","ExportItems","signIn","authState","user","PROVIDER_ID","onDone","rows","getElementsByClassName","classList","contains","row","handleClickEvent","preventDefault","stopPropagation","newParent","safeCount","parentElement","toggle","panels","p","hide","openSettings","projectFolder","configFile","fsitem","isHidden","startsWith","nameEditingElement","focus","trim","directoryList","existingFile","f","existingFolder","confirm","accept","deleteFile","currentFolder","downloadFiles","deleteFolder","syncFilesystem","newItemNameElement","upload","HTMLInputElement","endsWith","importProject","pathMOD","substring","mode","tarname","triggerDownload","uploadGoogleDrive","uploadOneDrive","uploadGitHub","popupwindow","w","h","left","screen","width","top","open","popupWindow","self","checkURLChange","setInterval","closed","clearInterval","location","href","queryString","search","urlParams","URLSearchParams","close","uploadFile","condition","repo","isPresentRepo","findIndex","reposList","newRepoOwner","newRepoName","selectedRepo","detectInput","object","showToastMessage","replaceProject","_ref2","_x3","bytes","len","String","fromCharCode","commit","enableButton","repoNameHelp","repoLabel","color","repoFound","element","children","folderId","fileMetadata","Authorization","mimeType","formData","FormData","parents","append","authToken","createElement","blob","URL","createObjectURL","display","download","appendChild","removeChild","revokeObjectURL","ConfirmationService","SocialAuthService","FileExplorerWidgetComponent_Query","FileExplorerWidgetComponent_Template_button_click_3_listener","FileExplorerWidgetComponent_Template_button_click_4_listener","FileExplorerWidgetComponent_Template_button_click_6_listener","FileExplorerWidgetComponent_ng_container_8_Template","FileExplorerWidgetComponent_Template_p_dialog_visibleChange_9_listener","FileExplorerWidgetComponent_Template_p_dropdown_onChange_13_listener","FileExplorerWidgetComponent_Template_p_dropdown_ngModelChange_13_listener","FileExplorerWidgetComponent_Template_input_ngModelChange_19_listener","FileExplorerWidgetComponent_Template_input_input_24_listener","FileExplorerWidgetComponent_Template_input_ngModelChange_24_listener","FileExplorerWidgetComponent_ng_template_27_Template","FileExplorerWidgetComponent_Template_p_dialog_visibleChange_28_listener","FileExplorerWidgetComponent_Template_p_dropdown_onChange_32_listener","FileExplorerWidgetComponent_Template_p_dropdown_ngModelChange_32_listener","FileExplorerWidgetComponent_ng_template_33_Template","FileExplorerWidgetComponent_Template_button_click_36_listener","_r92","_r3","FileExplorerWidgetComponent_Template_button_click_40_listener","FileExplorerWidgetComponent_Template_input_change_41_listener","FileExplorerWidgetComponent_button_46_Template","FileExplorerWidgetComponent_button_47_Template","FileExplorerWidgetComponent_Template_button_click_48_listener","FileExplorerWidgetComponent_ng_template_50_Template","ɵɵtemplateRefExtractor","FileExplorerWidgetComponent_ng_template_52_Template","FileExplorerWidgetComponent_ng_template_54_Template","_c3","_c4","_c5","_c6","ApiState","Dropdown","url_r17","cleanupName","option_r18","ctx_r5","option_r19","ProblemWidgetComponent_button_12_Template_button_click_0_listener","reloadProblemList","option_r22","ctx_r10","option_r23","ProblemWidgetComponent_div_27_Template_i_click_3_listener","restoredCtx","_r27","arg_r24","ctx_r26","toggleShowRegex","ProblemWidgetComponent_div_27_Template_input_ngModelChange_8_listener","ProblemWidgetComponent_div_27_Template_input_change_8_listener","ctx_r29","argDidChange","ProblemWidgetComponent_div_27_Template_input_blur_8_listener","ProblemWidgetComponent_div_27_Template_input_focus_8_listener","ctx_r31","argDidFocus","ProblemWidgetComponent_div_27_Template_button_click_10_listener","argDidReset","ProblemWidgetComponent_div_27_Template_div_dblclick_11_listener","toggleRegexFormat","regex","ɵɵtextInterpolate1","default","clenupRegex","option_r38","option_r39","ProblemWidgetComponent_div_34_Template_p_dropdown_onChange_8_listener","_r41","file_r34","ctx_r40","fileDidChange","ProblemWidgetComponent_div_34_Template_p_dropdown_ngModelChange_8_listener","ProblemWidgetComponent_div_34_ng_template_9_Template","ProblemWidgetComponent_div_34_ng_template_10_Template","dropdownOptions","ServiceMenuEntry","descriptor","ProblemMenuEntry","ProblemWidgetComponent","pm","onProblemSelected","onServiceSelected","problemsMenu","servicesMenu","urlCache","urlInputClass","escapeRegEx","regexFormat","showRegex","loading","problemSub","onProblemsChanged","clear","problemsDidChange","subApiState","onApiStateChange","updateState","subProblemError","_","stateBad","lastUrl","updateProblemInfo","updateProjectConfigProblemServiceProblem","onProblemsLoaded","loadProblemServiceConfig","appendTo","getCurrentServerUrl","urlInput","writeValue","ngOnDestroy","unsubscribe","isLoading","refreshFilePathList","getServerList","selectServerURL","changeURL","stateIdle","dot","statusDot","setUrl","stateMaybe","updateProblems","currentProject","getCurrentProblem","updateServiceInfo","problems","getProblems","Idle","stateGood","Good","Maybe","Bad","re","text","replace","RegExp","charAt","toUpperCase","readableRegex","options","last","arg","idPanel","idRegex","panel","HTMLElement","issues","validateArg","idDropdown","dropdown","pathExist","fileDidReset","remove","innerText","selectedArgs","selectedFiles","problemDesc","toLowerCase","didSelectProblem","selectProblem","services","serviceDesc","didSelectService","selectService","apiDownloadAttachment","info","ProblemManagerService","ProblemWidgetComponent_Query","ProblemWidgetComponent_Template_p_dropdown_ngModelChange_2_listener","ProblemWidgetComponent_Template_p_dropdown_onChange_2_listener","ProblemWidgetComponent_ng_template_4_Template","ProblemWidgetComponent_Template_p_dropdown_ngModelChange_8_listener","ProblemWidgetComponent_Template_p_dropdown_onChange_8_listener","ProblemWidgetComponent_ng_template_10_Template","ProblemWidgetComponent_ng_template_11_Template","ProblemWidgetComponent_button_12_Template","ProblemWidgetComponent_button_13_Template","ProblemWidgetComponent_Template_p_dropdown_ngModelChange_15_listener","ProblemWidgetComponent_Template_p_dropdown_onChange_15_listener","ProblemWidgetComponent_ng_template_17_Template","ProblemWidgetComponent_ng_template_18_Template","ProblemWidgetComponent_Template_button_click_19_listener","ProblemWidgetComponent_ng_template_23_Template","ProblemWidgetComponent_div_25_Template","ProblemWidgetComponent_div_27_Template","ProblemWidgetComponent_ng_template_30_Template","ProblemWidgetComponent_div_33_Template","ProblemWidgetComponent_div_34_Template","ɵɵpipeBind1","ParamsMap","ProblemDescriptor","ProblemMap","ServiceDescriptor","ServiceMap","Meta","TerminalWidgetComponent","terminalService","savedParams","onResponseComplete","terminalHistory","terminalHistoryIndex","prompt","commandConnectState","connectParams","commandHandler","sendResponse","commandSplit","HelpMessage","ErrorMessage02","problemSearch","onGetCommand","ErrorMessage07","getListProblems","onConnectCommand","ErrorMessage03","ErrorMessage01","terminalContent","pressedCtrlC","Service","sub","isPresentArg","params","paramAssignment","ErrorMessage08","fromEntries","ErrorMessage04","ErrorMessage05","problemMap","onListCommand","localeCompare","ArrayService","ArrayArg","problemFound","ErrorMessage06","option","subcommand","argument","UndoHistory","my_obj","querySelectorAll","createEvent","initEvent","dispatchEvent","RedoHistory","TerminalService","TerminalApiService","outputs","TerminalWidgetComponent_Template","TerminalWidgetComponent_Template_p_terminal_keyup_control_C_7_listener","TerminalWidgetComponent_Template_p_terminal_keyup_arrowup_7_listener","TerminalWidgetComponent_Template_p_terminal_keyup_arrowdown_7_listener","TerminalWidgetComponent_Template_p_terminal_ngModelChange_7_listener"],"sourceRoot":"webpack:///","x_google_ignoreList":[63]}